(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3700:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(6830)}])},681:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var l=r(5893);r(7294);var n=r(1526),s=r(4538),i=r(9613),a=r.n(i);function o(e){return(0,l.jsx)(n.M,{mode:"wait",children:e.modelVisible&&(0,l.jsx)(s.E.div,{className:a().backdrop,children:(0,l.jsxs)(s.E.div,{className:"relative flex flex-col align-middle items-center justify-evenly w-[90%] h-[50%] sm:w-[65%] md:w-[60%] md:h-[50%] lg:w-[50%] lg:h-[40%] xl:w-[40%] p-3 bg-red-100 rounded-3xl",initial:{opacity:.5},whileInView:{opacity:1},transition:{duration:2},children:[(0,l.jsx)(s.E.div,{className:"relative w-full px-2",children:(0,l.jsx)("h2",{className:"text-center font-semibold text-3xl",children:e.errorMsg})}),(0,l.jsx)(s.E.div,{className:"relative rounded-full px-10 py-3 text-white bg-red-500 text-2xl font-semibold cursor-pointer",onClick:()=>{e.setErrorModel(!1),e.setErrorMessage("")},children:"Okay!"})]})})})}},9244:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var l=r(5893);r(7294);var n=r(1526),s=r(4538),i=r(5675),a=r.n(i),o=r(3742),c=r.n(o);let d={visible:{opacity:1},hidden:{opacity:0}};function u(e){return(0,l.jsx)(n.M,{mode:"wait",children:e.modelVisible&&(0,l.jsx)(s.E.div,{className:c().backdrop,variants:d,initial:"hidden",animate:"visible",children:(0,l.jsx)(s.E.div,{className:"relative flex flex-col align-middle items-center justify-center w-56 h-56 p-5 bg-red-100 rounded-full",initial:{opacity:.5},whileInView:{opacity:1},transition:{duration:2},children:(0,l.jsx)(s.E.div,{className:"relative flex w-full h-full",children:(0,l.jsx)(a(),{src:"/logo.png",alt:"icon",layout:"fill",objectFit:"contain",objectPosition:"left",className:"rounded-full"})})})})})}},6830:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return v},default:function(){return j}});var l=r(5893),n=r(7294),s=r(9008),i=r.n(s),a=r(4538),o=r(5675),c=r.n(o);let d=n.forwardRef(function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),n.createElement("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"}))}),u=n.forwardRef(function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),n.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))});var f=r(1163),m=r(9244),h=r(681),x=r(4652),p=r(8121);let g=async(e,t,r)=>{let l=await fetch("/api/auth/userEmailAuth",{method:"POST",body:JSON.stringify({authType:e,userEmail:t,userPassword:r}),headers:{"Content-Type":"application/json"}}),n=await l.json();return console.log(n),n};function w(e){let t=(0,f.useRouter)(),r=n.useRef(null),s=n.useRef(null),i=n.useRef(null),[o,w]=n.useState(!1),[v,j]=n.useState(!1),[y,b]=n.useState(""),[E,N]=n.useState(!1),[k,R]=n.useState(!0),[S,C]=n.useState(!1),[L,M]=n.useState(!1),[_,P]=n.useState(0);n.useEffect(()=>{let t=setInterval(()=>{let t=(_+Number(1))%e.imagesList.length;P(t)},1750);return()=>clearInterval(t)},[_,e.imagesList.length]);let O=async()=>{let e=await (0,p.oP)();if(e.userCredentials||e.error){if(e.error){console.log("User error: "+e.error);let t=await (0,x.e$)("Google authentication error!");b(String(t)),j(!0)}else w(!0),t.push("/profile")}else b(String(e.message)),j(!0)},z=async e=>{var l,n,a;e.preventDefault(),w(!0);let o=null===(l=r.current)||void 0===l?void 0:l.value,c=null===(n=s.current)||void 0===n?void 0:n.value,d=null===(a=i.current)||void 0===a?void 0:a.value;if(!k&&c!==d){w(!1),b("Password does not match!"),j(!0),console.log("Entered Password does not match");return}try{let e=await g(k?x.Ym:x.kv,o,c);if(console.log("UserResponse"),console.log(e),e.error){w(!1),j(!0);let t=await (0,x.e$)(e.error.code);b(String(t))}else t.push("/profile")}catch(e){w(!1),j(!0),b("Authentication failed!")}};return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(m.Z,{modelVisible:o,setLoadingModel:w}),(0,l.jsx)(h.Z,{errorMsg:y,setErrorMessage:b,modelVisible:v,setErrorModel:j}),(0,l.jsxs)(a.E.div,{className:"relative w-[90%] sm:w-[95%] sm:h-[600px] xl:w-[1150px] flex justify-between shadow-2xl rounded-2xl mt-5 p-5 bg-gray-100",children:[(0,l.jsxs)(a.E.div,{className:"relative flex flex-col w-full sm:w-[50%] h-full items-center justify-center",children:[(0,l.jsx)(a.E.div,{className:"relative w-full mb-2",children:(0,l.jsx)("h2",{className:"text-4xl font-semibold font-serif text-gray-600 text-center",children:k?"Log-in":"Sign-up"})}),(0,l.jsx)(a.E.div,{className:"relative w-full mb-6",children:(0,l.jsx)("p",{className:"font-light text-md text-red-600 text-center",children:"Please enter your credentails"})}),(0,l.jsx)(a.E.div,{className:"relative flex w-full align-middle items-center justify-center",children:(0,l.jsxs)("form",{onSubmit:z,className:"flex flex-col w-full gap-4 align-middle items-center justify-center",action:"",children:[(0,l.jsx)("input",{className:"p-3 rounded-xl border w-full lg:w-[80%] xl:[60%]",type:"text",name:"email",placeholder:"Email",ref:r}),(0,l.jsxs)("div",{className:"relative w-full lg:w-[80%] xl:[60%]",children:[(0,l.jsx)("input",{className:"p-3 rounded-xl border w-full",type:S?"text":"password",name:"password",placeholder:"Password",ref:s}),(0,l.jsx)("div",{onClick:()=>C(!S),className:"absolute right-2 rounded-full bottom-1/4 cursor-pointer",children:S?(0,l.jsx)(d,{className:"relative h-5 w-5 rounded-full"}):(0,l.jsx)(u,{className:"relative h-5 w-5 rounded-full"})})]}),k?(0,l.jsx)("div",{}):(0,l.jsxs)("div",{className:"relative w-full lg:w-[80%] xl:[60%]",children:[(0,l.jsx)("input",{className:"p-3 rounded-xl border w-full",type:L?"text":"password",name:"password",placeholder:"Confirm Password",ref:i}),(0,l.jsx)("div",{onClick:()=>M(!L),className:"absolute right-2 rounded-full bottom-1/4 cursor-pointer",children:L?(0,l.jsx)(d,{className:"relative h-5 w-5 rounded-full"}):(0,l.jsx)(u,{className:"relative h-5 w-5 rounded-full"})})]}),(0,l.jsx)("button",{className:"bg-red-600 py-3 w-[82.5%] md:w-[65%] lg:w-[55%] rounded-3xl items-center text-white font-semibold cursor-pointer shadow-md",children:k?"Log in":"Sign up"})]})}),(0,l.jsxs)(a.E.div,{className:"relative my-5 grid grid-cols-3 items-center align-middle w-full lg:w-[80%] xl:[60%] text-center",children:[(0,l.jsx)("hr",{className:"border-gray-400"}),(0,l.jsx)("p",{className:"text-center",children:"OR"}),(0,l.jsx)("hr",{className:"border-gray-400"})]}),(0,l.jsxs)(a.E.div,{onClick:O,className:"relative flex align-middle items-center justify-center bg-white p-3 w-[82.5%] md:w-[65%] lg:w-[55%] rounded-3xl font-semibold cursor-pointer shadow-md",children:[(0,l.jsx)(c(),{src:"/google-icon.png",alt:"icon",width:25,height:25,className:"mr-2"}),(0,l.jsxs)("button",{className:"text-gray-500",children:[k?"Log-in":"Sign-up"," with Google"]})]}),(0,l.jsx)("div",{className:"relative w-full lg:w-[80%] xl:[60%] my-8",children:(0,l.jsx)("hr",{className:"border-gray-400"})}),(0,l.jsxs)(a.E.div,{className:"relative flex w-full lg:w-[80%] xl:[60%] align-middle items-center justify-between",children:[(0,l.jsx)("div",{children:(0,l.jsx)("p",{className:"text-md text-gray-600",children:k?"Create new account":"Login to your account"})}),(0,l.jsx)("div",{onClick:()=>R(!k),className:"py-1 px-5 rounded-full border-[1px] border-gray-300 bg-white cursor-pointer hover:shadow-md text-gray-500",children:k?"Sign-up":"Log-in"})]})]}),(0,l.jsxs)(a.E.div,{className:"hidden sm:block relative w-[45%] h-full shadow-2xl rounded-lg",children:[(0,l.jsx)(c(),{className:"rounded-lg",src:"".concat(e.imagesList[_].url),alt:"amenity-img",layout:"fill",objectFit:"cover"}),(0,l.jsx)("div",{className:"absolute w-full text-center top-2 bg-slate-200 px-2",children:(0,l.jsx)("h2",{className:"text-2xl font-serif text-center",children:e.imagesList[_].name})})]})]})]})}var v=!0;function j(e){return(0,f.useRouter)(),(0,l.jsxs)(n.Fragment,{children:[(0,l.jsxs)(i(),{children:[(0,l.jsx)("title",{children:"StayBook - Login"}),(0,l.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,l.jsx)("link",{rel:"icon",href:"/images/favicon.png"})]}),(0,l.jsx)("main",{className:"w-screen flex justify-center align-middle items-center",children:(0,l.jsx)(w,{imagesList:e.imagesList})})]})}},9613:function(e){e.exports={backdrop:"ErrorModel_backdrop__X8O7y"}},3742:function(e){e.exports={backdrop:"LoadingModel_backdrop__UnJIE"}},9008:function(e,t,r){e.exports=r(2636)},1526:function(e,t,r){"use strict";r.d(t,{M:function(){return p}});var l=r(7294),n=r(6405),s=r(8868);function i(){let e=(0,l.useRef)(!1);return(0,s.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var a=r(240),o=r(6681);class c extends l.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let r=(0,l.useId)(),n=(0,l.useRef)(null),s=(0,l.useRef)({width:0,height:0,top:0,left:0});return(0,l.useInsertionEffect)(()=>{let{width:e,height:l,top:i,left:a}=s.current;if(t||!n.current||!e||!l)return;n.current.dataset.motionPopId=r;let o=document.createElement("style");return document.head.appendChild(o),o.sheet&&o.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${l}px !important;
            top: ${i}px !important;
            left: ${a}px !important;
          }
        `),()=>{document.head.removeChild(o)}},[t]),l.createElement(c,{isPresent:t,childRef:n,sizeRef:s},l.cloneElement(e,{ref:n}))}let u=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:c})=>{let u=(0,o.h)(f),m=(0,l.useId)(),h=(0,l.useMemo)(()=>({id:m,initial:t,isPresent:r,custom:s,onExitComplete:e=>{for(let t of(u.set(e,!0),u.values()))if(!t)return;n&&n()},register:e=>(u.set(e,!1),()=>u.delete(e))}),i?void 0:[r]);return(0,l.useMemo)(()=>{u.forEach((e,t)=>u.set(t,!1))},[r]),l.useEffect(()=>{r||u.size||!n||n()},[r]),"popLayout"===c&&(e=l.createElement(d,{isPresent:r},e)),l.createElement(a.O.Provider,{value:h},e)};function f(){return new Map}var m=r(5364),h=r(5487);let x=e=>e.key||"",p=({children:e,custom:t,initial:r=!0,onExitComplete:a,exitBeforeEnter:o,presenceAffectsLayout:c=!0,mode:d="sync"})=>{var f;(0,h.k)(!o,"Replace exitBeforeEnter with mode='wait'");let p=(0,l.useContext)(m.p).forceRender||function(){let e=i(),[t,r]=(0,l.useState)(0),s=(0,l.useCallback)(()=>{e.current&&r(t+1)},[t]),a=(0,l.useCallback)(()=>n.Wi.postRender(s),[s]);return[a,t]}()[0],g=i(),w=function(e){let t=[];return l.Children.forEach(e,e=>{(0,l.isValidElement)(e)&&t.push(e)}),t}(e),v=w,j=new Set,y=(0,l.useRef)(v),b=(0,l.useRef)(new Map).current,E=(0,l.useRef)(!0);if((0,s.L)(()=>{E.current=!1,function(e,t){e.forEach(e=>{let r=x(e);t.set(r,e)})}(w,b),y.current=v}),f=()=>{E.current=!0,b.clear(),j.clear()},(0,l.useEffect)(()=>()=>f(),[]),E.current)return l.createElement(l.Fragment,null,v.map(e=>l.createElement(u,{key:x(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:c,mode:d},e)));v=[...v];let N=y.current.map(x),k=w.map(x),R=N.length;for(let e=0;e<R;e++){let t=N[e];-1===k.indexOf(t)&&j.add(t)}return"wait"===d&&j.size&&(v=[]),j.forEach(e=>{if(-1!==k.indexOf(e))return;let r=b.get(e);if(!r)return;let n=N.indexOf(e),s=()=>{b.delete(e),j.delete(e);let t=y.current.findIndex(t=>t.key===e);if(y.current.splice(t,1),!j.size){if(y.current=w,!1===g.current)return;p(),a&&a()}};v.splice(n,0,l.createElement(u,{key:x(r),isPresent:!1,onExitComplete:s,custom:t,presenceAffectsLayout:c,mode:d},r))}),v=v.map(e=>{let t=e.key;return j.has(t)?e:l.createElement(u,{key:x(e),isPresent:!0,presenceAffectsLayout:c,mode:d},e)}),l.createElement(l.Fragment,null,j.size?v:v.map(e=>(0,l.cloneElement)(e)))}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3700)}),_N_E=e.O()}]);