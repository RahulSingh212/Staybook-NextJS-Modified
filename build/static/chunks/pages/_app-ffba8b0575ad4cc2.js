(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{4444:function(e,t,n){"use strict";n.d(t,{BH:function(){return w},L:function(){return u},LL:function(){return O},P0:function(){return g},Pz:function(){return v},Sg:function(){return b},ZR:function(){return x},aH:function(){return y},b$:function(){return k},eu:function(){return C},hl:function(){return D},m9:function(){return U},ne:function(){return j},pd:function(){return N},q4:function(){return m},ru:function(){return T},tV:function(){return c},uI:function(){return S},vZ:function(){return function e(t,n){if(t===n)return!0;let r=Object.keys(t),i=Object.keys(n);for(let s of r){if(!i.includes(s))return!1;let r=t[s],a=n[s];if(M(r)&&M(a)){if(!e(r,a))return!1}else if(r!==a)return!1}for(let e of i)if(!r.includes(e))return!1;return!0}},w1:function(){return E},xO:function(){return R},xb:function(){return I},z$:function(){return _},zd:function(){return A}});var r=n(3454);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):(64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){let s=e[n++],a=e[n++],o=e[n++],l=((7&i)<<18|(63&s)<<12|(63&a)<<6|63&o)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(1023&l))}else{let s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,u=i>>2,c=(3&i)<<4|a>>4,h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):s(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],s=t<e.length,a=s?n[e.charAt(t)]:0;++t;let l=t<e.length,u=l?n[e.charAt(t)]:64;++t;let c=t<e.length,h=c?n[e.charAt(t)]:64;if(++t,null==i||null==a||null==u||null==h)throw new o;let d=i<<2|a>>4;if(r.push(d),64!==u){let e=a<<4&240|u>>2;if(r.push(e),64!==h){let e=u<<6&192|h;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let l=function(e){let t=i(e);return a.encodeByteArray(t,!0)},u=function(e){return l(e).replace(/\./g,"")},c=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},h=()=>/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,d=()=>{if(void 0===r||void 0===r.env)return;let e=r.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},f=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&c(e[1]);return t&&JSON.parse(t)},p=()=>{try{return h()||d()||f()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},m=e=>{var t,n;return null===(n=null===(t=p())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},g=e=>{let t=m(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},y=()=>{var e;return null===(e=p())||void 0===e?void 0:e.config},v=e=>{var t;return null===(t=p())||void 0===t?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u(JSON.stringify({alg:"none",type:"JWT"})),u(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function S(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_())}function T(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function k(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function E(){let e=_();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function D(){try{return"object"==typeof indexedDB}catch(e){return!1}}function C(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}class x extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,x.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O.prototype.create)}}class O{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?i.replace(P,(e,t)=>{let r=n[t];return null!=r?String(r):`<${t}?>`}):"Error",a=`${this.serviceName}: ${s} (${r}).`,o=new x(r,a,n);return o}}let P=/\{\$([^}]+)}/g;function I(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function M(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function A(e){let t={},n=e.replace(/^\?/,"").split("&");return n.forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function N(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function j(e,t){let n=new L(e,t);return n.subscribe.bind(n)}class L{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=F),void 0===r.error&&(r.error=F),void 0===r.complete&&(r.complete=F);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(e){return e&&e._delegate?e._delegate:e}},4184:function(e,t){var n;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var s=typeof n;if("string"===s||"number"===s)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===s){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)r.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0!==(n=(function(){return i}).apply(t,[]))&&(e.exports=n)}()},4941:function(e,t,n){"use strict";var r=n(5077);t.Z=r.default},4314:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var r={};function i(){return r}},7621:function(e,t){"use strict";var n=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},r=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};t.Z={p:r,P:function(e,t){var i,s=e.match(/(P+)(p+)?/)||[],a=s[1],o=s[2];if(!o)return n(e,t);switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",n(a,t)).replace("{{time}}",r(o,t))}}},4262:function(e,t,n){"use strict";function r(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}n.d(t,{Z:function(){return r}})},3276:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9013),i=n(6979),s=n(7032),a=n(3882);function o(e){(0,a.Z)(1,arguments);var t=(0,r.Z)(e);return Math.round(((0,i.Z)(t).getTime()-(function(e){(0,a.Z)(1,arguments);var t=(0,s.Z)(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),(0,i.Z)(n)})(t).getTime())/6048e5)+1}},7032:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9013),i=n(3882),s=n(6979);function a(e){(0,i.Z)(1,arguments);var t=(0,r.Z)(e),n=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(n+1,0,4),a.setUTCHours(0,0,0,0);var o=(0,s.Z)(a),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var u=(0,s.Z)(l);return t.getTime()>=o.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}},5230:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(9013),i=n(9025),s=n(7651),a=n(3882),o=n(3946),l=n(4314);function u(e,t){(0,a.Z)(1,arguments);var n=(0,r.Z)(e);return Math.round(((0,i.Z)(n,t).getTime()-(function(e,t){(0,a.Z)(1,arguments);var n,r,u,c,h,d,f,p,m=(0,l.j)(),g=(0,o.Z)(null!==(n=null!==(r=null!==(u=null!==(c=null==t?void 0:t.firstWeekContainsDate)&&void 0!==c?c:null==t?void 0:null===(h=t.locale)||void 0===h?void 0:null===(d=h.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==u?u:m.firstWeekContainsDate)&&void 0!==r?r:null===(f=m.locale)||void 0===f?void 0:null===(p=f.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==n?n:1),y=(0,s.Z)(e,t),v=new Date(0);return v.setUTCFullYear(y,0,g),v.setUTCHours(0,0,0,0),(0,i.Z)(v,t)})(n,t).getTime())/6048e5)+1}},7651:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(9013),i=n(3882),s=n(9025),a=n(3946),o=n(4314);function l(e,t){(0,i.Z)(1,arguments);var n,l,u,c,h,d,f,p,m=(0,r.Z)(e),g=m.getUTCFullYear(),y=(0,o.j)(),v=(0,a.Z)(null!==(n=null!==(l=null!==(u=null!==(c=null==t?void 0:t.firstWeekContainsDate)&&void 0!==c?c:null==t?void 0:null===(h=t.locale)||void 0===h?void 0:null===(d=h.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==u?u:y.firstWeekContainsDate)&&void 0!==l?l:null===(f=y.locale)||void 0===f?void 0:null===(p=f.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==n?n:1);if(!(v>=1&&v<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(g+1,0,v),w.setUTCHours(0,0,0,0);var b=(0,s.Z)(w,t),_=new Date(0);_.setUTCFullYear(g,0,v),_.setUTCHours(0,0,0,0);var S=(0,s.Z)(_,t);return m.getTime()>=b.getTime()?g+1:m.getTime()>=S.getTime()?g:g-1}},5267:function(e,t,n){"use strict";n.d(t,{Do:function(){return a},Iu:function(){return s},qp:function(){return o}});var r=["D","DD"],i=["YY","YYYY"];function s(e){return -1!==r.indexOf(e)}function a(e){return -1!==i.indexOf(e)}function o(e,t,n){if("YYYY"===e)throw RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}},3882:function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:function(){return r}})},6979:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(9013),i=n(3882);function s(e){(0,i.Z)(1,arguments);var t=(0,r.Z)(e),n=t.getUTCDay();return t.setUTCDate(t.getUTCDate()-((n<1?7:0)+n-1)),t.setUTCHours(0,0,0,0),t}},9025:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9013),i=n(3882),s=n(3946),a=n(4314);function o(e,t){(0,i.Z)(1,arguments);var n,o,l,u,c,h,d,f,p=(0,a.j)(),m=(0,s.Z)(null!==(n=null!==(o=null!==(l=null!==(u=null==t?void 0:t.weekStartsOn)&&void 0!==u?u:null==t?void 0:null===(c=t.locale)||void 0===c?void 0:null===(h=c.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==l?l:p.weekStartsOn)&&void 0!==o?o:null===(d=p.locale)||void 0===d?void 0:null===(f=d.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,r.Z)(e),y=g.getUTCDay();return g.setUTCDate(g.getUTCDate()-((y<m?7:0)+y-m)),g.setUTCHours(0,0,0,0),g}},3946:function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:function(){return r}})},7349:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(3946),i=n(9013),s=n(3882);function a(e,t){(0,s.Z)(2,arguments);var n=(0,i.Z)(e),a=(0,r.Z)(t);return isNaN(a)?new Date(NaN):(a&&n.setDate(n.getDate()+a),n)}},1640:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(3946),i=n(9013),s=n(3882);function a(e,t){(0,s.Z)(2,arguments);var n=(0,i.Z)(e),a=(0,r.Z)(t);if(isNaN(a))return new Date(NaN);if(!a)return n;var o=n.getDate(),l=new Date(n.getTime());return(l.setMonth(n.getMonth()+a+1,0),o>=l.getDate())?l:(n.setFullYear(l.getFullYear(),l.getMonth(),o),n)}},1593:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(3946),i=n(1640),s=n(3882);function a(e,t){(0,s.Z)(2,arguments);var n=(0,r.Z)(t);return(0,i.default)(e,12*n)}},2300:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(4262),i=n(9119),s=n(3882);function a(e,t){(0,s.Z)(2,arguments);var n=(0,i.default)(e),a=(0,i.default)(t);return Math.round((n.getTime()-(0,r.Z)(n)-(a.getTime()-(0,r.Z)(a)))/864e5)}},4129:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(9013),i=n(3882);function s(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),s=(0,r.Z)(t);return 12*(n.getFullYear()-s.getFullYear())+(n.getMonth()-s.getMonth())}},7803:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9013),i=n(2300),s=n(3882);function a(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function o(e,t){(0,s.Z)(2,arguments);var n=(0,r.Z)(e),o=(0,r.Z)(t),l=a(n,o),u=Math.abs((0,i.default)(n,o));n.setDate(n.getDate()-l*u);var c=Number(a(n,o)===-l),h=l*(u-c);return 0===h?0:h}},9005:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(9013),i=n(3882);function s(e,t){(0,i.Z)(1,arguments);var n,s=e||{},a=(0,r.Z)(s.start),o=(0,r.Z)(s.end).getTime();if(!(a.getTime()<=o))throw RangeError("Invalid interval");var l=[];a.setHours(0,0,0,0);var u=Number(null!==(n=null==t?void 0:t.step)&&void 0!==n?n:1);if(u<1||isNaN(u))throw RangeError("`options.step` must be a number greater than 1");for(;a.getTime()<=o;)l.push((0,r.Z)(a)),a.setDate(a.getDate()+u),a.setHours(0,0,0,0);return l}},3894:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(9013),i=n(3882);function s(e){(0,i.Z)(1,arguments);var t=(0,r.Z)(e);return t.setHours(23,59,59,999),t}},4135:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(9013),i=n(3882);function s(e){(0,i.Z)(1,arguments);var t=(0,r.Z)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},7090:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(4314),i=n(9013),s=n(3946),a=n(3882);function o(e,t){(0,a.Z)(1,arguments);var n,o,l,u,c,h,d,f,p=(0,r.j)(),m=(0,s.Z)(null!==(n=null!==(o=null!==(l=null!==(u=null==t?void 0:t.weekStartsOn)&&void 0!==u?u:null==t?void 0:null===(c=t.locale)||void 0===c?void 0:null===(h=c.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==l?l:p.weekStartsOn)&&void 0!==o?o:null===(d=p.locale)||void 0===d?void 0:null===(f=d.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,i.Z)(e),y=g.getDay();return g.setDate(g.getDate()+((y<m?-7:0)+6-(y-m))),g.setHours(23,59,59,999),g}},2298:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(1436),i=n(2234),s=n(9013),a=n(3882),o=n(3276),l=n(7032),u=n(5230),c=n(7651);function h(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return(e<0?"-":"")+n}var d={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return h("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):h(n+1,2)},d:function(e,t){return h(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return h(e.getUTCHours()%12||12,t.length)},H:function(e,t){return h(e.getUTCHours(),t.length)},m:function(e,t){return h(e.getUTCMinutes(),t.length)},s:function(e,t){return h(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length;return h(Math.floor(e.getUTCMilliseconds()*Math.pow(10,n-3)),t.length)}},f={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"};function p(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),s=r%60;return 0===s?n+String(i):n+String(i)+(t||"")+h(s,2)}function m(e,t){return e%60==0?(e>0?"-":"+")+h(Math.abs(e)/60,2):g(e,t)}function g(e,t){var n=Math.abs(e);return(e>0?"-":"+")+h(Math.floor(n/60),2)+(t||"")+h(n%60,2)}var y={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear();return n.ordinalNumber(r>0?r:1-r,{unit:"year"})}return d.y(e,t)},Y:function(e,t,n,r){var i=(0,c.Z)(e,r),s=i>0?i:1-i;return"YY"===t?h(s%100,2):"Yo"===t?n.ordinalNumber(s,{unit:"year"}):h(s,t.length)},R:function(e,t){return h((0,l.Z)(e),t.length)},u:function(e,t){return h(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return h(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return h(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return d.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return h(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=(0,u.Z)(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):h(i,t.length)},I:function(e,t,n){var r=(0,o.Z)(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):h(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):d.d(e,t)},D:function(e,t,n){var r=function(e){(0,a.Z)(1,arguments);var t=(0,s.Z)(e),n=t.getTime();return t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),Math.floor((n-t.getTime())/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):h(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return h(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return h(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return h(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?f.noon:0===i?f.midnight:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?f.evening:i>=12?f.afternoon:i>=4?f.morning:f.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return d.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):d.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):h(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return(0===r&&(r=24),"ko"===t)?n.ordinalNumber(r,{unit:"hour"}):h(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):d.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):d.s(e,t)},S:function(e,t){return d.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return m(i);case"XXXX":case"XX":return g(i);default:return g(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return m(i);case"xxxx":case"xx":return g(i);default:return g(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+p(i,":");default:return"GMT"+g(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+p(i,":");default:return"GMT"+g(i,":")}},t:function(e,t,n,r){return h(Math.floor((r._originalDate||e).getTime()/1e3),t.length)},T:function(e,t,n,r){return h((r._originalDate||e).getTime(),t.length)}},v=n(7621),w=n(4262),b=n(5267),_=n(3946),S=n(4314),T=n(4941),k=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,E=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,D=/^'([^]*?)'?$/,C=/''/g,x=/[a-zA-Z]/;function O(e,t,n){(0,a.Z)(2,arguments);var o,l,u,c,h,d,f,p,m,g,O,P,I,M,R,A,N,j,L=String(t),F=(0,S.j)(),U=null!==(o=null!==(l=null==n?void 0:n.locale)&&void 0!==l?l:F.locale)&&void 0!==o?o:T.Z,V=(0,_.Z)(null!==(u=null!==(c=null!==(h=null!==(d=null==n?void 0:n.firstWeekContainsDate)&&void 0!==d?d:null==n?void 0:null===(f=n.locale)||void 0===f?void 0:null===(p=f.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==h?h:F.firstWeekContainsDate)&&void 0!==c?c:null===(m=F.locale)||void 0===m?void 0:null===(g=m.options)||void 0===g?void 0:g.firstWeekContainsDate)&&void 0!==u?u:1);if(!(V>=1&&V<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=(0,_.Z)(null!==(O=null!==(P=null!==(I=null!==(M=null==n?void 0:n.weekStartsOn)&&void 0!==M?M:null==n?void 0:null===(R=n.locale)||void 0===R?void 0:null===(A=R.options)||void 0===A?void 0:A.weekStartsOn)&&void 0!==I?I:F.weekStartsOn)&&void 0!==P?P:null===(N=F.locale)||void 0===N?void 0:null===(j=N.options)||void 0===j?void 0:j.weekStartsOn)&&void 0!==O?O:0);if(!(B>=0&&B<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!U.localize)throw RangeError("locale must contain localize property");if(!U.formatLong)throw RangeError("locale must contain formatLong property");var W=(0,s.Z)(e);if(!(0,r.default)(W))throw RangeError("Invalid time value");var Y=(0,w.Z)(W),H=(0,i.Z)(W,Y),z={firstWeekContainsDate:V,weekStartsOn:B,locale:U,_originalDate:W};return L.match(E).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,v.Z[t])(e,U.formatLong):e}).join("").match(k).map(function(r){if("''"===r)return"'";var i,s=r[0];if("'"===s)return(i=r.match(D))?i[1].replace(C,"'"):r;var a=y[s];if(a)return!(null!=n&&n.useAdditionalWeekYearTokens)&&(0,b.Do)(r)&&(0,b.qp)(r,t,String(e)),!(null!=n&&n.useAdditionalDayOfYearTokens)&&(0,b.Iu)(r)&&(0,b.qp)(r,t,String(e)),a(H,r,U.localize,z);if(s.match(x))throw RangeError("Format string contains an unescaped latin alphabet character `"+s+"`");return r}).join("")}},2699:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(9013),i=n(3882);function s(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),s=(0,r.Z)(t);return n.getTime()>s.getTime()}},313:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(9013),i=n(3882);function s(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),s=(0,r.Z)(t);return n.getTime()<s.getTime()}},6843:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(9013),i=n(3882);function s(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),s=(0,r.Z)(t);return n.getTime()===s.getTime()}},3151:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(9119),i=n(3882);function s(e,t){(0,i.Z)(2,arguments);var n=(0,r.default)(e),s=(0,r.default)(t);return n.getTime()===s.getTime()}},9160:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(9013),i=n(3882);function s(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e),s=(0,r.Z)(t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}},1436:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(1002),i=n(3882),s=n(9013);function a(e){return(0,i.Z)(1,arguments),(!!function(e){return(0,i.Z)(1,arguments),e instanceof Date||"object"===(0,r.Z)(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)||"number"==typeof e)&&!isNaN(Number((0,s.Z)(e)))}},9317:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(9013),i=n(3882);function s(e){(0,i.Z)(1,arguments);var t=(0,r.Z)(e).getDay();return 0===t||6===t}},4257:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(9013),i=n(3882);function s(e,t){(0,i.Z)(2,arguments);var n=(0,r.Z)(e).getTime(),s=(0,r.Z)(t.start).getTime(),a=(0,r.Z)(t.end).getTime();if(!(s<=a))throw RangeError("Invalid interval");return n>=s&&n<=a}},5077:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var r,i={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function s(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var a={date:s({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:s({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:s({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},o={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function l(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=null!=n&&n.width?String(n.width):i;r=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,o=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[o]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function u(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;var o=a[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(l,function(e){return e.test(o)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(l,function(e){return e.test(o)});return n=e.valueCallback?e.valueCallback(u):u,{value:n=r.valueCallback?r.valueCallback(n):n,rest:t.slice(o.length)}}}var c={code:"en-US",formatDistance:function(e,t,n){var r,s=i[e];return(r="string"==typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix)?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:a,formatRelative:function(e,t,n,r){return o[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:l({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:l({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:l({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:l({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:l({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(r={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(r.matchPattern);if(!n)return null;var i=n[0],s=e.match(r.parsePattern);if(!s)return null;var a=r.valueCallback?r.valueCallback(s[0]):s[0];return{value:a=t.valueCallback?t.valueCallback(a):a,rest:e.slice(i.length)}}),era:u({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:u({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:u({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:u({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:u({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},9890:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(1002),i=n(9013),s=n(3882);function a(e){var t,n;if((0,s.Z)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!==(0,r.Z)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach(function(e){var t=(0,i.Z)(e);(void 0===n||n<t||isNaN(Number(t)))&&(n=t)}),n||new Date(NaN)}},7950:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(1002),i=n(9013),s=n(3882);function a(e){var t,n;if((0,s.Z)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!==(0,r.Z)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach(function(e){var t=(0,i.Z)(e);(void 0===n||n>t||isNaN(t.getDate()))&&(n=t)}),n||new Date(NaN)}},4037:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eM}});var r=n(1002);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}var a=n(4941),o=n(2234),l=n(9013),u=n(7621),c=n(4262),h=n(5267),d=n(3946),f=n(3882);function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=y(e);if(t){var s=y(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===(0,r.Z)(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,n)}}function w(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function b(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function S(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(){function e(){w(this,e),T(this,"priority",void 0),T(this,"subPriority",0)}return S(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),E=function(e){g(n,e);var t=v(n);function n(e,r,i,s,a){var o;return w(this,n),(o=t.call(this)).value=e,o.validateValue=r,o.setValue=i,o.priority=s,a&&(o.subPriority=a),o}return S(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(k),D=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",10),T(p(e),"subPriority",-1),e}return S(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(k),C=function(){function e(){w(this,e),T(this,"incompatibleTokens",void 0),T(this,"priority",void 0),T(this,"subPriority",void 0)}return S(e,[{key:"run",value:function(e,t,n,r){var i=this.parse(e,t,n,r);return i?{setter:new E(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),x=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",140),T(p(e),"incompatibleTokens",["R","u","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(C),O={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},P={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function I(e,t){return e?{value:t(e.value),rest:e.rest}:e}function M(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function R(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*((n[2]?parseInt(n[2],10):0)*36e5+(n[3]?parseInt(n[3],10):0)*6e4+(n[5]?parseInt(n[5],10):0)*1e3),rest:t.slice(n[0].length)}:null}function A(e){return M(O.anyDigitsSigned,e)}function N(e,t){switch(e){case 1:return M(O.singleDigit,t);case 2:return M(O.twoDigits,t);case 3:return M(O.threeDigits,t);case 4:return M(O.fourDigits,t);default:return M(RegExp("^\\d{1,"+e+"}"),t)}}function j(e,t){switch(e){case 1:return M(O.singleDigitSigned,t);case 2:return M(O.twoDigitsSigned,t);case 3:return M(O.threeDigitsSigned,t);case 4:return M(O.fourDigitsSigned,t);default:return M(RegExp("^-?\\d{1,"+e+"}"),t)}}function L(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function F(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var s=i+50;n=e+100*Math.floor(s/100)-(e>=s%100?100:0)}return r?n:1-n}function U(e){return e%400==0||e%4==0&&e%100!=0}var V=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",130),T(p(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return I(N(4,e),r);case"yo":return I(n.ordinalNumber(e,{unit:"year"}),r);default:return I(N(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var i=F(n.year,r);return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}var s="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(s,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(C),B=n(7651),W=n(9025),Y=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",130),T(p(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return I(N(4,e),r);case"Yo":return I(n.ordinalNumber(e,{unit:"year"}),r);default:return I(N(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var i=(0,B.Z)(e,r);if(n.isTwoDigitYear){var s=F(n.year,i);return e.setUTCFullYear(s,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,W.Z)(e,r)}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,W.Z)(e,r)}}]),n}(C),H=n(6979),z=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",130),T(p(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t){return"R"===t?j(4,e):j(t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),(0,H.Z)(r)}}]),n}(C),q=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",130),T(p(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t){return"u"===t?j(4,e):j(t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(C),$=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",120),T(p(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return N(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth((n-1)*3,1),e.setUTCHours(0,0,0,0),e}}]),n}(C),G=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",120),T(p(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return N(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth((n-1)*3,1),e.setUTCHours(0,0,0,0),e}}]),n}(C),Z=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),T(p(e),"priority",110),e}return S(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return I(M(O.month,e),r);case"MM":return I(N(2,e),r);case"Mo":return I(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(C),K=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",110),T(p(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return I(M(O.month,e),r);case"LL":return I(N(2,e),r);case"Lo":return I(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(C),Q=n(5230),X=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",100),T(p(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return M(O.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return N(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return(0,W.Z)(function(e,t,n){(0,f.Z)(2,arguments);var r=(0,l.Z)(e),i=(0,d.Z)(t),s=(0,Q.Z)(r,n)-i;return r.setUTCDate(r.getUTCDate()-7*s),r}(e,n,r),r)}}]),n}(C),J=n(3276),ee=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",100),T(p(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return M(O.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return N(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return(0,H.Z)(function(e,t){(0,f.Z)(2,arguments);var n=(0,l.Z)(e),r=(0,d.Z)(t),i=(0,J.Z)(n)-r;return n.setUTCDate(n.getUTCDate()-7*i),n}(e,n))}}]),n}(C),et=[31,28,31,30,31,30,31,31,30,31,30,31],en=[31,29,31,30,31,30,31,31,30,31,30,31],er=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",90),T(p(e),"subPriority",1),T(p(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return M(O.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return N(t.length,e)}}},{key:"validate",value:function(e,t){var n=U(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=en[r]:t>=1&&t<=et[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(C),ei=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",90),T(p(e),"subpriority",1),T(p(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return M(O.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return N(t.length,e)}}},{key:"validate",value:function(e,t){return U(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(C),es=n(4314);function ea(e,t,n){(0,f.Z)(2,arguments);var r,i,s,a,o,u,c,h,p=(0,es.j)(),m=(0,d.Z)(null!==(r=null!==(i=null!==(s=null!==(a=null==n?void 0:n.weekStartsOn)&&void 0!==a?a:null==n?void 0:null===(o=n.locale)||void 0===o?void 0:null===(u=o.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==s?s:p.weekStartsOn)&&void 0!==i?i:null===(c=p.locale)||void 0===c?void 0:null===(h=c.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==r?r:0);if(!(m>=0&&m<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,l.Z)(e),y=(0,d.Z)(t),v=g.getUTCDay();return g.setUTCDate(g.getUTCDate()+(((y%7+7)%7<m?7:0)+y-v)),g}var eo=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",90),T(p(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=ea(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(C),el=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",90),T(p(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){return(e+r.weekStartsOn+6)%7+7*Math.floor((e-1)/7)};switch(t){case"e":case"ee":return I(N(t.length,e),i);case"eo":return I(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=ea(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(C),eu=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",90),T(p(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){return(e+r.weekStartsOn+6)%7+7*Math.floor((e-1)/7)};switch(t){case"c":case"cc":return I(N(t.length,e),i);case"co":return I(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=ea(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(C),ec=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",90),T(p(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return N(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return I(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return I(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return I(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return I(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return(e=function(e,t){(0,f.Z)(2,arguments);var n=(0,d.Z)(t);n%7==0&&(n-=7);var r=(0,l.Z)(e),i=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+i),r}(e,n)).setUTCHours(0,0,0,0),e}}]),n}(C),eh=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",80),T(p(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(L(n),0,0,0),e}}]),n}(C),ed=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",80),T(p(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(L(n),0,0,0),e}}]),n}(C),ef=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",80),T(p(e),"incompatibleTokens",["a","b","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(L(n),0,0,0),e}}]),n}(C),ep=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",70),T(p(e),"incompatibleTokens",["H","K","k","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return M(O.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return N(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(C),em=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",70),T(p(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return M(O.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return N(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(C),eg=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",70),T(p(e),"incompatibleTokens",["h","H","k","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return M(O.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return N(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(C),ey=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",70),T(p(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return M(O.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return N(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){return e.setUTCHours(n<=24?n%24:n,0,0,0),e}}]),n}(C),ev=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",60),T(p(e),"incompatibleTokens",["t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return M(O.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return N(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(C),ew=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",50),T(p(e),"incompatibleTokens",["t","T"]),e}return S(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return M(O.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return N(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(C),eb=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",30),T(p(e),"incompatibleTokens",["t","T"]),e}return S(n,[{key:"parse",value:function(e,t){return I(N(t.length,e),function(e){return Math.floor(e*Math.pow(10,-t.length+3))})}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(C),e_=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",10),T(p(e),"incompatibleTokens",["t","T","x"]),e}return S(n,[{key:"parse",value:function(e,t){switch(t){case"X":return R(P.basicOptionalMinutes,e);case"XX":return R(P.basic,e);case"XXXX":return R(P.basicOptionalSeconds,e);case"XXXXX":return R(P.extendedOptionalSeconds,e);default:return R(P.extended,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(C),eS=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",10),T(p(e),"incompatibleTokens",["t","T","X"]),e}return S(n,[{key:"parse",value:function(e,t){switch(t){case"x":return R(P.basicOptionalMinutes,e);case"xx":return R(P.basic,e);case"xxxx":return R(P.basicOptionalSeconds,e);case"xxxxx":return R(P.extendedOptionalSeconds,e);default:return R(P.extended,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(C),eT=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",40),T(p(e),"incompatibleTokens","*"),e}return S(n,[{key:"parse",value:function(e){return A(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(C),ek=function(e){g(n,e);var t=v(n);function n(){var e;w(this,n);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return T(p(e=t.call.apply(t,[this].concat(i))),"priority",20),T(p(e),"incompatibleTokens","*"),e}return S(n,[{key:"parse",value:function(e){return A(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(C),eE={G:new x,y:new V,Y:new Y,R:new z,u:new q,Q:new $,q:new G,M:new Z,L:new K,w:new X,I:new ee,d:new er,D:new ei,E:new eo,e:new el,c:new eu,i:new ec,a:new eh,b:new ed,B:new ef,h:new ep,H:new em,K:new eg,k:new ey,m:new ev,s:new ew,S:new eb,X:new e_,x:new eS,t:new eT,T:new ek},eD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ex=/^'([^]*?)'?$/,eO=/''/g,eP=/\S/,eI=/[a-zA-Z]/;function eM(e,t,n,i){(0,f.Z)(3,arguments);var p=String(e),m=String(t),g=(0,es.j)(),y=null!==(b=null!==(_=null==i?void 0:i.locale)&&void 0!==_?_:g.locale)&&void 0!==b?b:a.Z;if(!y.match)throw RangeError("locale must contain match property");var v=(0,d.Z)(null!==(S=null!==(T=null!==(k=null!==(E=null==i?void 0:i.firstWeekContainsDate)&&void 0!==E?E:null==i?void 0:null===(C=i.locale)||void 0===C?void 0:null===(x=C.options)||void 0===x?void 0:x.firstWeekContainsDate)&&void 0!==k?k:g.firstWeekContainsDate)&&void 0!==T?T:null===(O=g.locale)||void 0===O?void 0:null===(P=O.options)||void 0===P?void 0:P.firstWeekContainsDate)&&void 0!==S?S:1);if(!(v>=1&&v<=7))throw RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=(0,d.Z)(null!==(I=null!==(M=null!==(R=null!==(A=null==i?void 0:i.weekStartsOn)&&void 0!==A?A:null==i?void 0:null===(N=i.locale)||void 0===N?void 0:null===(j=N.options)||void 0===j?void 0:j.weekStartsOn)&&void 0!==R?R:g.weekStartsOn)&&void 0!==M?M:null===(L=g.locale)||void 0===L?void 0:null===(F=L.options)||void 0===F?void 0:F.weekStartsOn)&&void 0!==I?I:0);if(!(w>=0&&w<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===m)return""===p?(0,l.Z)(n):new Date(NaN);var b,_,S,T,k,E,C,x,O,P,I,M,R,A,N,j,L,F,U,V={firstWeekContainsDate:v,weekStartsOn:w,locale:y},B=[new D],W=m.match(eC).map(function(e){var t=e[0];return t in u.Z?(0,u.Z[t])(e,y.formatLong):e}).join("").match(eD),Y=[],H=s(W);try{for(H.s();!(U=H.n()).done;){var z=function(){var t=U.value;!(null!=i&&i.useAdditionalWeekYearTokens)&&(0,h.Do)(t)&&(0,h.qp)(t,m,e),!(null!=i&&i.useAdditionalDayOfYearTokens)&&(0,h.Iu)(t)&&(0,h.qp)(t,m,e);var n=t[0],r=eE[n];if(r){var s=r.incompatibleTokens;if(Array.isArray(s)){var a=Y.find(function(e){return s.includes(e.token)||e.token===n});if(a)throw RangeError("The format string mustn't contain `".concat(a.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===r.incompatibleTokens&&Y.length>0)throw RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));Y.push({token:n,fullToken:t});var o=r.run(p,t,y.match,V);if(!o)return{v:new Date(NaN)};B.push(o.setter),p=o.rest}else{if(n.match(eI))throw RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=t.match(ex)[1].replace(eO,"'")),0!==p.indexOf(t))return{v:new Date(NaN)};p=p.slice(t.length)}}();if("object"===(0,r.Z)(z))return z.v}}catch(e){H.e(e)}finally{H.f()}if(p.length>0&&eP.test(p))return new Date(NaN);var q=B.map(function(e){return e.priority}).sort(function(e,t){return t-e}).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(e){return B.filter(function(t){return t.priority===e}).sort(function(e,t){return t.subPriority-e.subPriority})}).map(function(e){return e[0]}),$=(0,l.Z)(n);if(isNaN($.getTime()))return new Date(NaN);var G,Z=(0,o.Z)($,(0,c.Z)($)),K={},Q=s(q);try{for(Q.s();!(G=Q.n()).done;){var X=G.value;if(!X.validate(Z,V))return new Date(NaN);var J=X.set(Z,K,V);Array.isArray(J)?(Z=J[0],function(e,t){if(null==e)throw TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(K,J[1])):Z=J}}catch(e){Q.e(e)}finally{Q.f()}return Z}},6218:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(3946),i=n(9013),s=n(3882);function a(e,t){(0,s.Z)(2,arguments);var n=(0,i.Z)(e),a=(0,r.Z)(t),o=n.getFullYear(),l=n.getDate(),u=new Date(0);u.setFullYear(o,a,15),u.setHours(0,0,0,0);var c=function(e){(0,s.Z)(1,arguments);var t=(0,i.Z)(e),n=t.getFullYear(),r=t.getMonth(),a=new Date(0);return a.setFullYear(n,r+1,0),a.setHours(0,0,0,0),a.getDate()}(u);return n.setMonth(a,Math.min(l,c)),n}},4749:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(3946),i=n(9013),s=n(3882);function a(e,t){(0,s.Z)(2,arguments);var n=(0,i.Z)(e),a=(0,r.Z)(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(a),n)}},9119:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(9013),i=n(3882);function s(e){(0,i.Z)(1,arguments);var t=(0,r.Z)(e);return t.setHours(0,0,0,0),t}},3703:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(9013),i=n(3882);function s(e){(0,i.Z)(1,arguments);var t=(0,r.Z)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},584:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(9013),i=n(3946),s=n(3882),a=n(4314);function o(e,t){(0,s.Z)(1,arguments);var n,o,l,u,c,h,d,f,p=(0,a.j)(),m=(0,i.Z)(null!==(n=null!==(o=null!==(l=null!==(u=null==t?void 0:t.weekStartsOn)&&void 0!==u?u:null==t?void 0:null===(c=t.locale)||void 0===c?void 0:null===(h=c.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==l?l:p.weekStartsOn)&&void 0!==o?o:null===(d=p.locale)||void 0===d?void 0:null===(f=d.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==n?n:0);if(!(m>=0&&m<=6))throw RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,r.Z)(e),y=g.getDay();return g.setDate(g.getDate()-((y<m?7:0)+y-m)),g.setHours(0,0,0,0),g}},2234:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3946),i=n(9013),s=n(3882);function a(e,t){return(0,s.Z)(2,arguments),function(e,t){(0,s.Z)(2,arguments);var n=(0,i.Z)(e).getTime(),a=(0,r.Z)(t);return new Date(n+a)}(e,-(0,r.Z)(t))}},4559:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(3946),i=n(1640),s=n(3882);function a(e,t){(0,s.Z)(2,arguments);var n=(0,r.Z)(t);return(0,i.default)(e,-n)}},9013:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1002),i=n(3882);function s(e){(0,i.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,r.Z)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}},381:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";function t(){return G.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){var t;if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(t in e)if(i(e,t))return!1;return!0}function a(e){return void 0===e}function o(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function c(e,t){for(var n in t)i(t,n)&&(e[n]=t[n]);return i(t,"toString")&&(e.toString=t.toString),i(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return tr(e,t,n,r,!0).utc()}function d(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function f(e){if(null==e._isValid){var t=d(e),n=Z.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function p(e){var t=h(NaN);return null!=e?c(d(t),e):d(t).userInvalidated=!0,t}Z=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var m,g,y=t.momentProperties=[],v=!1;function w(e,t){var n,r,i,s=y.length;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=d(t)),a(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)a(i=t[r=y[n]])||(e[r]=i);return e}function b(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,t.updateOffset(this),v=!1)}function _(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function S(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,n){var r=!0;return c(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),r){var s,a,o,l=[],u=arguments.length;for(a=0;a<u;a++){if(s="","object"==typeof arguments[a]){for(o in s+="\n["+a+"] ",arguments[0])i(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[a];l.push(s)}S(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+Error().stack),r=!1}return n.apply(this,arguments)},n)}var k={};function E(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),k[e]||(S(n),k[e]=!0)}function D(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function C(e,t){var n,s=c({},e);for(n in t)i(t,n)&&(r(e[n])&&r(t[n])?(s[n]={},c(s[n],e[n]),c(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);for(n in e)i(e,n)&&!i(t,n)&&r(e[n])&&(s[n]=c({},s[n]));return s}function x(e){null!=e&&this.set(e)}function O(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null,K=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)i(e,t)&&n.push(t);return n};var P=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,M={},R={};function A(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(R[e]=i),t&&(R[t[0]]=function(){return O(i.apply(this,arguments),t[1],t[2])}),n&&(R[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function N(e,t){return e.isValid()?(M[t=j(t,e.localeData())]=M[t]||function(e){var t,n,r,i=e.match(P);for(n=0,r=i.length;n<r;n++)R[i[n]]?i[n]=R[i[n]]:i[n]=(t=i[n]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){var n,s="";for(n=0;n<r;n++)s+=D(i[n])?i[n].call(t,e):i[n];return s}}(t),M[t](e)):e.localeData().invalidDate()}function j(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(I.lastIndex=0;n>=0&&I.test(e);)e=e.replace(I,r),I.lastIndex=0,n-=1;return e}var L={};function F(e,t){var n=e.toLowerCase();L[n]=L[n+"s"]=L[t]=e}function U(e){return"string"==typeof e?L[e]||L[e.toLowerCase()]:void 0}function V(e){var t,n,r={};for(n in e)i(e,n)&&(t=U(n))&&(r[t]=e[n]);return r}var B={};function W(e){return e%4==0&&e%100!=0||e%400==0}function Y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function H(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Y(t)),n}function z(e,n){return function(r){return null!=r?($(this,e,r),t.updateOffset(this,n),this):q(this,e)}}function q(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function $(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&W(e.year())&&1===e.month()&&29===e.date()?(n=H(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ew(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var G,Z,K,Q,X=/\d/,J=/\d\d/,ee=/\d{3}/,et=/\d{4}/,en=/[+-]?\d{6}/,er=/\d\d?/,ei=/\d\d\d\d?/,es=/\d\d\d\d\d\d?/,ea=/\d{1,3}/,eo=/\d{1,4}/,el=/[+-]?\d{1,6}/,eu=/\d+/,ec=/[+-]?\d+/,eh=/Z|[+-]\d\d:?\d\d/gi,ed=/Z|[+-]\d\d(?::?\d\d)?/gi,ef=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function ep(e,t,n){Q[e]=D(t)?t:function(e,r){return e&&n?n:t}}function em(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Q={};var eg={};function ey(e,t){var n,r,i=t;for("string"==typeof e&&(e=[e]),o(t)&&(i=function(e,n){n[t]=H(e)}),r=e.length,n=0;n<r;n++)eg[e[n]]=i}function ev(e,t){ey(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ew(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1===n?W(e)?29:28:31-n%7%2}eB=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return -1},A("M",["MM",2],"Mo",function(){return this.month()+1}),A("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),A("MMMM",0,0,function(e){return this.localeData().months(this,e)}),F("month","M"),B.month=8,ep("M",er),ep("MM",er,J),ep("MMM",function(e,t){return t.monthsShortRegex(e)}),ep("MMMM",function(e,t){return t.monthsRegex(e)}),ey(["M","MM"],function(e,t){t[1]=H(e)-1}),ey(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[1]=i:d(n).invalidMonth=e});var eb="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),e_=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;function eS(e,t,n){var r,i,s,a=e.toLocaleLowerCase();if(!this._monthsParse)for(r=0,this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[];r<12;++r)s=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=eB.call(this._shortMonthsParse,a))?i:null:-1!==(i=eB.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=eB.call(this._shortMonthsParse,a))?i:-1!==(i=eB.call(this._longMonthsParse,a))?i:null:-1!==(i=eB.call(this._longMonthsParse,a))?i:-1!==(i=eB.call(this._shortMonthsParse,a))?i:null}function eT(e,t){var n;if(!e.isValid())return e;if("string"==typeof t){if(/^\d+$/.test(t))t=H(t);else if(!o(t=e.localeData().monthsParse(t)))return e}return n=Math.min(e.date(),ew(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ek(e){return null!=e?(eT(this,e),t.updateOffset(this,!0),this):q(this,"Month")}function eE(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],s=[];for(t=0;t<12;t++)n=h([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),s.sort(e),t=0;t<12;t++)r[t]=em(r[t]),i[t]=em(i[t]);for(t=0;t<24;t++)s[t]=em(s[t]);this._monthsRegex=RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=RegExp("^("+r.join("|")+")","i")}function eD(e){return W(e)?366:365}A("Y",0,0,function(){var e=this.year();return e<=9999?O(e,4):"+"+e}),A(0,["YY",2],0,function(){return this.year()%100}),A(0,["YYYY",4],0,"year"),A(0,["YYYYY",5],0,"year"),A(0,["YYYYYY",6,!0],0,"year"),F("year","y"),B.year=1,ep("Y",ec),ep("YY",er,J),ep("YYYY",eo,et),ep("YYYYY",el,en),ep("YYYYYY",el,en),ey(["YYYYY","YYYYYY"],0),ey("YYYY",function(e,n){n[0]=2===e.length?t.parseTwoDigitYear(e):H(e)}),ey("YY",function(e,n){n[0]=t.parseTwoDigitYear(e)}),ey("Y",function(e,t){t[0]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return H(e)+(H(e)>68?1900:2e3)};var eC=z("FullYear",!0);function ex(e,t,n,r,i,s,a){var o;return e<100&&e>=0?isFinite((o=new Date(e+400,t,n,r,i,s,a)).getFullYear())&&o.setFullYear(e):o=new Date(e,t,n,r,i,s,a),o}function eO(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,isFinite((t=new Date(Date.UTC.apply(null,n))).getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function eP(e,t,n){var r=7+t-n;return-((7+eO(e,0,r).getUTCDay()-t)%7)+r-1}function eI(e,t,n,r,i){var s,a,o=eP(e,r,i),l=1+7*(t-1)+(7+n-r)%7+o;return l<=0?a=eD(s=e-1)+l:l>eD(e)?(s=e+1,a=l-eD(e)):(s=e,a=l),{year:s,dayOfYear:a}}function eM(e,t,n){var r,i,s=eP(e.year(),t,n),a=Math.floor((e.dayOfYear()-s-1)/7)+1;return a<1?r=a+eR(i=e.year()-1,t,n):a>eR(e.year(),t,n)?(r=a-eR(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function eR(e,t,n){var r=eP(e,t,n),i=eP(e+1,t,n);return(eD(e)-r+i)/7}function eA(e,t){return e.slice(t,7).concat(e.slice(0,t))}A("w",["ww",2],"wo","week"),A("W",["WW",2],"Wo","isoWeek"),F("week","w"),F("isoWeek","W"),B.week=5,B.isoWeek=5,ep("w",er),ep("ww",er,J),ep("W",er),ep("WW",er,J),ev(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=H(e)}),A("d",0,"do","day"),A("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),A("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),A("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),A("e",0,0,"weekday"),A("E",0,0,"isoWeekday"),F("day","d"),F("weekday","e"),F("isoWeekday","E"),B.day=11,B.weekday=11,B.isoWeekday=11,ep("d",er),ep("e",er),ep("E",er),ep("dd",function(e,t){return t.weekdaysMinRegex(e)}),ep("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ep("dddd",function(e,t){return t.weekdaysRegex(e)}),ev(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:d(n).invalidWeekday=e}),ev(["d","e","E"],function(e,t,n,r){t[r]=H(e)});var eN="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function ej(e,t,n){var r,i,s,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(r=0,this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[];r<7;++r)s=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=eB.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=eB.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=eB.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=eB.call(this._weekdaysParse,a))||-1!==(i=eB.call(this._shortWeekdaysParse,a))?i:-1!==(i=eB.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=eB.call(this._shortWeekdaysParse,a))||-1!==(i=eB.call(this._weekdaysParse,a))?i:-1!==(i=eB.call(this._minWeekdaysParse,a))?i:null:-1!==(i=eB.call(this._minWeekdaysParse,a))||-1!==(i=eB.call(this._weekdaysParse,a))?i:-1!==(i=eB.call(this._shortWeekdaysParse,a))?i:null}function eL(){function e(e,t){return t.length-e.length}var t,n,r,i,s,a=[],o=[],l=[],u=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),r=em(this.weekdaysMin(n,"")),i=em(this.weekdaysShort(n,"")),s=em(this.weekdays(n,"")),a.push(r),o.push(i),l.push(s),u.push(r),u.push(i),u.push(s);a.sort(e),o.sort(e),l.sort(e),u.sort(e),this._weekdaysRegex=RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=RegExp("^("+a.join("|")+")","i")}function eF(){return this.hours()%12||12}function eU(e,t){A(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function eV(e,t){return t._meridiemParse}A("H",["HH",2],0,"hour"),A("h",["hh",2],0,eF),A("k",["kk",2],0,function(){return this.hours()||24}),A("hmm",0,0,function(){return""+eF.apply(this)+O(this.minutes(),2)}),A("hmmss",0,0,function(){return""+eF.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)}),A("Hmm",0,0,function(){return""+this.hours()+O(this.minutes(),2)}),A("Hmmss",0,0,function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)}),eU("a",!0),eU("A",!1),F("hour","h"),B.hour=13,ep("a",eV),ep("A",eV),ep("H",er),ep("h",er),ep("k",er),ep("HH",er,J),ep("hh",er,J),ep("kk",er,J),ep("hmm",ei),ep("hmmss",es),ep("Hmm",ei),ep("Hmmss",es),ey(["H","HH"],3),ey(["k","kk"],function(e,t,n){var r=H(e);t[3]=24===r?0:r}),ey(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ey(["h","hh"],function(e,t,n){t[3]=H(e),d(n).bigHour=!0}),ey("hmm",function(e,t,n){var r=e.length-2;t[3]=H(e.substr(0,r)),t[4]=H(e.substr(r)),d(n).bigHour=!0}),ey("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=H(e.substr(0,r)),t[4]=H(e.substr(r,2)),t[5]=H(e.substr(i)),d(n).bigHour=!0}),ey("Hmm",function(e,t,n){var r=e.length-2;t[3]=H(e.substr(0,r)),t[4]=H(e.substr(r))}),ey("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[3]=H(e.substr(0,r)),t[4]=H(e.substr(r,2)),t[5]=H(e.substr(i))});var eB,eW,eY=z("Hours",!0),eH={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:eb,week:{dow:0,doy:6},weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysShort:eN,meridiemParse:/[ap]\.?m?\.?/i},ez={},eq={};function e$(e){return e?e.toLowerCase().replace("_","-"):e}function eG(t){var n=null;if(void 0===ez[t]&&e&&e.exports&&null!=t.match("^[^/\\\\]*$"))try{n=eW._abbr,function(){var e=Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),eZ(n)}catch(e){ez[t]=null}return ez[t]}function eZ(e,t){var n;return e&&((n=a(t)?eQ(e):eK(e,t))?eW=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),eW._abbr}function eK(e,t){if(null===t)return delete ez[e],null;var n,r=eH;if(t.abbr=e,null!=ez[e])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ez[e]._config;else if(null!=t.parentLocale){if(null!=ez[t.parentLocale])r=ez[t.parentLocale]._config;else{if(null==(n=eG(t.parentLocale)))return eq[t.parentLocale]||(eq[t.parentLocale]=[]),eq[t.parentLocale].push({name:e,config:t}),null;r=n._config}}return ez[e]=new x(C(r,t)),eq[e]&&eq[e].forEach(function(e){eK(e.name,e.config)}),eZ(e),ez[e]}function eQ(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return eW;if(!n(e)){if(t=eG(e))return t;e=[e]}return function(e){for(var t,n,r,i,s=0;s<e.length;){for(t=(i=e$(e[s]).split("-")).length,n=(n=e$(e[s+1]))?n.split("-"):null;t>0;){if(r=eG(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}(i,n)>=t-1)break;t--}s++}return eW}(e)}function eX(e){var t,n=e._a;return n&&-2===d(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>ew(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,d(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),d(e)._overflowWeeks&&-1===t&&(t=7),d(e)._overflowWeekday&&-1===t&&(t=8),d(e).overflow=t),e}var eJ=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,e0=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,e1=/Z|[+-]\d\d(?::?\d\d)?/,e2=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],e4=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],e9=/^\/?Date\((-?\d+)/i,e3=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,e6={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function e5(e){var t,n,r,i,s,a,o=e._i,l=eJ.exec(o)||e0.exec(o),u=e2.length,c=e4.length;if(l){for(t=0,d(e).iso=!0,n=u;t<n;t++)if(e2[t][1].exec(l[1])){i=e2[t][0],r=!1!==e2[t][2];break}if(null==i){e._isValid=!1;return}if(l[3]){for(t=0,n=c;t<n;t++)if(e4[t][1].exec(l[3])){s=(l[2]||" ")+e4[t][0];break}if(null==s){e._isValid=!1;return}}if(!r&&null!=s){e._isValid=!1;return}if(l[4]){if(e1.exec(l[4]))a="Z";else{e._isValid=!1;return}}e._f=i+(s||"")+(a||""),tt(e)}else e._isValid=!1}function e7(e){var t,n,r,i,s,a,o,l,u,c,h=e3.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(h){if(n=h[4],r=h[3],i=h[2],s=h[5],a=h[6],o=h[7],l=[(t=parseInt(n,10))<=49?2e3+t:t<=999?1900+t:t,eb.indexOf(r),parseInt(i,10),parseInt(s,10),parseInt(a,10)],o&&l.push(parseInt(o,10)),u=h[1],c=e,u&&eN.indexOf(u)!==new Date(l[0],l[1],l[2]).getDay()&&(d(c).weekdayMismatch=!0,c._isValid=!1,1))return;e._a=l,e._tzm=function(e,t,n){if(e)return e6[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return 60*((r-i)/100)+i}(h[8],h[9],h[10]),e._d=eO.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),d(e).rfc2822=!0}else e._isValid=!1}function e8(e,t,n){return null!=e?e:null!=t?t:n}function te(e){var n,r,i,s,a,o,l,u,c,h,f,p,m,g,y,v,w=[];if(!e._d){for(f=new Date(t.now()),g=e._useUTC?[f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()]:[f.getFullYear(),f.getMonth(),f.getDate()],e._w&&null==e._a[2]&&null==e._a[1]&&(null!=(r=(n=e)._w).GG||null!=r.W||null!=r.E?(o=1,l=4,i=e8(r.GG,n._a[0],eM(ti(),1,4).year),s=e8(r.W,1),((a=e8(r.E,1))<1||a>7)&&(c=!0)):(o=n._locale._week.dow,l=n._locale._week.doy,h=eM(ti(),o,l),i=e8(r.gg,n._a[0],h.year),s=e8(r.w,h.week),null!=r.d?((a=r.d)<0||a>6)&&(c=!0):null!=r.e?(a=r.e+o,(r.e<0||r.e>6)&&(c=!0)):a=o),s<1||s>eR(i,o,l)?d(n)._overflowWeeks=!0:null!=c?d(n)._overflowWeekday=!0:(u=eI(i,s,a,o,l),n._a[0]=u.year,n._dayOfYear=u.dayOfYear)),null!=e._dayOfYear&&(v=e8(e._a[0],g[0]),(e._dayOfYear>eD(v)||0===e._dayOfYear)&&(d(e)._overflowDayOfYear=!0),m=eO(v,0,e._dayOfYear),e._a[1]=m.getUTCMonth(),e._a[2]=m.getUTCDate()),p=0;p<3&&null==e._a[p];++p)e._a[p]=w[p]=g[p];for(;p<7;p++)e._a[p]=w[p]=null==e._a[p]?2===p?1:0:e._a[p];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?eO:ex).apply(null,w),y=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==y&&(d(e).weekdayMismatch=!0)}}function tt(e){if(e._f===t.ISO_8601){e5(e);return}if(e._f===t.RFC_2822){e7(e);return}e._a=[],d(e).empty=!0;var n,r,s,a,o,l,u,c,h,f,p,m=""+e._i,g=m.length,y=0;for(o=0,p=(u=j(e._f,e._locale).match(P)||[]).length;o<p;o++)(c=u[o],(l=(m.match(i(Q,c)?Q[c](e._strict,e._locale):new RegExp(em(c.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))))||[])[0])&&((h=m.substr(0,m.indexOf(l))).length>0&&d(e).unusedInput.push(h),m=m.slice(m.indexOf(l)+l.length),y+=l.length),R[c])?(l?d(e).empty=!1:d(e).unusedTokens.push(c),null!=l&&i(eg,c)&&eg[c](l,e._a,e,c)):e._strict&&!l&&d(e).unusedTokens.push(c);d(e).charsLeftOver=g-y,m.length>0&&d(e).unusedInput.push(m),e._a[3]<=12&&!0===d(e).bigHour&&e._a[3]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[3]=(n=e._locale,r=e._a[3],null==(s=e._meridiem)?r:null!=n.meridiemHour?n.meridiemHour(r,s):(null!=n.isPM&&((a=n.isPM(s))&&r<12&&(r+=12),a||12!==r||(r=0)),r)),null!==(f=d(e).era)&&(e._a[0]=e._locale.erasConvertYear(f,e._a[0])),te(e),eX(e)}function tn(e){var i,s,h=e._i,m=e._f;return(e._locale=e._locale||eQ(e._l),null===h||void 0===m&&""===h)?p({nullInput:!0}):("string"==typeof h&&(e._i=h=e._locale.preparse(h)),_(h))?new b(eX(h)):(l(h)?e._d=h:n(m)?function(e){var t,n,r,i,s,a,o=!1,l=e._f.length;if(0===l){d(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,a=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],tt(t),f(t)&&(a=!0),s+=d(t).charsLeftOver+10*d(t).unusedTokens.length,d(t).score=s,o?s<r&&(r=s,n=t):(null==r||s<r||a)&&(r=s,n=t,a&&(o=!0));c(e,n||t)}(e):m?tt(e):a(s=(i=e)._i)?i._d=new Date(t.now()):l(s)?i._d=new Date(s.valueOf()):"string"==typeof s?function(e){var n=e9.exec(e._i);if(null!==n){e._d=new Date(+n[1]);return}e5(e),!1===e._isValid&&(delete e._isValid,e7(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:t.createFromInputFallback(e)))}(i):n(s)?(i._a=u(s.slice(0),function(e){return parseInt(e,10)}),te(i)):r(s)?function(e){if(!e._d){var t=V(e._i),n=void 0===t.day?t.date:t.day;e._a=u([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),te(e)}}(i):o(s)?i._d=new Date(s):t.createFromInputFallback(i),f(e)||(e._d=null),e)}function tr(e,t,i,a,o){var l,u={};return(!0===t||!1===t)&&(a=t,t=void 0),(!0===i||!1===i)&&(a=i,i=void 0),(r(e)&&s(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=i,u._i=e,u._f=t,u._strict=a,(l=new b(eX(tn(u))))._nextDay&&(l.add(1,"d"),l._nextDay=void 0),l}function ti(e,t,n,r){return tr(e,t,n,r,!1)}t.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var ts=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ti.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:p()}),ta=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ti.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:p()});function to(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return ti();for(i=1,r=t[0];i<t.length;++i)(!t[i].isValid()||t[i][e](r))&&(r=t[i]);return r}var tl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tu(e){var t=V(e),n=t.year||0,r=t.quarter||0,s=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,l=t.hour||0,u=t.minute||0,c=t.second||0,h=t.millisecond||0;this._isValid=function(e){var t,n,r=!1,s=tl.length;for(t in e)if(i(e,t)&&!(-1!==eB.call(tl,t)&&(null==e[t]||!isNaN(e[t]))))return!1;for(n=0;n<s;++n)if(e[tl[n]]){if(r)return!1;parseFloat(e[tl[n]])!==H(e[tl[n]])&&(r=!0)}return!0}(t),this._milliseconds=+h+1e3*c+6e4*u+36e5*l,this._days=+o+7*a,this._months=+s+3*r+12*n,this._data={},this._locale=eQ(),this._bubble()}function tc(e){return e instanceof tu}function th(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function td(e,t){A(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+O(~~(e/60),2)+t+O(~~e%60,2)})}td("Z",":"),td("ZZ",""),ep("Z",ed),ep("ZZ",ed),ey(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=tp(ed,e)});var tf=/([\+\-]|\d\d)/gi;function tp(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=+(60*(n=((i[i.length-1]||[])+"").match(tf)||["-",0,0])[1])+H(n[2]))?0:"+"===n[0]?r:-r}function tm(e,n){var r,i;return n._isUTC?(r=n.clone(),i=(_(e)||l(e)?e.valueOf():ti(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),t.updateOffset(r,!1),r):ti(e).local()}function tg(e){return-Math.round(e._d.getTimezoneOffset())}function ty(){return!!this.isValid()&&this._isUTC&&0===this._offset}t.updateOffset=function(){};var tv=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,tw=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function tb(e,t){var n,r,s,a,l,u,c=e,h=null;return tc(e)?c={ms:e._milliseconds,d:e._days,M:e._months}:o(e)||!isNaN(+e)?(c={},t?c[t]=+e:c.milliseconds=+e):(h=tv.exec(e))?(a="-"===h[1]?-1:1,c={y:0,d:H(h[2])*a,h:H(h[3])*a,m:H(h[4])*a,s:H(h[5])*a,ms:H(th(1e3*h[6]))*a}):(h=tw.exec(e))?(a="-"===h[1]?-1:1,c={y:t_(h[2],a),M:t_(h[3],a),w:t_(h[4],a),d:t_(h[5],a),h:t_(h[6],a),m:t_(h[7],a),s:t_(h[8],a)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(n=ti(c.from),r=ti(c.to),u=n.isValid()&&r.isValid()?(r=tm(r,n),n.isBefore(r)?s=tS(n,r):((s=tS(r,n)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(c={}).ms=u.milliseconds,c.M=u.months),l=new tu(c),tc(e)&&i(e,"_locale")&&(l._locale=e._locale),tc(e)&&i(e,"_isValid")&&(l._isValid=e._isValid),l}function t_(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function tS(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function tT(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(E(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),tk(this,tb(n,r),e),this}}function tk(e,n,r,i){var s=n._milliseconds,a=th(n._days),o=th(n._months);e.isValid()&&(i=null==i||i,o&&eT(e,q(e,"Month")+o*r),a&&$(e,"Date",q(e,"Date")+a*r),s&&e._d.setTime(e._d.valueOf()+s*r),i&&t.updateOffset(e,a||o))}tb.fn=tu.prototype,tb.invalid=function(){return tb(NaN)};var tE=tT(1,"add"),tD=tT(-1,"subtract");function tC(e){return"string"==typeof e||e instanceof String}function tx(e,t){if(e.date()<t.date())return-tx(t,e);var n,r=(t.year()-e.year())*12+(t.month()-e.month()),i=e.clone().add(r,"months");return n=t-i<0?(t-i)/(i-e.clone().add(r-1,"months")):(t-i)/(e.clone().add(r+1,"months")-i),-(r+n)||0}function tO(e){var t;return void 0===e?this._locale._abbr:(null!=(t=eQ(e))&&(this._locale=t),this)}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tP=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function tI(){return this._locale}function tM(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function tR(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function tA(e,t){return t.erasAbbrRegex(e)}function tN(){var e,t,n=[],r=[],i=[],s=[],a=this.eras();for(e=0,t=a.length;e<t;++e)r.push(em(a[e].name)),n.push(em(a[e].abbr)),i.push(em(a[e].narrow)),s.push(em(a[e].name)),s.push(em(a[e].abbr)),s.push(em(a[e].narrow));this._erasRegex=RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=RegExp("^("+i.join("|")+")","i")}function tj(e,t){A(0,[e,e.length],0,t)}function tL(e,t,n,r,i){var s;return null==e?eM(this,r,i).year:(t>(s=eR(e,r,i))&&(t=s),tF.call(this,e,t,n,r,i))}function tF(e,t,n,r,i){var s=eI(e,t,n,r,i),a=eO(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}A("N",0,0,"eraAbbr"),A("NN",0,0,"eraAbbr"),A("NNN",0,0,"eraAbbr"),A("NNNN",0,0,"eraName"),A("NNNNN",0,0,"eraNarrow"),A("y",["y",1],"yo","eraYear"),A("y",["yy",2],0,"eraYear"),A("y",["yyy",3],0,"eraYear"),A("y",["yyyy",4],0,"eraYear"),ep("N",tA),ep("NN",tA),ep("NNN",tA),ep("NNNN",function(e,t){return t.erasNameRegex(e)}),ep("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),ey(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?d(n).era=i:d(n).invalidEra=e}),ep("y",eu),ep("yy",eu),ep("yyy",eu),ep("yyyy",eu),ep("yo",function(e,t){return t._eraYearOrdinalRegex||eu}),ey(["y","yy","yyy","yyyy"],0),ey(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[0]=n._locale.eraYearOrdinalParse(e,i):t[0]=parseInt(e,10)}),A(0,["gg",2],0,function(){return this.weekYear()%100}),A(0,["GG",2],0,function(){return this.isoWeekYear()%100}),tj("gggg","weekYear"),tj("ggggg","weekYear"),tj("GGGG","isoWeekYear"),tj("GGGGG","isoWeekYear"),F("weekYear","gg"),F("isoWeekYear","GG"),B.weekYear=1,B.isoWeekYear=1,ep("G",ec),ep("g",ec),ep("GG",er,J),ep("gg",er,J),ep("GGGG",eo,et),ep("gggg",eo,et),ep("GGGGG",el,en),ep("ggggg",el,en),ev(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=H(e)}),ev(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),A("Q",0,"Qo","quarter"),F("quarter","Q"),B.quarter=7,ep("Q",X),ey("Q",function(e,t){t[1]=(H(e)-1)*3}),A("D",["DD",2],"Do","date"),F("date","D"),B.date=9,ep("D",er),ep("DD",er,J),ep("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ey(["D","DD"],2),ey("Do",function(e,t){t[2]=H(e.match(er)[0])});var tU=z("Date",!0);A("DDD",["DDDD",3],"DDDo","dayOfYear"),F("dayOfYear","DDD"),B.dayOfYear=4,ep("DDD",ea),ep("DDDD",ee),ey(["DDD","DDDD"],function(e,t,n){n._dayOfYear=H(e)}),A("m",["mm",2],0,"minute"),F("minute","m"),B.minute=14,ep("m",er),ep("mm",er,J),ey(["m","mm"],4);var tV=z("Minutes",!1);A("s",["ss",2],0,"second"),F("second","s"),B.second=15,ep("s",er),ep("ss",er,J),ey(["s","ss"],5);var tB=z("Seconds",!1);for(A("S",0,0,function(){return~~(this.millisecond()/100)}),A(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),A(0,["SSS",3],0,"millisecond"),A(0,["SSSS",4],0,function(){return 10*this.millisecond()}),A(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),A(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),A(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),A(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),A(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),F("millisecond","ms"),B.millisecond=16,ep("S",ea,X),ep("SS",ea,J),ep("SSS",ea,ee),m="SSSS";m.length<=9;m+="S")ep(m,eu);function tW(e,t){t[6]=H(("0."+e)*1e3)}for(m="S";m.length<=9;m+="S")ey(m,tW);g=z("Milliseconds",!1),A("z",0,0,"zoneAbbr"),A("zz",0,0,"zoneName");var tY=b.prototype;function tH(e){return e}tY.add=tE,tY.calendar=function(e,a){if(1==arguments.length){if(arguments[0]){var u,c,h;(u=arguments[0],_(u)||l(u)||tC(u)||o(u)||(c=n(u),h=!1,c&&(h=0===u.filter(function(e){return!o(e)&&tC(u)}).length),c&&h)||function(e){var t,n,a=r(e)&&!s(e),o=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],u=l.length;for(t=0;t<u;t+=1)n=l[t],o=o||i(e,n);return a&&o}(u)||null==u)?(e=arguments[0],a=void 0):function(e){var t,n,a=r(e)&&!s(e),o=!1,l=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<l.length;t+=1)n=l[t],o=o||i(e,n);return a&&o}(arguments[0])&&(a=arguments[0],e=void 0)}else e=void 0,a=void 0}var d=e||ti(),f=tm(d,this).startOf("day"),p=t.calendarFormat(this,f)||"sameElse",m=a&&(D(a[p])?a[p].call(this,d):a[p]);return this.format(m||this.localeData().calendar(p,this,ti(d)))},tY.clone=function(){return new b(this)},tY.diff=function(e,t,n){var r,i,s;if(!this.isValid()||!(r=tm(e,this)).isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=U(t)){case"year":s=tx(this,r)/12;break;case"month":s=tx(this,r);break;case"quarter":s=tx(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Y(s)},tY.endOf=function(e){var n,r;if(void 0===(e=U(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?tR:tM,e){case"year":n=r(this.year()+1,0,1)-1;break;case"quarter":n=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=r(this.year(),this.month()+1,1)-1;break;case"week":n=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=36e5-((n+(this._isUTC?0:6e4*this.utcOffset()))%36e5+36e5)%36e5-1;break;case"minute":n=this._d.valueOf(),n+=6e4-(n%6e4+6e4)%6e4-1;break;case"second":n=this._d.valueOf(),n+=1e3-(n%1e3+1e3)%1e3-1}return this._d.setTime(n),t.updateOffset(this,!0),this},tY.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=N(this,e);return this.localeData().postformat(n)},tY.from=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||ti(e).isValid())?tb({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},tY.fromNow=function(e){return this.from(ti(),e)},tY.to=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||ti(e).isValid())?tb({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},tY.toNow=function(e){return this.to(ti(),e)},tY.get=function(e){return D(this[e=U(e)])?this[e]():this},tY.invalidAt=function(){return d(this).overflow},tY.isAfter=function(e,t){var n=_(e)?e:ti(e);return!!(this.isValid()&&n.isValid())&&("millisecond"===(t=U(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},tY.isBefore=function(e,t){var n=_(e)?e:ti(e);return!!(this.isValid()&&n.isValid())&&("millisecond"===(t=U(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},tY.isBetween=function(e,t,n,r){var i=_(e)?e:ti(e),s=_(t)?t:ti(t);return!!(this.isValid()&&i.isValid()&&s.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(s,n):!this.isAfter(s,n))},tY.isSame=function(e,t){var n,r=_(e)?e:ti(e);return!!(this.isValid()&&r.isValid())&&("millisecond"===(t=U(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},tY.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},tY.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},tY.isValid=function(){return f(this)},tY.lang=tP,tY.locale=tO,tY.localeData=tI,tY.max=ta,tY.min=ts,tY.parsingFlags=function(){return c({},d(this))},tY.set=function(e,t){if("object"==typeof e){var n,r=function(e){var t,n=[];for(t in e)i(e,t)&&n.push({unit:t,priority:B[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=V(e)),s=r.length;for(n=0;n<s;n++)this[r[n].unit](e[r[n].unit])}else if(D(this[e=U(e)]))return this[e](t);return this},tY.startOf=function(e){var n,r;if(void 0===(e=U(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?tR:tM,e){case"year":n=r(this.year(),0,1);break;case"quarter":n=r(this.year(),this.month()-this.month()%3,1);break;case"month":n=r(this.year(),this.month(),1);break;case"week":n=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=r(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=((n+(this._isUTC?0:6e4*this.utcOffset()))%36e5+36e5)%36e5;break;case"minute":n=this._d.valueOf(),n-=(n%6e4+6e4)%6e4;break;case"second":n=this._d.valueOf(),n-=(n%1e3+1e3)%1e3}return this._d.setTime(n),t.updateOffset(this,!0),this},tY.subtract=tD,tY.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},tY.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},tY.toDate=function(){return new Date(this.valueOf())},tY.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return 0>n.year()||n.year()>9999?N(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+6e4*this.utcOffset()).toISOString().replace("Z",N(n,"Z")):N(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},tY.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r="moment",i="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+r+'("]',t=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",n=i+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(tY[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),tY.toJSON=function(){return this.isValid()?this.toISOString():null},tY.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},tY.unix=function(){return Math.floor(this.valueOf()/1e3)},tY.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},tY.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},tY.eraName=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""},tY.eraNarrow=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""},tY.eraAbbr=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""},tY.eraYear=function(){var e,n,r,i,s=this.localeData().eras();for(e=0,n=s.length;e<n;++e)if(r=s[e].since<=s[e].until?1:-1,i=this.clone().startOf("day").valueOf(),s[e].since<=i&&i<=s[e].until||s[e].until<=i&&i<=s[e].since)return(this.year()-t(s[e].since).year())*r+s[e].offset;return this.year()},tY.year=eC,tY.isLeapYear=function(){return W(this.year())},tY.weekYear=function(e){return tL.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},tY.isoWeekYear=function(e){return tL.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},tY.quarter=tY.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)},tY.month=ek,tY.daysInMonth=function(){return ew(this.year(),this.month())},tY.week=tY.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add((e-t)*7,"d")},tY.isoWeek=tY.isoWeeks=function(e){var t=eM(this,1,4).week;return null==e?t:this.add((e-t)*7,"d")},tY.weeksInYear=function(){var e=this.localeData()._week;return eR(this.year(),e.dow,e.doy)},tY.weeksInWeekYear=function(){var e=this.localeData()._week;return eR(this.weekYear(),e.dow,e.doy)},tY.isoWeeksInYear=function(){return eR(this.year(),1,4)},tY.isoWeeksInISOWeekYear=function(){return eR(this.isoWeekYear(),1,4)},tY.date=tU,tY.day=tY.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==e?r:(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-r,"d"))},tY.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},tY.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n=(t=this.localeData(),"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e);return this.day(this.day()%7?n:n-7)},tY.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},tY.hour=tY.hours=eY,tY.minute=tY.minutes=tV,tY.second=tY.seconds=tB,tY.millisecond=tY.milliseconds=g,tY.utcOffset=function(e,n,r){var i,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?s:tg(this);if("string"==typeof e){if(null===(e=tp(ed,e)))return this}else 16>Math.abs(e)&&!r&&(e*=60);return!this._isUTC&&n&&(i=tg(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),s===e||(!n||this._changeInProgress?tk(this,tb(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this},tY.utc=function(e){return this.utcOffset(0,e)},tY.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(tg(this),"m")),this},tY.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=tp(eh,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},tY.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?ti(e).utcOffset():0,(this.utcOffset()-e)%60==0)},tY.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},tY.isLocal=function(){return!!this.isValid()&&!this._isUTC},tY.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},tY.isUtc=ty,tY.isUTC=ty,tY.zoneAbbr=function(){return this._isUTC?"UTC":""},tY.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},tY.dates=T("dates accessor is deprecated. Use date instead.",tU),tY.months=T("months accessor is deprecated. Use month instead",ek),tY.years=T("years accessor is deprecated. Use year instead",eC),tY.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),tY.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=tn(t))._a?(e=t._isUTC?h(t._a):ti(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var r,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&H(e[r])!==H(t[r]))&&a++;return a+s}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var tz=x.prototype;function tq(e,t,n,r){var i=eQ(),s=h().set(r,t);return i[n](s,e)}function t$(e,t,n){if(o(e)&&(t=e,e=void 0),e=e||"",null!=t)return tq(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=tq(e,r,n,"month");return i}function tG(e,t,n,r){"boolean"==typeof e?(o(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,o(t)&&(n=t,t=void 0),t=t||"");var i,s=eQ(),a=e?s._week.dow:0,l=[];if(null!=n)return tq(t,(n+a)%7,r,"day");for(i=0;i<7;i++)l[i]=tq(t,(i+a)%7,r,"day");return l}tz.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return D(r)?r.call(t,n):r},tz.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(P).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},tz.invalidDate=function(){return this._invalidDate},tz.ordinal=function(e){return this._ordinal.replace("%d",e)},tz.preparse=tH,tz.postformat=tH,tz.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return D(i)?i(e,t,n,r):i.replace(/%d/i,e)},tz.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)},tz.set=function(e){var t,n;for(n in e)i(e,n)&&(D(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},tz.eras=function(e,n){var r,i,s,a=this._eras||eQ("en")._eras;for(r=0,i=a.length;r<i;++r)switch("string"==typeof a[r].since&&(s=t(a[r].since).startOf("day"),a[r].since=s.valueOf()),typeof a[r].until){case"undefined":a[r].until=Infinity;break;case"string":s=t(a[r].until).startOf("day").valueOf(),a[r].until=s.valueOf()}return a},tz.erasParse=function(e,t,n){var r,i,s,a,o,l=this.eras();for(r=0,e=e.toUpperCase(),i=l.length;r<i;++r)if(s=l[r].name.toUpperCase(),a=l[r].abbr.toUpperCase(),o=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return l[r];break;case"NNNN":if(s===e)return l[r];break;case"NNNNN":if(o===e)return l[r]}else if([s,a,o].indexOf(e)>=0)return l[r]},tz.erasConvertYear=function(e,n){var r=e.since<=e.until?1:-1;return void 0===n?t(e.since).year():t(e.since).year()+(n-e.offset)*r},tz.erasAbbrRegex=function(e){return i(this,"_erasAbbrRegex")||tN.call(this),e?this._erasAbbrRegex:this._erasRegex},tz.erasNameRegex=function(e){return i(this,"_erasNameRegex")||tN.call(this),e?this._erasNameRegex:this._erasRegex},tz.erasNarrowRegex=function(e){return i(this,"_erasNarrowRegex")||tN.call(this),e?this._erasNarrowRegex:this._erasRegex},tz.months=function(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||e_).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone},tz.monthsShort=function(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[e_.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},tz.monthsParse=function(e,t,n){var r,i,s;if(this._monthsParseExact)return eS.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++)if(i=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e)||n&&"MMM"===t&&this._shortMonthsParse[r].test(e)||!n&&this._monthsParse[r].test(e))return r},tz.monthsRegex=function(e){return this._monthsParseExact?(i(this,"_monthsRegex")||eE.call(this),e)?this._monthsStrictRegex:this._monthsRegex:(i(this,"_monthsRegex")||(this._monthsRegex=ef),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},tz.monthsShortRegex=function(e){return this._monthsParseExact?(i(this,"_monthsRegex")||eE.call(this),e)?this._monthsShortStrictRegex:this._monthsShortRegex:(i(this,"_monthsShortRegex")||(this._monthsShortRegex=ef),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},tz.week=function(e){return eM(e,this._week.dow,this._week.doy).week},tz.firstDayOfYear=function(){return this._week.doy},tz.firstDayOfWeek=function(){return this._week.dow},tz.weekdays=function(e,t){var r=n(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?eA(r,this._week.dow):e?r[e.day()]:r},tz.weekdaysMin=function(e){return!0===e?eA(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},tz.weekdaysShort=function(e){return!0===e?eA(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},tz.weekdaysParse=function(e,t,n){var r,i,s;if(this._weekdaysParseExact)return ej.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e)||n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},tz.weekdaysRegex=function(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||eL.call(this),e)?this._weekdaysStrictRegex:this._weekdaysRegex:(i(this,"_weekdaysRegex")||(this._weekdaysRegex=ef),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},tz.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||eL.call(this),e)?this._weekdaysShortStrictRegex:this._weekdaysShortRegex:(i(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ef),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},tz.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||eL.call(this),e)?this._weekdaysMinStrictRegex:this._weekdaysMinRegex:(i(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ef),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},tz.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},tz.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},eZ("en",{eras:[{since:"0001-01-01",until:Infinity,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===H(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),t.lang=T("moment.lang is deprecated. Use moment.locale instead.",eZ),t.langData=T("moment.langData is deprecated. Use moment.localeData instead.",eQ);var tZ=Math.abs;function tK(e,t,n,r){var i=tb(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function tQ(e){return e<0?Math.floor(e):Math.ceil(e)}function tX(e){return 4800*e/146097}function tJ(e){return 146097*e/4800}function t0(e){return function(){return this.as(e)}}var t1=t0("ms"),t2=t0("s"),t4=t0("m"),t9=t0("h"),t3=t0("d"),t6=t0("w"),t5=t0("M"),t7=t0("Q"),t8=t0("y");function ne(e){return function(){return this.isValid()?this._data[e]:NaN}}var nt=ne("milliseconds"),nn=ne("seconds"),nr=ne("minutes"),ni=ne("hours"),ns=ne("days"),na=ne("months"),no=ne("years"),nl=Math.round,nu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function nc(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}var nh=Math.abs;function nd(e){return(e>0)-(e<0)||+e}function nf(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,s,a,o=nh(this._milliseconds)/1e3,l=nh(this._days),u=nh(this._months),c=this.asSeconds();return c?(e=Y(o/60),t=Y(e/60),o%=60,e%=60,n=Y(u/12),u%=12,r=o?o.toFixed(3).replace(/\.?0+$/,""):"",i=nd(this._months)!==nd(c)?"-":"",s=nd(this._days)!==nd(c)?"-":"",a=nd(this._milliseconds)!==nd(c)?"-":"",(c<0?"-":"")+"P"+(n?i+n+"Y":"")+(u?i+u+"M":"")+(l?s+l+"D":"")+(t||e||o?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(o?a+r+"S":"")):"P0D"}var np=tu.prototype;return np.isValid=function(){return this._isValid},np.abs=function(){var e=this._data;return this._milliseconds=tZ(this._milliseconds),this._days=tZ(this._days),this._months=tZ(this._months),e.milliseconds=tZ(e.milliseconds),e.seconds=tZ(e.seconds),e.minutes=tZ(e.minutes),e.hours=tZ(e.hours),e.months=tZ(e.months),e.years=tZ(e.years),this},np.add=function(e,t){return tK(this,e,t,1)},np.subtract=function(e,t){return tK(this,e,t,-1)},np.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=U(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+tX(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(tJ(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw Error("Unknown unit "+e)}},np.asMilliseconds=t1,np.asSeconds=t2,np.asMinutes=t4,np.asHours=t9,np.asDays=t3,np.asWeeks=t6,np.asMonths=t5,np.asQuarters=t7,np.asYears=t8,np.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*H(this._months/12):NaN},np._bubble=function(){var e,t,n,r,i,s=this._milliseconds,a=this._days,o=this._months,l=this._data;return s>=0&&a>=0&&o>=0||s<=0&&a<=0&&o<=0||(s+=864e5*tQ(tJ(o)+a),a=0,o=0),l.milliseconds=s%1e3,e=Y(s/1e3),l.seconds=e%60,t=Y(e/60),l.minutes=t%60,n=Y(t/60),l.hours=n%24,a+=Y(n/24),o+=i=Y(tX(a)),a-=tQ(tJ(i)),r=Y(o/12),o%=12,l.days=a,l.months=o,l.years=r,this},np.clone=function(){return tb(this)},np.get=function(e){return e=U(e),this.isValid()?this[e+"s"]():NaN},np.milliseconds=nt,np.seconds=nn,np.minutes=nr,np.hours=ni,np.days=ns,np.weeks=function(){return Y(this.days()/7)},np.months=na,np.years=no,np.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i,s,a,o,l,u,c,h,d,f,p,m=!1,g=nu;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(m=e),"object"==typeof t&&(g=Object.assign({},nu,t),null!=t.s&&null==t.ss&&(g.ss=t.s-1)),f=this.localeData(),n=!m,r=g,s=nl((i=tb(this).abs()).as("s")),a=nl(i.as("m")),o=nl(i.as("h")),l=nl(i.as("d")),u=nl(i.as("M")),c=nl(i.as("w")),h=nl(i.as("y")),d=s<=r.ss&&["s",s]||s<r.s&&["ss",s]||a<=1&&["m"]||a<r.m&&["mm",a]||o<=1&&["h"]||o<r.h&&["hh",o]||l<=1&&["d"]||l<r.d&&["dd",l],null!=r.w&&(d=d||c<=1&&["w"]||c<r.w&&["ww",c]),(d=d||u<=1&&["M"]||u<r.M&&["MM",u]||h<=1&&["y"]||["yy",h])[2]=n,d[3]=+this>0,d[4]=f,p=nc.apply(null,d),m&&(p=f.pastFuture(+this,p)),f.postformat(p)},np.toISOString=nf,np.toString=nf,np.toJSON=nf,np.locale=tO,np.localeData=tI,np.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",nf),np.lang=tP,A("X",0,0,"unix"),A("x",0,0,"valueOf"),ep("x",ec),ep("X",/[+-]?\d+(\.\d{1,3})?/),ey("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),ey("x",function(e,t,n){n._d=new Date(H(e))}),//! moment.js
t.version="2.29.4",G=ti,t.fn=tY,t.min=function(){var e=[].slice.call(arguments,0);return to("isBefore",e)},t.max=function(){var e=[].slice.call(arguments,0);return to("isAfter",e)},t.now=function(){return Date.now?Date.now():+new Date},t.utc=h,t.unix=function(e){return ti(1e3*e)},t.months=function(e,t){return t$(e,t,"months")},t.isDate=l,t.locale=eZ,t.invalid=p,t.duration=tb,t.isMoment=_,t.weekdays=function(e,t,n){return tG(e,t,n,"weekdays")},t.parseZone=function(){return ti.apply(null,arguments).parseZone()},t.localeData=eQ,t.isDuration=tc,t.monthsShort=function(e,t){return t$(e,t,"monthsShort")},t.weekdaysMin=function(e,t,n){return tG(e,t,n,"weekdaysMin")},t.defineLocale=eK,t.updateLocale=function(e,t){if(null!=t){var n,r,i=eH;null!=ez[e]&&null!=ez[e].parentLocale?ez[e].set(C(ez[e]._config,t)):(null!=(r=eG(e))&&(i=r._config),t=C(i,t),null==r&&(t.abbr=e),(n=new x(t)).parentLocale=ez[e],ez[e]=n),eZ(e)}else null!=ez[e]&&(null!=ez[e].parentLocale?(ez[e]=ez[e].parentLocale,e===eZ()&&eZ(e)):null!=ez[e]&&delete ez[e]);return ez[e]},t.locales=function(){return K(ez)},t.weekdaysShort=function(e,t,n){return tG(e,t,n,"weekdaysShort")},t.normalizeUnits=U,t.relativeTimeRounding=function(e){return void 0===e?nl:"function"==typeof e&&(nl=e,!0)},t.relativeTimeThreshold=function(e,t){return void 0!==nu[e]&&(void 0===t?nu[e]:(nu[e]=t,"s"===e&&(nu.ss=t-1),!0))},t.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},t.prototype=tY,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t}()},3454:function(e,t,n){"use strict";var r,i;e.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(7663)},6840:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(5199)}])},7160:function(e,t,n){"use strict";n.d(t,{y:function(){return i}});var r=n(4652);class i{calculateTotalRoomCost(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n].plan_Price+1e3*e[n].num_Children;return t}addNewRoom(e){let t=!1,n=-1;for(let r=0;r<this.roomsList.length;r++)if(e.compareRooms(this.roomsList[r])){t=!0,n=r;break}t?this.roomsList[n].room_Count+=1:this.roomsList.push(e),this.total_Guests_Count+=e.num_Guests,this.total_Rooms_Count+=1,this.total_Room_Cost+=e.plan_Price+1e3*e.num_Children,this.total_Room_Cost=Number(this.total_Room_Cost.toFixed(2)),this.total_Tax=.12*this.total_Room_Cost,this.total_Tax=Number(this.total_Tax.toFixed(2)),this.total_Price=1.12*this.total_Room_Cost,this.total_Price=Number(this.total_Price.toFixed(2))}updateChildToRoom(e,t){this.total_Room_Cost-=this.roomsList[e].num_Children*this.roomsList[e].room_Count*1e3,this.total_Room_Cost+=t*this.roomsList[e].room_Count*1e3,this.total_Tax=.12*this.total_Room_Cost,this.total_Price=1.12*this.total_Room_Cost,this.roomsList[e].num_Children=t}removeRoom(e,t){this.total_Guests_Count-=e.num_Guests,this.total_Rooms_Count-=e.room_Count,this.total_Room_Cost-=e.plan_Price*e.room_Count+e.num_Children*e.room_Count*1e3,this.total_Tax=.12*this.total_Room_Cost,this.total_Price=1.12*this.total_Room_Cost,this.roomsList.splice(t,1)}updateBookingDetails(){let e=0,t=0;for(let n=0;n<this.roomsList.length;n++)e+=this.roomsList[n].plan_Price*this.roomsList[n].room_Count,t+=this.roomsList[n].room_Count;this.total_Rooms_Count=t,this.total_Room_Cost=e,this.total_Tax=.12*e,this.total_Price=1.12*e}get getTotalRoomCount(){return this.total_Rooms_Count}get getTotalRoomCost(){return this.total_Room_Cost}get getTotalTax(){return this.total_Tax}get getTotalPrice(){return this.total_Price}constructor(){this.roomsList=[],this.booking_Id="",this.hotel_Owner_Id="",this.hotel_Image_Url="",this.hotel_Name="",this.hotel_Landmark="",this.hotel_Firebase_Id="",this.hotel_Sanity_Id="",this.user_Unique_Id="",this.user_Name="",this.user_Email_Id="",this.user_Phone_Number="",this.user_Address="",this.total_Rooms_Count=0,this.total_Guests_Count=2,this.total_Children_Count=2,this.total_Room_Cost=0,this.total_Tax=0,this.total_Price=0,this.payment_Made=!1,this.amount_Paid=0,this.booking_Time=new Date,this.checkin_Time=new Date,this.checkout_Time=(0,r.E4)(new Date,1),this.razorpay_Payment_Id="",this.razorpay_Order_Id="",this.razorpay_Signature_Id="",this.receipt_Id=""}}},9046:function(e,t,n){"use strict";n.d(t,{I:function(){return o},db:function(){return l},q:function(){return u}});var r=n(5816);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(0,r.KN)("firebase","9.21.0","app");var i=n(4789),s=n(6100);let a=(0,r.ZF)({apiKey:"AIzaSyD3MjpR_Ta6LRfoMOaoX-b-kTlVHuiuHtw",authDomain:"staybook-de712.firebaseapp.com",databaseURL:"https://staybook-de712-default-rtdb.firebaseio.com",projectId:"staybook-de712",storageBucket:"staybook-de712.appspot.com",messagingSenderId:"946000733513",appId:"1:946000733513:web:662ce04b970b3d8eb66698",measurementId:"G-V29JV44EFX"}),o=(0,i.v0)(a),l=(0,s.ad)(a),u=new i.hJ},8121:function(e,t,n){"use strict";n.d(t,{CD:function(){return u},Fb:function(){return l},oP:function(){return o}});var r=n(4789),i=n(4652),s=n(9046),a=n(6100);n(7160);let o=async()=>{try{let e=await (0,r.rh)(s.I,s.q),t=r.hJ.credentialFromResult(e);if(!t)return{userCredentials:null,error:null,message:"Google account not selected!"};let n=e.user,o=await e.user.getIdToken(),l=n.uid,u=n.email,c=n.photoURL,h=n.displayName,d="",f=(0,a.JU)(s.db,i.YP,l),p=await (0,a.QT)(f);d=p.exists()?i.bw:i.kr;let m=await fetch("/api/auth/userGoogleAuth",{method:"POST",body:JSON.stringify({authType:d,userAccessToken:o,userId:l,userEmail:u,userImageUrl:c,displayName:h}),headers:{"Content-Type":"application/json"}});return await m.json(),console.log(n),{userCredentials:n,error:null,message:""}}catch(e){return console.log("User-Handler-Error"),{userCredentials:null,error:e,message:"Error occoured"}}},l=async()=>{i.li,console.log("https://localhost:3000");let e=await fetch("/api/userProfile/fetchUserAccessToken",{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();return console.log("Cred "+t.userCredentials),t.userCredentials},u=async()=>{let e=await fetch("/api/userProfile/fetchUserDetails",{method:"POST",body:JSON.stringify({userBooking:"userBooking"}),headers:{"Content-Type":"application/json"}}),t=await e.json(),n="";return t.userCredentials&&(n=t.userCredentials.User_Image_Url),n}},4652:function(e,t,n){"use strict";function r(e){this.message=e}function i(e){this.message=e}n.d(t,{Ym:function(){return a},kv:function(){return s},li:function(){return c},bw:function(){return l},kr:function(){return o},YP:function(){return u},W5:function(){return h},E4:function(){return d},hM:function(){return f},e$:function(){return p}}),r.prototype=Error(),r.prototype.name="InvalidCharacterError","undefined"!=typeof window&&window.atob&&window.atob.bind(window),i.prototype=Error(),i.prototype.name="InvalidTokenError";let s="email-sign-up",a="email-log-in",o="google-sign-up",l="google-log-in",u="USER-PERSONAL-INFORMATION",c="get-user-token-obj",h="update-user-name";function d(e,t){let n=new Date(e);return n.setDate(n.getDate()+t),n}function f(e,t){return Math.floor((new Date(t).getTime()-new Date(e).getTime())/864e5)}async function p(e){return"auth/wrong-password"===e?"Wrong combination of the credentials!":"auth/email-already-in-use"===e?"Email already is in use!":e}},3991:function(e,t){"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{PrefetchKind:function(){return n},ACTION_REFRESH:function(){return i},ACTION_NAVIGATE:function(){return s},ACTION_RESTORE:function(){return a},ACTION_SERVER_PATCH:function(){return o},ACTION_PREFETCH:function(){return l},ACTION_FAST_REFRESH:function(){return u},ACTION_SERVER_ACTION:function(){return c}});let i="refresh",s="navigate",a="restore",o="server-patch",l="prefetch",u="fast-refresh",c="server-action";(r=n||(n={})).AUTO="auto",r.FULL="full",r.TEMPORARY="temporary",("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1516:function(e,t){"use strict";function n(e,t,n,r){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return n}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3740:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return v}});let r=n(260),i=n(7697),s=i._(n(7294)),a=r._(n(2636)),o=n(7757),l=n(3735),u=n(3341);n(4210);let c=r._(n(7746)),h={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function d(e){return void 0!==e.default}function f(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function p(e,t,n,r,i,s,a){if(!e||e["data-loaded-src"]===t)return;e["data-loaded-src"]=t;let o="decode"in e?e.decode():Promise.resolve();o.catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("blur"===n&&s(!0),null==r?void 0:r.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,i=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>i,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{i=!0,t.stopPropagation()}})}(null==i?void 0:i.current)&&i.current(e)}})}function m(e){let[t,n]=s.version.split("."),r=parseInt(t,10),i=parseInt(n,10);return r>18||18===r&&i>=3?{fetchPriority:e}:{fetchpriority:e}}let g=(0,s.forwardRef)((e,t)=>{let{imgAttributes:n,heightInt:r,widthInt:i,qualityInt:a,className:o,imgStyle:l,blurStyle:u,isLazy:c,fetchPriority:h,fill:d,placeholder:f,loading:g,srcString:y,config:v,unoptimized:w,loader:b,onLoadRef:_,onLoadingCompleteRef:S,setBlurComplete:T,setShowAltText:k,onLoad:E,onError:D,...C}=e;return g=c?"lazy":g,s.default.createElement("img",{...C,...m(h),loading:g,width:i,height:r,decoding:"async","data-nimg":d?"fill":"1",className:o,style:{...l,...u},...n,ref:(0,s.useCallback)(e=>{t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),e&&(D&&(e.src=e.src),e.complete&&p(e,y,f,_,S,T,w))},[y,f,_,S,T,D,w,t]),onLoad:e=>{let t=e.currentTarget;p(t,y,f,_,S,T,w)},onError:e=>{k(!0),"blur"===f&&T(!0),D&&D(e)}})}),y=(0,s.forwardRef)((e,t)=>{var n;let r,i,{src:p,sizes:y,unoptimized:v=!1,priority:w=!1,loading:b,className:_,quality:S,width:T,height:k,fill:E,style:D,onLoad:C,onLoadingComplete:x,placeholder:O="empty",blurDataURL:P,fetchPriority:I,layout:M,objectFit:R,objectPosition:A,lazyBoundary:N,lazyRoot:j,...L}=e,F=(0,s.useContext)(u.ImageConfigContext),U=(0,s.useMemo)(()=>{let e=h||F||l.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),n=e.deviceSizes.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:n}},[F]),V=L.loader||c.default;delete L.loader;let B="__next_img_default"in V;if(B){if("custom"===U.loader)throw Error('Image with src "'+p+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=V;V=t=>{let{config:n,...r}=t;return e(r)}}if(M){"fill"===M&&(E=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[M];e&&(D={...D,...e});let t={responsive:"100vw",fill:"100vw"}[M];t&&!y&&(y=t)}let W="",Y=f(T),H=f(k);if("object"==typeof(n=p)&&(d(n)||void 0!==n.src)){let e=d(p)?p.default:p;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(r=e.blurWidth,i=e.blurHeight,P=P||e.blurDataURL,W=e.src,!E){if(Y||H){if(Y&&!H){let t=Y/e.width;H=Math.round(e.height*t)}else if(!Y&&H){let t=H/e.height;Y=Math.round(e.width*t)}}else Y=e.width,H=e.height}}let z=!w&&("lazy"===b||void 0===b);(!(p="string"==typeof p?p:W)||p.startsWith("data:")||p.startsWith("blob:"))&&(v=!0,z=!1),U.unoptimized&&(v=!0),B&&p.endsWith(".svg")&&!U.dangerouslyAllowSVG&&(v=!0),w&&(I="high");let[q,$]=(0,s.useState)(!1),[G,Z]=(0,s.useState)(!1),K=f(S),Q=Object.assign(E?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:R,objectPosition:A}:{},G?{}:{color:"transparent"},D),X="blur"===O&&P&&!q?{backgroundSize:Q.objectFit||"cover",backgroundPosition:Q.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:'url("data:image/svg+xml;charset=utf-8,'+(0,o.getImageBlurSvg)({widthInt:Y,heightInt:H,blurWidth:r,blurHeight:i,blurDataURL:P,objectFit:Q.objectFit})+'")'}:{},J=function(e){let{config:t,src:n,unoptimized:r,width:i,quality:s,sizes:a,loader:o}=e;if(r)return{src:n,srcSet:void 0,sizes:void 0};let{widths:l,kind:u}=function(e,t,n){let{deviceSizes:r,allSizes:i}=e;if(n){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let r;r=e.exec(n);r)t.push(parseInt(r[2]));if(t.length){let e=.01*Math.min(...t);return{widths:i.filter(t=>t>=r[0]*e),kind:"w"}}return{widths:i,kind:"w"}}if("number"!=typeof t)return{widths:r,kind:"w"};let s=[...new Set([t,2*t].map(e=>i.find(t=>t>=e)||i[i.length-1]))];return{widths:s,kind:"x"}}(t,i,a),c=l.length-1;return{sizes:a||"w"!==u?a:"100vw",srcSet:l.map((e,r)=>o({config:t,src:n,quality:s,width:e})+" "+("w"===u?e:r+1)+u).join(", "),src:o({config:t,src:n,quality:s,width:l[c]})}}({config:U,src:p,unoptimized:v,width:Y,quality:K,sizes:y,loader:V}),ee=p,et=(0,s.useRef)(C);(0,s.useEffect)(()=>{et.current=C},[C]);let en=(0,s.useRef)(x);(0,s.useEffect)(()=>{en.current=x},[x]);let er={isLazy:z,imgAttributes:J,heightInt:H,widthInt:Y,qualityInt:K,className:_,imgStyle:Q,blurStyle:X,loading:b,config:U,fetchPriority:I,fill:E,unoptimized:v,placeholder:O,loader:V,srcString:ee,onLoadRef:et,onLoadingCompleteRef:en,setBlurComplete:$,setShowAltText:Z,...L};return s.default.createElement(s.default.Fragment,null,s.default.createElement(g,{...er,ref:t}),w?s.default.createElement(a.default,null,s.default.createElement("link",{key:"__nimg-"+J.src+J.srcSet+J.sizes,rel:"preload",as:"image",href:J.srcSet?void 0:J.src,imageSrcSet:J.srcSet,imageSizes:J.sizes,crossOrigin:L.crossOrigin,...m(I)})):null)}),v=y;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5569:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return b}});let r=n(260),i=r._(n(7294)),s=n(4532),a=n(3353),o=n(1410),l=n(9064),u=n(370),c=n(9955),h=n(4224),d=n(508),f=n(1516),p=n(4266),m=n(3991),g=new Set;function y(e,t,n,r,i,s){if(!s&&!(0,a.isLocalURL)(t))return;if(!r.bypassPrefetchedCheck){let i=void 0!==r.locale?r.locale:"locale"in e?e.locale:void 0,s=t+"%"+n+"%"+i;if(g.has(s))return;g.add(s)}let o=s?e.prefetch(t,i):e.prefetch(t,n,r);Promise.resolve(o).catch(e=>{})}function v(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}let w=i.default.forwardRef(function(e,t){let n,r;let{href:o,as:g,children:w,prefetch:b=null,passHref:_,replace:S,shallow:T,scroll:k,locale:E,onClick:D,onMouseEnter:C,onTouchStart:x,legacyBehavior:O=!1,...P}=e;n=w,O&&("string"==typeof n||"number"==typeof n)&&(n=i.default.createElement("a",null,n));let I=!1!==b,M=null===b?m.PrefetchKind.AUTO:m.PrefetchKind.FULL,R=i.default.useContext(c.RouterContext),A=i.default.useContext(h.AppRouterContext),N=null!=R?R:A,j=!R,{href:L,as:F}=i.default.useMemo(()=>{if(!R){let e=v(o);return{href:e,as:g?v(g):e}}let[e,t]=(0,s.resolveHref)(R,o,!0);return{href:e,as:g?(0,s.resolveHref)(R,g):t||e}},[R,o,g]),U=i.default.useRef(L),V=i.default.useRef(F);O&&(r=i.default.Children.only(n));let B=O?r&&"object"==typeof r&&r.ref:t,[W,Y,H]=(0,d.useIntersection)({rootMargin:"200px"}),z=i.default.useCallback(e=>{(V.current!==F||U.current!==L)&&(H(),V.current=F,U.current=L),W(e),B&&("function"==typeof B?B(e):"object"==typeof B&&(B.current=e))},[F,B,L,H,W]);i.default.useEffect(()=>{N&&Y&&I&&y(N,L,F,{locale:E},{kind:M},j)},[F,L,Y,E,I,null==R?void 0:R.locale,N,j,M]);let q={ref:z,onClick(e){O||"function"!=typeof D||D(e),O&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(e),N&&!e.defaultPrevented&&function(e,t,n,r,s,o,l,u,c,h){let{nodeName:d}=e.currentTarget,f="A"===d.toUpperCase();if(f&&(function(e){let t=e.currentTarget,n=t.getAttribute("target");return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!c&&!(0,a.isLocalURL)(n)))return;e.preventDefault();let p=()=>{"beforePopState"in t?t[s?"replace":"push"](n,r,{shallow:o,locale:u,scroll:l}):t[s?"replace":"push"](r||n,{forceOptimisticNavigation:!h})};c?i.default.startTransition(p):p()}(e,N,L,F,S,T,k,E,j,I)},onMouseEnter(e){O||"function"!=typeof C||C(e),O&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),N&&(I||!j)&&y(N,L,F,{locale:E,priority:!0,bypassPrefetchedCheck:!0},{kind:M},j)},onTouchStart(e){O||"function"!=typeof x||x(e),O&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),N&&(I||!j)&&y(N,L,F,{locale:E,priority:!0,bypassPrefetchedCheck:!0},{kind:M},j)}};if((0,l.isAbsoluteUrl)(F))q.href=F;else if(!O||_||"a"===r.type&&!("href"in r.props)){let e=void 0!==E?E:null==R?void 0:R.locale,t=(null==R?void 0:R.isLocaleDomain)&&(0,f.getDomainLocale)(F,e,null==R?void 0:R.locales,null==R?void 0:R.domainLocales);q.href=t||(0,p.addBasePath)((0,u.addLocale)(F,e,null==R?void 0:R.defaultLocale))}return O?i.default.cloneElement(r,q):i.default.createElement("a",{...P,...q},n)}),b=w;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},508:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return l}});let r=n(7294),i=n(29),s="function"==typeof IntersectionObserver,a=new Map,o=[];function l(e){let{rootRef:t,rootMargin:n,disabled:l}=e,u=l||!s,[c,h]=(0,r.useState)(!1),d=(0,r.useRef)(null),f=(0,r.useCallback)(e=>{d.current=e},[]);(0,r.useEffect)(()=>{if(s){if(u||c)return;let e=d.current;if(e&&e.tagName){let r=function(e,t,n){let{id:r,observer:i,elements:s}=function(e){let t;let n={root:e.root||null,margin:e.rootMargin||""},r=o.find(e=>e.root===n.root&&e.margin===n.margin);if(r&&(t=a.get(r)))return t;let i=new Map,s=new IntersectionObserver(e=>{e.forEach(e=>{let t=i.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)})},e);return t={id:n,observer:s,elements:i},o.push(n),a.set(n,t),t}(n);return s.set(e,t),i.observe(e),function(){if(s.delete(e),i.unobserve(e),0===s.size){i.disconnect(),a.delete(r);let e=o.findIndex(e=>e.root===r.root&&e.margin===r.margin);e>-1&&o.splice(e,1)}}}(e,e=>e&&h(e),{root:null==t?void 0:t.current,rootMargin:n});return r}}else if(!c){let e=(0,i.requestIdleCallback)(()=>h(!0));return()=>(0,i.cancelIdleCallback)(e)}},[u,n,t,c,d.current]);let p=(0,r.useCallback)(()=>{h(!1)},[]);return[f,c,p]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7757:function(e,t){"use strict";function n(e){let{widthInt:t,heightInt:n,blurWidth:r,blurHeight:i,blurDataURL:s,objectFit:a}=e,o=r||t,l=i||n,u=s.startsWith("data:image/jpeg")?"%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'/%3E%3C/feComponentTransfer%3E%":"";return o&&l?"%3Csvg xmlns='http%3A//www.w3.org/2000/svg' viewBox='0 0 "+o+" "+l+"'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='"+(r&&i?"1":"20")+"'/%3E"+u+"%3C/filter%3E%3Cimage preserveAspectRatio='none' filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' href='"+s+"'/%3E%3C/svg%3E":"%3Csvg xmlns='http%3A//www.w3.org/2000/svg'%3E%3Cimage style='filter:blur(20px)' preserveAspectRatio='"+("contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none")+"' x='0' y='0' height='100%25' width='100%25' href='"+s+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return n}})},7746:function(e,t){"use strict";function n(e){let{config:t,src:n,width:r,quality:i}=e;return t.path+"?url="+encodeURIComponent(n)+"&w="+r+"&q="+(i||75)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),n.__next_img_default=!0;let r=n},5199:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(5893);n(3814),n(6648),n(7055);var i=n(1163),s=n.n(i),a=n(7294),o=n(1664),l=n.n(o),u=n(5675),c=n.n(u);let h=a.forwardRef(function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"}))});var d=n(381),f=n.n(d),p=n(4538);function m(e){let t=(0,i.useRouter)(),n=n=>{e.setFullNavbar(!1),t.push({pathname:"/hotel/google/list/".concat(n,"/"),query:{checkin:String(f()(new Date).format("DD-MM-YYYY")),num_nights:String(1),num_guests:String(2),hotel_id:String(n)}})},[s,o]=a.useState([{name:"Hotel Aira Xing by Staybook",hotelId:"24669"},{name:"Staybook Jyoti Mahal A Heritage Hotel",hotelId:"25095"},{name:"Staybook Hotel Jai Balaji New Delhi Train Station",hotelId:"23690"},{name:"Staybook Hotel Pinky Villa",hotelId:"23540"},{name:"Staybook Atlanta New Delhi Train Station",hotelId:"24712"},{name:"Staybook WoodsView Mall Road Mussorie",hotelId:"12348"},{name:"Staybook Shivdev New Delhi Railway Station",hotelId:""},{name:"Staybook BlueSky Camp, Manali",hotelId:"12347"},{name:"Staybook@South Delhi",hotelId:"12349"},{name:"Staybook City Stories New Delhi Train Station",hotelId:"12346"},{name:"Corbett Paradiso Resort By Staybook",hotelId:"12345"}]);return(0,r.jsx)(a.Fragment,{children:(0,r.jsxs)(p.E.div,{className:"fixed flex flex-col left-0 top-0 w-screen h-screen z-50 bg-[#fff] px-8 py-6 md:px-12 md:py-8",children:[(0,r.jsxs)("div",{className:"relative w-full flex justify-between mb-2 md:mb-4",children:[(0,r.jsx)("div",{className:"relative flex items-center align-middle h-10 w-40 md:h-16 md:w-56 my-auto",children:(0,r.jsx)(c(),{src:"/logo.png",alt:"icon",layout:"fill",objectFit:"contain",objectPosition:"left",className:""})}),(0,r.jsx)("div",{onClick:()=>{e.setFullNavbar(!e.fullNavbar)},className:"relative flex my-auto items-center align-middle h-8 w-8 md:h-10 md:w-10 rounded-full bg-slate-200 hover:bg-slate-300 cursor-pointer",children:(0,r.jsx)(c(),{src:"/close.png",alt:"img",layout:"fill",objectFit:"cover",className:"p-2"})})]}),(0,r.jsxs)("div",{className:"relative w-full h-full flex justify-between flex-col overflow-y-scroll md:flex-row md:flex-wrap space-y-2 no-scrollbar",children:[(0,r.jsxs)("div",{className:"relative flex flex-col",children:[(0,r.jsx)("h2",{className:"text-center font-semibold text-4xl font-serif text-gray-400 mb-3",children:"Hotels"}),(0,r.jsx)("div",{className:"relative flex flex-col space-y-2 no-scrollbar",children:s.map((e,t)=>(0,r.jsx)("div",{className:"text-[#cf8f24] my-1 cursor-pointer hover:underline text-md text-justify",onClick:n.bind(null,e.hotelId),children:e.name},t))})]}),(0,r.jsxs)("div",{className:"relative flex flex-col",children:[(0,r.jsx)("h2",{className:"text-center font-semibold text-4xl font-serif text-gray-400 mb-3",children:"Profile"}),(0,r.jsxs)("div",{className:"relative flex flex-col space-y-2 no-scrollbar",children:[(0,r.jsx)(l(),{href:"/profile",children:(0,r.jsx)("div",{className:"text-[#cf8f24] my-1 cursor-pointer hover:underline text-md text-justify",onClick:()=>{e.setFullNavbar(!1)},children:"Login"})}),(0,r.jsx)(l(),{href:"/profile",children:(0,r.jsx)("div",{className:"text-[#cf8f24] my-1 cursor-pointer hover:underline text-md text-justify",onClick:()=>{e.setFullNavbar(!1)},children:"My Profile"})}),(0,r.jsx)(l(),{href:"/profile/personal-info",children:(0,r.jsx)("div",{className:"text-[#cf8f24] my-1 cursor-pointer hover:underline text-md text-justify",onClick:()=>{e.setFullNavbar(!1)},children:"Personal Info"})}),(0,r.jsx)(l(),{href:"/profile/my-bookings",children:(0,r.jsx)("div",{className:"text-[#cf8f24] my-1 cursor-pointer hover:underline text-md text-justify",onClick:()=>{e.setFullNavbar(!1)},children:"My Bookings"})})]})]})]}),(0,r.jsx)("div",{className:"relative flex w-full py-2 mx-auto justify-center align-middle items-center",children:(0,r.jsx)("button",{onClick:()=>{e.setFullNavbar(!1),t.push("/hotel")},className:"relative px-4 py-2 w-fit bg-[#cf8f24] text-white rounded-md",children:"Book Hotel"})})]})})}n(1759),n(5138);var g=n(8757);let y=a.forwardRef(function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))});var v=n(286),w=n(4652);function b(e){let t=(0,i.useRouter)(),[n,s]=a.useState(""),[o,l]=a.useState(new Date),[u,h]=a.useState((0,w.E4)(new Date,1)),[d,m]=a.useState(2),[b,_]=a.useState("Search hotels in Delhi"),S=e=>{l(e.selection.startDate),h(e.selection.endDate)},T=()=>{s("")},k=e=>{1===e?d<=3&&m(d+1):d>=3&&m(d-1)},E=e=>{t.push({pathname:"/search",query:{q:String(n),checkin:String(f()(o).format("DD-MM-YYYY")),checkout:String(f()(u).format("DD-MM-YYYY")),num_nights:String((0,w.hM)(o,u)),num_guests:String(d)}}),T()};return(0,r.jsx)(a.Fragment,{children:(0,r.jsxs)(p.E.div,{className:"relative w-[85%] md:w-[70%] lg:w-[60%] xl:w-[50%] hidden md:flex flex-col justify-center items-center mx-auto",children:[(0,r.jsxs)(p.E.div,{initial:{opacity:0,y:-35},transition:{duration:2,type:"spring",stiffness:100},whileInView:{opacity:1,y:0},className:"relative w-[100%] flex flex-row justify-between items-center border-2 rounded-full py-1 px-2 shadow-sm hover:shadow-md",children:[(0,r.jsx)("input",{value:n,onChange:e=>s(e.target.value),type:"text",placeholder:b,className:"flex-grow pl-2 bg-transparent outline-none text-md text-gray-600 placeholder-gray-400"}),(0,r.jsx)(y,{className:"h-8 bg-[#cf8f24] text-white p-2 rounded-full cursor-pointer",onClick:E})]}),(0,r.jsxs)(p.E.div,{className:"".concat(n?"absolute":"hidden"," \n          w-fit align-middle items-center justify-center mt-[500px] p-2 rounded-lg bg-slate-100 z-30"),initial:{opacity:0},transition:{duration:4,type:"spring",stiffness:200},whileInView:{opacity:1},children:[(0,r.jsx)("div",{className:"flex",children:(0,r.jsx)(v.Dw,{ranges:[{startDate:o,endDate:u,key:"selection"}],minDate:new Date,rangeColors:["#cf8f24"],onChange:S})}),(0,r.jsxs)("div",{className:"flex flex-row flex-between pt-2 border-b-2",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold flex-grow",children:"Number of Guests"}),(0,r.jsxs)("div",{className:"flex items-center align-middle justify-center",children:[(0,r.jsx)("div",{className:"p-[6px] bg-gray-300 rounded-full mr-3 cursor-pointer",onClick:()=>k(-1),children:(0,r.jsx)(c(),{alt:"icon",src:"/minus-icon.png",width:"10",height:"10"})}),(0,r.jsx)(g.Z,{className:"h-6"}),(0,r.jsx)("input",{"aria-label":"Search",onChange:e=>{},type:"number",value:d,min:2,max:4,className:"w-8 text-lg ml-2 text-right outline-none text-[#cf8f24]"}),(0,r.jsx)("div",{className:"p-[6px] bg-gray-300 rounded-full ml-3 cursor-pointer",onClick:()=>k(1),children:(0,r.jsx)(c(),{alt:"icon",src:"/plus-icon.png",width:"10",height:"10"})})]})]}),(0,r.jsxs)("div",{className:"flex pt-2",children:[(0,r.jsx)("button",{className:"flex-grow text-gray-500",onClick:T,children:"Cancel"}),(0,r.jsx)("button",{className:"flex-grow text-[#cf8f24]",onClick:E,children:"Search"})]})]})]})})}function _(e){return(0,r.jsx)(a.Fragment,{children:(0,r.jsx)(p.E.div,{initial:{opacity:0},transition:{duration:2,type:"spring",stiffness:200},whileInView:{opacity:1},className:"absolute bg-white shadow-lg border-[1px] px-2 py-2 rounded-lg mt-4 right-2 z-50 overflow-y-scroll",onClick:()=>{e.setDropDown(!1)},children:e.dropDown&&(0,r.jsx)("div",{className:"relative flex flex-col w-full overflow-y-scroll",children:(0,r.jsxs)("ul",{children:[(0,r.jsx)(l(),{href:"/hotel",children:(0,r.jsx)("li",{className:"relative flex align-middle items-center my-auto w-full text-left cursor-pointer hover:bg-slate-100 hover:shadow-sm px-2 py-1 rounded-md whitespace-no-wrap",children:(0,r.jsxs)("div",{className:"reltive flex",children:[(0,r.jsx)(c(),{src:"/nav-drop-down/hotels.png",alt:"icon",width:30,height:30,className:"rounded-full mr-2 border-[1px] border-gray-400"}),(0,r.jsx)("h3",{className:"my-auto font-serif text-lg font-medium",children:"Hotels"})]})})}),(0,r.jsx)("li",{className:"relative w-full p-[1px] my-1 bg-gray-200"}),(0,r.jsx)(l(),{href:"/packages",children:(0,r.jsx)("li",{className:"relative w-full text-left cursor-pointer hover:bg-slate-100 hover:shadow-sm px-2 py-1 rounded-md whitespace-no-wrap",children:(0,r.jsxs)("div",{className:"reltive flex",children:[(0,r.jsx)(c(),{src:"/nav-drop-down/packages.png",alt:"icon",width:30,height:30,className:"rounded-full mr-2 border-[1px] border-gray-400"}),(0,r.jsx)("h3",{className:"my-auto font-serif text-lg font-medium",children:"Tour Packages"})]})})}),(0,r.jsx)("li",{className:"relative w-full p-[1px] my-1 bg-gray-200"}),(0,r.jsx)(l(),{href:"/blogs",children:(0,r.jsx)("li",{className:"relative w-full text-left cursor-pointer hover:bg-slate-100 hover:shadow-sm px-2 py-1 rounded-md whitespace-no-wrap",children:(0,r.jsxs)("div",{className:"reltive flex",children:[(0,r.jsx)(c(),{src:"/nav-drop-down/blog.png",alt:"icon",width:30,height:30,className:"rounded-full mr-2 border-[1px] border-gray-400"}),(0,r.jsx)("h3",{className:"my-auto font-serif text-lg font-medium",children:"Blogs"})]})})}),(0,r.jsx)("li",{className:"relative w-full p-[1px] my-1 bg-gray-200"}),(0,r.jsx)(l(),{href:"/about",children:(0,r.jsx)("li",{className:"relative w-full text-left cursor-pointer hover:bg-slate-100 hover:shadow-sm px-2 py-1 rounded-md whitespace-no-wrap",children:(0,r.jsxs)("div",{className:"reltive flex",children:[(0,r.jsx)(c(),{src:"/nav-drop-down/about.png",alt:"icon",width:30,height:30,className:"rounded-full mr-2 border-[1px] border-gray-400"}),(0,r.jsx)("h3",{className:"my-auto font-serif text-lg font-medium",children:"About Us"})]})})}),(0,r.jsx)("li",{className:"relative w-full p-[1px] my-1 bg-gray-200"}),(0,r.jsx)(l(),{href:"/contact",children:(0,r.jsx)("li",{className:"relative w-full text-left cursor-pointer hover:bg-slate-100 hover:shadow-sm px-2 py-1 rounded-md whitespace-no-wrap",children:(0,r.jsxs)("div",{className:"reltive flex",children:[(0,r.jsx)(c(),{src:"/nav-drop-down/contact-us.png",alt:"icon",width:30,height:30,className:"rounded-full mr-2 border-[1px] border-gray-400"}),(0,r.jsx)("h3",{className:"my-auto font-serif text-lg font-medium",children:"Contact Us"})]})})}),(0,r.jsx)("li",{className:"relative w-full p-[1px] my-1 bg-gray-300"}),(0,r.jsx)(l(),{href:"/login",children:(0,r.jsx)("li",{className:"relative w-full text-left cursor-pointer hover:bg-slate-100 hover:shadow-sm px-2 py-1 rounded-md whitespace-no-wrap",children:(0,r.jsxs)("div",{className:"reltive flex",children:[(0,r.jsx)(c(),{src:"/nav-drop-down/my-profile.png",alt:"icon",width:30,height:30,className:"rounded-full mr-2 border-[1px] border-gray-400"}),(0,r.jsx)("h3",{className:"my-auto font-serif text-lg font-medium",children:"My Profile"})]})})})]})})})})}var S=n(8121);function T(e){let[t,n]=a.useState(!1),[s,o]=a.useState(!1),[u,d]=a.useState(!0);(0,i.useRouter)();let[f,p]=a.useState("/user.png");return a.useEffect(()=>{(async function(){let e=await (0,S.CD)();""!==e&&p(e)})()},[]),(0,r.jsxs)(a.Fragment,{children:[s&&(0,r.jsx)(m,{fullNavbar:s,setFullNavbar:o}),(0,r.jsxs)("header",{className:"sticky flex justify-between items-center align-middle top-0 z-40 grid-cols-3 bg-white shadow-md py-3 px-3",children:[(0,r.jsx)(l(),{href:"/",children:(0,r.jsx)("div",{className:"relative flex items-center align-middle h-10 w-40 cursor-pointer my-auto",children:(0,r.jsx)(c(),{src:"/logo.png",alt:"icon",layout:"fill",objectFit:"contain",objectPosition:"left",className:""})})}),(0,r.jsx)("div",{className:"relative stickey w-full items-center align-middle",children:(0,r.jsx)(b,{})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{onClick:()=>{n(!t)},className:"flex relative space-x-2 text-gray-400 items-center align-middle cursor-pointer p-1 border-2 rounded-full shadow-sm hover:shadow-md",children:[(0,r.jsx)(h,{height:30,width:40}),(0,r.jsx)(c(),{src:f,alt:"icon",height:30,width:30,objectFit:"contain",objectPosition:"left",className:"rounded-full"})]}),t&&(0,r.jsx)(_,{dropDown:t,setDropDown:n})]})]})]})}var k=n(6014),E=n.n(k);function D(){let e=(0,i.useRouter)(),t=t=>{e.push({pathname:"/hotel/google/list/".concat(t,"/"),query:{checkin:String(f()(new Date).format("DD-MM-YYYY")),num_nights:String(1),num_guests:String(2),hotel_id:String(t)}})},[n,s]=(0,a.useState)([{name:"Hotel Aira Xing by Staybook",hotelId:"24669"},{name:"Staybook Jyoti Mahal A Heritage Hotel",hotelId:"25095"},{name:"Staybook Hotel Jai Balaji New Delhi Train Station",hotelId:"23690"},{name:"Staybook Hotel Pinky Villa",hotelId:"23540"},{name:"Staybook Atlanta New Delhi Train Station",hotelId:"24712"},{name:"Staybook WoodsView Mall Road Mussorie",hotelId:"12348"},{name:"Staybook Shivdev New Delhi Railway Station",hotelId:""},{name:"Staybook BlueSky Camp, Manali",hotelId:"12347"},{name:"Staybook@South Delhi",hotelId:"12349"},{name:"Staybook City Stories New Delhi Train Station",hotelId:"12346"},{name:"Corbett Paradiso Resort By Staybook",hotelId:"12345"}]);return(0,r.jsx)(a.Fragment,{children:(0,r.jsxs)("div",{className:"".concat(E().footerBody," ").concat(E().noprint),children:[(0,r.jsx)(c(),{src:"/images/footerBg.svg",alt:"StayBook",layout:"fill",objectFit:"contain",objectPosition:"left"}),(0,r.jsxs)("div",{className:E().logoCircle,children:[(0,r.jsx)(c(),{src:"/images/logo.png",alt:"StayBook",layout:"fill",objectFit:"contain",objectPosition:"center"}),(0,r.jsx)("div",{className:E().line}),(0,r.jsx)("p",{children:"2022 \xa9 StayBook, New Delhi. All rights reserved"}),(0,r.jsx)(l(),{href:"Tel: +91-8373929299",children:"Ph. no: +91-8373929299"}),(0,r.jsx)(l(),{href:"mailto: booking@staybook.in",children:"booking@staybook.in"})]}),(0,r.jsxs)("div",{className:"".concat(E().linkCard," ").concat(E().noprint),children:[(0,r.jsxs)("div",{className:E().heading,children:[(0,r.jsx)("h2",{children:"Hotels:"}),n.map((e,n)=>(0,r.jsx)("div",{className:"text-[#cf8f24] my-1 cursor-pointer hover:underline text-sm",onClick:t.bind(null,e.hotelId),children:e.name},n))]}),(0,r.jsxs)("div",{className:E().heading,children:[(0,r.jsx)("h2",{children:"Socials:"}),(0,r.jsx)(l(),{href:"https://www.instagram.com/staybook_1/",target:"_blank",children:"Instagram"}),(0,r.jsx)(l(),{href:"https://www.facebook.com/budgetfriendlyhotel?paipv=0&eav=AfZ-waWz6OajACPaAqHeTptaNS9Rt4i4iwbdVK0jE5KwoQfbZ6GsLkTVHLjTpMMeyxk",target:"_blank",children:"Facebook"}),(0,r.jsx)(l(),{href:"https://twitter.com/stayboook",target:"_blank",children:"Twitter"})]}),(0,r.jsxs)("div",{className:E().heading,children:[(0,r.jsx)("h2",{children:"Interests:"}),(0,r.jsx)(l(),{href:"/packages",children:"Tours and Packages"}),(0,r.jsx)(l(),{href:"/blogs",children:"Blogs"}),(0,r.jsx)(l(),{href:"/aboutus",children:"About Us"}),(0,r.jsx)(l(),{href:"/contactUs",children:"Contact Us"}),(0,r.jsx)(l(),{href:"/FAQ",children:"FAQ"})]}),(0,r.jsxs)("div",{className:E().heading,children:[(0,r.jsx)("h2",{children:"Misc:"}),(0,r.jsx)(l(),{href:"/tnc",children:"Terms and Conditions"}),(0,r.jsx)(l(),{href:"/policy/privacy-policy",children:"Privacy Policy"}),(0,r.jsx)(l(),{href:"/policy/refund-policy",children:"Refund Policy"}),(0,r.jsx)(l(),{href:"/policy/general-policy",children:"General Policy"})]})]})]})})}function C(e){return(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(T,{}),(0,r.jsx)("main",{children:e.children}),(0,r.jsx)(D,{})]})}let x=new function(e){this.start=void 0,this.finish=void 0;var t,n,r=Object.assign,i=r({size:2,color:"#29e",className:"bar-of-progress",delay:80},e),s={position:"fixed",top:0,left:0,margin:0,padding:0,border:"none",borderRadius:0,backgroundColor:i.color,zIndex:1e4,height:"number"==typeof i.size?i.size+"px":i.size,color:i.color,opacity:0,width:"0%"},a={opacity:1,width:"99%",transition:"width 10s cubic-bezier(0.1, 0.05, 0, 1)"},o={opacity:0,width:"100%",transition:"width 0.1s ease-out, opacity 0.5s ease 0.2s"},l={opacity:.4,boxShadow:"3px 0 8px",height:"100%"};this.start=function(){n&&n.parentNode&&n.parentNode.removeChild(n),(n=document.body.appendChild(document.createElement("div"))).className=i.className+" stopped",r(n.style,s);var e=n.appendChild(document.createElement("div"));e.className="glow",r(e.style,l),null!=t&&clearTimeout(t),t=setTimeout(function(){t=void 0,n.className=i.className+" started",r(n.style,a)},i.delay),n.scrollTop=0},this.finish=function(){null!=t&&(clearTimeout(t),t=void 0),n&&(n.className=i.className+" finished",r(n.style,o))}}({size:4,color:"#FE595E",className:"z-100",delay:100});function O(e){let{Component:t,pageProps:n}=e;return(0,r.jsx)(C,{children:(0,r.jsx)(t,{...n})})}s().events.on("routeChangeStart",x.start),s().events.on("routeChangeComplete",x.finish),s().events.on("routeChangeError",x.finish)},1759:function(){},5138:function(){},3814:function(){},7055:function(){},6648:function(){},6014:function(e){e.exports={footerBody:"Footer_footerBody___A_HH",logoCircle:"Footer_logoCircle__I0RxD",line:"Footer_line__SiR9h",linkCard:"Footer_linkCard___acwh",heading:"Footer_heading__M3iTK",noprint:"Footer_noprint__hEu_v"}},7663:function(e){!function(){var t={229:function(e){var t,n,r,i=e.exports={};function s(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l=[],u=!1,c=-1;function h(){u&&r&&(u=!1,r.length?l=r.concat(l):c=-1,l.length&&d())}function d(){if(!u){var e=o(h);u=!0;for(var t=l.length;t;){for(r=l,l=[];++c<t;)r&&r[c].run();c=-1,t=l.length}r=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new f(e,t)),1!==l.length||u||o(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var s=n[e]={exports:{}},a=!0;try{t[e](s,s.exports,r),a=!1}finally{a&&delete n[e]}return s.exports}r.ab="//";var i=r(229);e.exports=i}()},5675:function(e,t,n){e.exports=n(3740)},1664:function(e,t,n){e.exports=n(5569)},1163:function(e,t,n){e.exports=n(6885)},2703:function(e,t,n){"use strict";var r=n(414);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,a){if(a!==r){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},5697:function(e,t,n){e.exports=n(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9336:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ariaLabelsShape=void 0;var r,i=(r=n(5697))&&r.__esModule?r:{default:r},s=i.default.shape({dateInput:i.default.objectOf(i.default.shape({startDate:i.default.string,endDate:i.default.string})),monthPicker:i.default.string,yearPicker:i.default.string,prevButton:i.default.string,nextButton:i.default.string});t.ariaLabelsShape=s},1660:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(7294)),s=A(n(5697)),a=n(376),o=A(n(9680)),l=A(n(6359)),u=n(586),c=A(n(4184)),h=A(n(6970)),d=n(781),f=A(n(9890)),p=A(n(7950)),m=A(n(7803)),g=A(n(9160)),y=A(n(7349)),v=A(n(4135)),w=A(n(3703)),b=A(n(4129)),_=A(n(6218)),S=A(n(4749)),T=A(n(1593)),k=A(n(3151)),E=A(n(7090)),D=A(n(584)),C=A(n(9005)),x=A(n(2298)),O=A(n(4559)),P=A(n(1640)),I=A(n(5077)),M=A(n(9932)),R=n(9336);function A(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){H(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(T,e);var t,n,s,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,i=Y(T);if(t){var s=Y(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(e=n)&&("object"===r(e)||"function"==typeof e)?e:W(this)});function T(e,t){var n;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,T),H(W(n=a.call(this,e,t)),"focusToDate",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props,r=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!t.scroll.enabled){if(r&&t.preventSnapRefocus){var i=(0,b.default)(e,n.state.focusedDate),s="forwards"===t.calendarFocus&&i>=0,a="backwards"===t.calendarFocus&&i<=0;if((s||a)&&Math.abs(i)<t.months)return}n.setState({focusedDate:e});return}var o=(0,b.default)(e,t.minDate,n.dateOptions),l=n.list.getVisibleRange();r&&l.includes(o)||(n.isFirstRender=!0,n.list.scrollTo(o),n.setState({focusedDate:e}))}),H(W(n),"updateShownDate",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props,t=e.scroll.enabled?U(U({},e),{},{months:n.list.getVisibleRange().length}):e,r=(0,u.calcFocusDate)(n.state.focusedDate,t);n.focusToDate(r,t)}),H(W(n),"updatePreview",function(e){if(!e){n.setState({preview:null});return}var t={startDate:e,endDate:e,color:n.props.color};n.setState({preview:t})}),H(W(n),"changeShownDate",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set",r=n.state.focusedDate,i=n.props,s=i.onShownDateChange,a=i.minDate,o=i.maxDate,l={monthOffset:function(){return(0,P.default)(r,e)},setMonth:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return(0,_.default)(r,e)}),setYear:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return(0,S.default)(r,e)}),set:function(){return e}},u=(0,p.default)([(0,f.default)([l[t](),a]),o]);n.focusToDate(u,n.props,!1),s&&s(u)}),H(W(n),"handleRangeFocusChange",function(e,t){n.props.onRangeFocusChange&&n.props.onRangeFocusChange([e,t])}),H(W(n),"handleScroll",function(){var e=n.props,t=e.onShownDateChange,r=e.minDate,i=n.state.focusedDate,s=W(n).isFirstRender,a=n.list.getVisibleRange();if(void 0!==a[0]){var o=(0,P.default)(r,a[0]||0);(0,g.default)(o,i)||s||(n.setState({focusedDate:o}),t&&t(o)),n.isFirstRender=!1}}),H(W(n),"renderMonthAndYear",function(e,t,r){var s=r.showMonthArrow,a=r.minDate,o=r.maxDate,l=r.showMonthAndYearPickers,u=r.ariaLabels,h=(o||T.defaultProps.maxDate).getFullYear(),d=(a||T.defaultProps.minDate).getFullYear(),f=n.styles;return i.default.createElement("div",{onMouseUp:function(e){return e.stopPropagation()},className:f.monthAndYearWrapper},s?i.default.createElement("button",{type:"button",className:(0,c.default)(f.nextPrevButton,f.prevButton),onClick:function(){return t(-1,"monthOffset")},"aria-label":u.prevButton},i.default.createElement("i",null)):null,l?i.default.createElement("span",{className:f.monthAndYearPickers},i.default.createElement("span",{className:f.monthPicker},i.default.createElement("select",{value:e.getMonth(),onChange:function(e){return t(e.target.value,"setMonth")},"aria-label":u.monthPicker},n.state.monthNames.map(function(e,t){return i.default.createElement("option",{key:t,value:t},e)}))),i.default.createElement("span",{className:f.monthAndYearDivider}),i.default.createElement("span",{className:f.yearPicker},i.default.createElement("select",{value:e.getFullYear(),onChange:function(e){return t(e.target.value,"setYear")},"aria-label":u.yearPicker},Array(h-d+1).fill(h).map(function(e,t){var n=e-t;return i.default.createElement("option",{key:n,value:n},n)})))):i.default.createElement("span",{className:f.monthAndYearPickers},n.state.monthNames[e.getMonth()]," ",e.getFullYear()),s?i.default.createElement("button",{type:"button",className:(0,c.default)(f.nextPrevButton,f.nextButton),onClick:function(){return t(1,"monthOffset")},"aria-label":u.nextButton},i.default.createElement("i",null)):null)}),H(W(n),"renderDateDisplay",function(){var e=n.props,t=e.focusedRange,r=e.color,s=e.ranges,a=e.rangeColors,o=e.dateDisplayFormat,u=e.editableDateInputs,h=e.startDatePlaceholder,d=e.endDatePlaceholder,f=e.ariaLabels,p=a[t[0]]||r,m=n.styles;return i.default.createElement("div",{className:m.dateDisplayWrapper},s.map(function(e,r){return!1===e.showDateDisplay||e.disabled&&!e.showDateDisplay?null:i.default.createElement("div",{className:m.dateDisplay,key:r,style:{color:e.color||p}},i.default.createElement(l.default,{className:(0,c.default)(m.dateDisplayItem,H({},m.dateDisplayItemActive,t[0]===r&&0===t[1])),readOnly:!u,disabled:e.disabled,value:e.startDate,placeholder:h,dateOptions:n.dateOptions,dateDisplayFormat:o,ariaLabel:f.dateInput&&f.dateInput[e.key]&&f.dateInput[e.key].startDate,onChange:n.onDragSelectionEnd,onFocus:function(){return n.handleRangeFocusChange(r,0)}}),i.default.createElement(l.default,{className:(0,c.default)(m.dateDisplayItem,H({},m.dateDisplayItemActive,t[0]===r&&1===t[1])),readOnly:!u,disabled:e.disabled,value:e.endDate,placeholder:d,dateOptions:n.dateOptions,dateDisplayFormat:o,ariaLabel:f.dateInput&&f.dateInput[e.key]&&f.dateInput[e.key].endDate,onChange:n.onDragSelectionEnd,onFocus:function(){return n.handleRangeFocusChange(r,1)}}))}))}),H(W(n),"onDragSelectionStart",function(e){var t=n.props,r=t.onChange;t.dragSelectionEnabled?n.setState({drag:{status:!0,range:{startDate:e,endDate:e},disablePreview:!0}}):r&&r(e)}),H(W(n),"onDragSelectionEnd",function(e){var t=n.props,r=t.updateRange,i=t.displayMode,s=t.onChange;if(t.dragSelectionEnabled){if("date"===i||!n.state.drag.status){s&&s(e);return}var a={startDate:n.state.drag.range.startDate,endDate:e};"dateRange"!==i||(0,k.default)(a.startDate,e)?n.setState({drag:{status:!1,range:{}}},function(){return s&&s(e)}):n.setState({drag:{status:!1,range:{}}},function(){r&&r(a)})}}),H(W(n),"onDragSelectionMove",function(e){var t=n.state.drag;t.status&&n.props.dragSelectionEnabled&&n.setState({drag:{status:t.status,range:{startDate:t.range.startDate,endDate:e},disablePreview:!0}})}),H(W(n),"estimateMonthSize",function(e,t){var r=n.props,i=r.direction,s=r.minDate,a=n.state.scrollArea;if(t&&(n.listSizeCache=t,t[e]))return t[e];if("horizontal"===i)return a.monthWidth;var o=(0,P.default)(s,e),l=(0,u.getMonthDisplayRange)(o,n.dateOptions),c=l.start,h=l.end;return(0,m.default)(h,c,n.dateOptions)+1>35?a.longMonthHeight:a.monthHeight}),n.dateOptions={locale:e.locale},void 0!==e.weekStartsOn&&(n.dateOptions.weekStartsOn=e.weekStartsOn),n.styles=(0,u.generateStyles)([M.default,e.classNames]),n.listSizeCache={},n.isFirstRender=!0,n.state={monthNames:n.getMonthNames(),focusedDate:(0,u.calcFocusDate)(null,e),drag:{status:!1,range:{startDate:null,endDate:null},disablePreview:!1},scrollArea:n.calcScrollArea(e)},n}return n=[{key:"getMonthNames",value:function(){var e,t=this;return((function(e){if(Array.isArray(e))return L(e)})(e=Array(12).keys())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){return t.props.locale.localize.month(e)})}},{key:"calcScrollArea",value:function(e){var t=e.direction,n=e.months,r=e.scroll;if(!r.enabled)return{enabled:!1};var i=r.longMonthHeight||r.monthHeight;return"vertical"===t?{enabled:!0,monthHeight:r.monthHeight||220,longMonthHeight:i||260,calendarWidth:"auto",calendarHeight:(r.calendarHeight||i||240)*n}:{enabled:!0,monthWidth:r.monthWidth||332,calendarWidth:(r.calendarWidth||r.monthWidth||332)*n,monthHeight:i||300,calendarHeight:i||300}}},{key:"componentDidMount",value:function(){var e=this;this.props.scroll.enabled&&setTimeout(function(){return e.focusToDate(e.state.focusedDate)})}},{key:"componentDidUpdate",value:function(e){var t={dateRange:"ranges",date:"date"}[this.props.displayMode];this.props[t]!==e[t]&&this.updateShownDate(this.props),(e.locale!==this.props.locale||e.weekStartsOn!==this.props.weekStartsOn)&&(this.dateOptions={locale:this.props.locale},void 0!==this.props.weekStartsOn&&(this.dateOptions.weekStartsOn=this.props.weekStartsOn),this.setState({monthNames:this.getMonthNames()})),(0,d.shallowEqualObjects)(e.scroll,this.props.scroll)||this.setState({scrollArea:this.calcScrollArea(this.props)})}},{key:"renderWeekdays",value:function(){var e=this,t=new Date;return i.default.createElement("div",{className:this.styles.weekDays},(0,C.default)({start:(0,D.default)(t,this.dateOptions),end:(0,E.default)(t,this.dateOptions)}).map(function(t,n){return i.default.createElement("span",{className:e.styles.weekDay,key:n},(0,x.default)(t,e.props.weekdayDisplayFormat,e.dateOptions))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.showDateDisplay,r=t.onPreviewChange,s=t.scroll,a=t.direction,l=t.disabledDates,u=t.disabledDay,d=t.maxDate,f=t.minDate,p=t.rangeColors,m=t.color,g=t.navigatorRenderer,_=t.className,S=t.preview,T=this.state,k=T.scrollArea,E=T.focusedDate,D="vertical"===a,C=g||this.renderMonthAndYear,x=this.props.ranges.map(function(e,t){return U(U({},e),{},{color:e.color||p[t]||m})});return i.default.createElement("div",{className:(0,c.default)(this.styles.calendarWrapper,_),onMouseUp:function(){return e.setState({drag:{status:!1,range:{}}})},onMouseLeave:function(){e.setState({drag:{status:!1,range:{}}})}},n&&this.renderDateDisplay(),C(E,this.changeShownDate,this.props),s.enabled?i.default.createElement("div",null,D&&this.renderWeekdays(this.dateOptions),i.default.createElement("div",{className:(0,c.default)(this.styles.infiniteMonths,D?this.styles.monthsVertical:this.styles.monthsHorizontal),onMouseLeave:function(){return r&&r()},style:{width:k.calendarWidth+11,height:k.calendarHeight+11},onScroll:this.handleScroll},i.default.createElement(h.default,{length:(0,b.default)((0,v.default)(d),(0,y.default)((0,w.default)(f),-1),this.dateOptions),treshold:500,type:"variable",ref:function(t){return e.list=t},itemSizeEstimator:this.estimateMonthSize,axis:D?"y":"x",itemRenderer:function(t,n){var s=(0,P.default)(f,t);return i.default.createElement(o.default,j({},e.props,{onPreviewChange:r||e.updatePreview,preview:S||e.state.preview,ranges:x,key:n,drag:e.state.drag,dateOptions:e.dateOptions,disabledDates:l,disabledDay:u,month:s,onDragSelectionStart:e.onDragSelectionStart,onDragSelectionEnd:e.onDragSelectionEnd,onDragSelectionMove:e.onDragSelectionMove,onMouseLeave:function(){return r&&r()},styles:e.styles,style:D?{height:e.estimateMonthSize(t)}:{height:k.monthHeight,width:e.estimateMonthSize(t)},showMonthName:!0,showWeekDays:!D}))}}))):i.default.createElement("div",{className:(0,c.default)(this.styles.months,D?this.styles.monthsVertical:this.styles.monthsHorizontal)},Array(this.props.months).fill(null).map(function(t,n){var s=(0,P.default)(e.state.focusedDate,n);return"backwards"===e.props.calendarFocus&&(s=(0,O.default)(e.state.focusedDate,e.props.months-1-n)),i.default.createElement(o.default,j({},e.props,{onPreviewChange:r||e.updatePreview,preview:S||e.state.preview,ranges:x,key:n,drag:e.state.drag,dateOptions:e.dateOptions,disabledDates:l,disabledDay:u,month:s,onDragSelectionStart:e.onDragSelectionStart,onDragSelectionEnd:e.onDragSelectionEnd,onDragSelectionMove:e.onDragSelectionMove,onMouseLeave:function(){return r&&r()},styles:e.styles,showWeekDays:!D||0===n,showMonthName:!D||n>0}))})))}}],V(T.prototype,n),s&&V(T,s),T}(i.PureComponent);z.defaultProps={showMonthArrow:!0,showMonthAndYearPickers:!0,disabledDates:[],disabledDay:function(){},classNames:{},locale:I.default,ranges:[],focusedRange:[0,0],dateDisplayFormat:"MMM d, yyyy",monthDisplayFormat:"MMM yyyy",weekdayDisplayFormat:"E",dayDisplayFormat:"d",showDateDisplay:!0,showPreview:!0,displayMode:"date",months:1,color:"#3d91ff",scroll:{enabled:!1},direction:"vertical",maxDate:(0,T.default)(new Date,20),minDate:(0,T.default)(new Date,-100),rangeColors:["#3d91ff","#3ecf8e","#fed14c"],startDatePlaceholder:"Early",endDatePlaceholder:"Continuous",editableDateInputs:!1,dragSelectionEnabled:!0,fixedHeight:!1,calendarFocus:"forwards",preventSnapRefocus:!1,ariaLabels:{}},z.propTypes={showMonthArrow:s.default.bool,showMonthAndYearPickers:s.default.bool,disabledDates:s.default.array,disabledDay:s.default.func,minDate:s.default.object,maxDate:s.default.object,date:s.default.object,onChange:s.default.func,onPreviewChange:s.default.func,onRangeFocusChange:s.default.func,classNames:s.default.object,locale:s.default.object,shownDate:s.default.object,onShownDateChange:s.default.func,ranges:s.default.arrayOf(a.rangeShape),preview:s.default.shape({startDate:s.default.object,endDate:s.default.object,color:s.default.string}),dateDisplayFormat:s.default.string,monthDisplayFormat:s.default.string,weekdayDisplayFormat:s.default.string,weekStartsOn:s.default.number,dayDisplayFormat:s.default.string,focusedRange:s.default.arrayOf(s.default.number),initialFocusedRange:s.default.arrayOf(s.default.number),months:s.default.number,className:s.default.string,showDateDisplay:s.default.bool,showPreview:s.default.bool,displayMode:s.default.oneOf(["dateRange","date"]),color:s.default.string,updateRange:s.default.func,scroll:s.default.shape({enabled:s.default.bool,monthHeight:s.default.number,longMonthHeight:s.default.number,monthWidth:s.default.number,calendarWidth:s.default.number,calendarHeight:s.default.number}),direction:s.default.oneOf(["vertical","horizontal"]),startDatePlaceholder:s.default.string,endDatePlaceholder:s.default.string,navigatorRenderer:s.default.func,rangeColors:s.default.arrayOf(s.default.string),editableDateInputs:s.default.bool,dragSelectionEnabled:s.default.bool,fixedHeight:s.default.bool,calendarFocus:s.default.string,preventSnapRefocus:s.default.bool,ariaLabels:R.ariaLabelsShape},t.default=z},6359:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(7294)),s=h(n(5697)),a=h(n(4184)),o=h(n(6843)),l=h(n(1436)),u=h(n(4037)),c=h(n(2298));function h(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(h,e);var t,n,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,i=g(h);if(t){var s=g(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(e=n)&&("object"===r(e)||"function"==typeof e)?e:m(this)});function h(e,t){var n;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,h),y(m(n=s.call(this,e,t)),"onKeyDown",function(e){var t=n.state.value;"Enter"===e.key&&n.update(t)}),y(m(n),"onChange",function(e){n.setState({value:e.target.value,changed:!0,invalid:!1})}),y(m(n),"onBlur",function(){var e=n.state.value;n.update(e)}),n.state={invalid:!1,changed:!1,value:n.formatDate(e)},n}return f(h.prototype,[{key:"componentDidUpdate",value:function(e){var t=e.value;(0,o.default)(t,this.props.value)||this.setState({value:this.formatDate(this.props)})}},{key:"formatDate",value:function(e){var t=e.value,n=e.dateDisplayFormat,r=e.dateOptions;return t&&(0,l.default)(t)?(0,c.default)(t,n,r):""}},{key:"update",value:function(e){var t=this.state,n=t.invalid,r=t.changed;if(!n&&r&&e){var i=this.props,s=i.onChange,a=i.dateDisplayFormat,o=i.dateOptions,c=(0,u.default)(e,a,new Date,o);(0,l.default)(c)?this.setState({changed:!1},function(){return s(c)}):this.setState({invalid:!0})}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.readOnly,r=e.placeholder,s=e.ariaLabel,o=e.disabled,l=e.onFocus,u=this.state,c=u.value,h=u.invalid;return i.default.createElement("span",{className:(0,a.default)("rdrDateInput",t)},i.default.createElement("input",{readOnly:n,disabled:o,value:c,placeholder:r,"aria-label":s,onKeyDown:this.onKeyDown,onChange:this.onChange,onBlur:this.onBlur,onFocus:l}),h&&i.default.createElement("span",{className:"rdrWarning"},""))}}]),n&&f(h,n),h}(i.PureComponent);v.propTypes={value:s.default.object,placeholder:s.default.string,disabled:s.default.bool,readOnly:s.default.bool,dateOptions:s.default.object,dateDisplayFormat:s.default.string,ariaLabel:s.default.string,className:s.default.string,onFocus:s.default.func.isRequired,onChange:s.default.func.isRequired},v.defaultProps={readOnly:!0,disabled:!1,dateDisplayFormat:"MMM D, YYYY"},t.default=v},3846:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(7294)),s=y(n(5697)),a=y(n(1660)),o=n(376),l=n(586),u=y(n(9890)),c=y(n(4257)),h=y(n(7950)),d=y(n(7349)),f=y(n(2300)),p=y(n(313)),m=y(n(4184)),g=y(n(9932));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){D(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(y,e);var t,n,s,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,i=E(y);if(t){var s=E(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(e=n)&&("object"===r(e)||"function"==typeof e)?e:k(this)});function y(e,t){var n;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,y),D(k(n=o.call(this,e,t)),"calcNewSelection",function(e){var t,r=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=n.props.focusedRange||n.state.focusedRange,s=n.props,a=s.ranges,o=s.onChange,m=s.maxDate,g=s.moveRangeOnFirstSelection,y=s.retainEndDateOnFirstSelection,v=s.disabledDates,w=a[i[0]];if(!w||!o)return{};var b=w.startDate,_=w.endDate,S=new Date;if(r){if(0===i[1]){var T=(0,f.default)(_||S,b);b=e,_=g?(0,d.default)(e,T):y?!_||(0,p.default)(e,_)?_:e:e||S,m&&(_=(0,h.default)([_,m])),t=[i[0],1]}else _=e}else b=e.startDate,_=e.endDate;var k=0===i[1];if((0,p.default)(_,b)){k=!k;var E=[_,b];b=E[0],_=E[1]}var D=v.filter(function(e){return(0,c.default)(e,{start:b,end:_})});return D.length>0&&(k?b=(0,d.default)((0,u.default)(D),1):_=(0,d.default)((0,h.default)(D),-1)),t||(t=[(0,l.findNextRangeIndex)(n.props.ranges,i[0]),0]),{wasValid:!(D.length>0),range:{startDate:b,endDate:_},nextFocusRange:t}}),D(k(n),"setSelection",function(e,t){var r=n.props,i=r.onChange,s=r.ranges,a=r.onRangeFocusChange,o=(n.props.focusedRange||n.state.focusedRange)[0],l=s[o];if(l){var u=n.calcNewSelection(e,t);i(D({},l.key||"range".concat(o+1),_(_({},l),u.range))),n.setState({focusedRange:u.nextFocusRange,preview:null}),a&&a(u.nextFocusRange)}}),D(k(n),"handleRangeFocusChange",function(e){n.setState({focusedRange:e}),n.props.onRangeFocusChange&&n.props.onRangeFocusChange(e)}),D(k(n),"updatePreview",function(e){if(!e){n.setState({preview:null});return}var t,r=n.props,i=r.rangeColors,s=r.ranges,a=n.props.focusedRange||n.state.focusedRange,o=(null===(t=s[a[0]])||void 0===t?void 0:t.color)||i[a[0]]||o;n.setState({preview:_(_({},e.range),{},{color:o})})}),n.state={focusedRange:e.initialFocusedRange||[(0,l.findNextRangeIndex)(e.ranges),0],preview:null},n.styles=(0,l.generateStyles)([g.default,e.classNames]),n}return n=[{key:"render",value:function(){var e=this;return i.default.createElement(a.default,w({focusedRange:this.state.focusedRange,onRangeFocusChange:this.handleRangeFocusChange,preview:this.state.preview,onPreviewChange:function(t){e.updatePreview(t?e.calcNewSelection(t):null)}},this.props,{displayMode:"dateRange",className:(0,m.default)(this.styles.dateRangeWrapper,this.props.className),onChange:this.setSelection,updateRange:function(t){return e.setSelection(t,!1)},ref:function(t){e.calendar=t}}))}}],S(y.prototype,n),s&&S(y,s),y}(i.Component);C.defaultProps={classNames:{},ranges:[],moveRangeOnFirstSelection:!1,retainEndDateOnFirstSelection:!1,rangeColors:["#3d91ff","#3ecf8e","#fed14c"],disabledDates:[]},C.propTypes=_(_({},a.default.propTypes),{},{onChange:s.default.func,onRangeFocusChange:s.default.func,className:s.default.string,ranges:s.default.arrayOf(o.rangeShape),moveRangeOnFirstSelection:s.default.bool,retainEndDateOnFirstSelection:s.default.bool}),t.default=C},4777:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(7294)),s=h(n(5697)),a=h(n(3846)),o=h(n(6907)),l=n(586),u=h(n(4184)),c=h(n(9932));function h(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){var r,i;r=e,i=n[t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(d,e);var t,n,s,h=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,i=v(d);if(t){var s=v(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(e=n)&&("object"===r(e)||"function"==typeof e)?e:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function d(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,d),(t=h.call(this,e)).state={focusedRange:[(0,l.findNextRangeIndex)(e.ranges),0]},t.styles=(0,l.generateStyles)([c.default,e.classNames]),t}return n=[{key:"render",value:function(){var e=this,t=this.state.focusedRange;return i.default.createElement("div",{className:(0,u.default)(this.styles.dateRangePickerWrapper,this.props.className)},i.default.createElement(o.default,m({focusedRange:t,onPreviewChange:function(t){return e.dateRange.updatePreview(t?e.dateRange.calcNewSelection(t,"string"==typeof t):null)}},this.props,{range:this.props.ranges[t[0]],className:void 0})),i.default.createElement(a.default,m({onRangeFocusChange:function(t){return e.setState({focusedRange:t})},focusedRange:t},this.props,{ref:function(t){return e.dateRange=t},className:void 0})))}}],g(d.prototype,n),s&&g(d,s),d}(i.Component);w.defaultProps={},w.propTypes=p(p(p({},a.default.propTypes),o.default.propTypes),{},{className:s.default.string}),t.default=w},376:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.rangeShape=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(7294)),s=f(n(5697)),a=f(n(4184)),o=f(n(3894)),l=f(n(313)),u=f(n(2699)),c=f(n(3151)),h=f(n(2298)),d=f(n(9119));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(p,e);var t,n,s,f=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,i=_(p);if(t){var s=_(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(e=n)&&("object"===r(e)||"function"==typeof e)?e:b(this)});function p(e,t){var n;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,p),S(b(n=f.call(this,e,t)),"handleKeyEvent",function(e){var t=n.props,r=t.day,i=t.onMouseDown,s=t.onMouseUp;[13,32].includes(e.keyCode)&&("keydown"===e.type?i(r):s(r))}),S(b(n),"handleMouseEvent",function(e){var t=n.props,r=t.day,i=t.disabled,s=t.onPreviewChange,a=t.onMouseEnter,o=t.onMouseDown,l=t.onMouseUp,u={};if(i){s();return}switch(e.type){case"mouseenter":a(r),s(r),u.hover=!0;break;case"blur":case"mouseleave":u.hover=!1;break;case"mousedown":u.active=!0,o(r);break;case"mouseup":e.stopPropagation(),u.active=!1,l(r);break;case"focus":s(r)}Object.keys(u).length&&n.setState(u)}),S(b(n),"getClassNames",function(){var e,t=n.props,r=t.isPassive,i=t.isToday,s=t.isWeekend,o=t.isStartOfWeek,l=t.isEndOfWeek,u=t.isStartOfMonth,c=t.isEndOfMonth,h=t.disabled,d=t.styles;return(0,a.default)(d.day,(S(e={},d.dayPassive,r),S(e,d.dayDisabled,h),S(e,d.dayToday,i),S(e,d.dayWeekend,s),S(e,d.dayStartOfWeek,o),S(e,d.dayEndOfWeek,l),S(e,d.dayStartOfMonth,u),S(e,d.dayEndOfMonth,c),S(e,d.dayHovered,n.state.hover),S(e,d.dayActive,n.state.active),e))}),S(b(n),"renderPreviewPlaceholder",function(){var e,t=n.props,r=t.preview,s=t.day,h=t.styles;if(!r)return null;var f=r.startDate?(0,o.default)(r.startDate):null,p=r.endDate?(0,d.default)(r.endDate):null,m=(!f||(0,u.default)(s,f))&&(!p||(0,l.default)(s,p)),g=!m&&(0,c.default)(s,f),y=!m&&(0,c.default)(s,p);return i.default.createElement("span",{className:(0,a.default)((S(e={},h.dayStartPreview,g),S(e,h.dayInPreview,m),S(e,h.dayEndPreview,y),e)),style:{color:r.color}})}),S(b(n),"renderSelectionPlaceholders",function(){var e=n.props,t=e.styles,r=e.ranges,s=e.day;return"date"===n.props.displayMode?(0,c.default)(n.props.day,n.props.date)?i.default.createElement("span",{className:t.selected,style:{color:n.props.color}}):null:r.reduce(function(e,t){var n=t.startDate,r=t.endDate;if(n&&r&&(0,l.default)(r,n)){var i=[r,n];n=i[0],r=i[1]}n=n?(0,o.default)(n):null,r=r?(0,d.default)(r):null;var a=(!n||(0,u.default)(s,n))&&(!r||(0,l.default)(s,r)),h=!a&&(0,c.default)(s,n),f=!a&&(0,c.default)(s,r);return a||h||f?[].concat(function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({isStartEdge:h,isEndEdge:f,isInRange:a},t)]):e},[]).map(function(e,r){var s;return i.default.createElement("span",{key:r,className:(0,a.default)((S(s={},t.startEdge,e.isStartEdge),S(s,t.endEdge,e.isEndEdge),S(s,t.inRange,e.isInRange),s)),style:{color:e.color||n.props.color}})})}),n.state={hover:!1,active:!1},n}return n=[{key:"render",value:function(){var e=this.props.dayContentRenderer;return i.default.createElement("button",m({type:"button",onMouseEnter:this.handleMouseEvent,onMouseLeave:this.handleMouseEvent,onFocus:this.handleMouseEvent,onMouseDown:this.handleMouseEvent,onMouseUp:this.handleMouseEvent,onBlur:this.handleMouseEvent,onPauseCapture:this.handleMouseEvent,onKeyDown:this.handleKeyEvent,onKeyUp:this.handleKeyEvent,className:this.getClassNames(this.props.styles)},this.props.disabled||this.props.isPassive?{tabIndex:-1}:{},{style:{color:this.props.color}}),this.renderSelectionPlaceholders(),this.renderPreviewPlaceholder(),i.default.createElement("span",{className:this.props.styles.dayNumber},(null==e?void 0:e(this.props.day))||i.default.createElement("span",null,(0,h.default)(this.props.day,this.props.dayDisplayFormat))))}}],v(p.prototype,n),s&&v(p,s),p}(i.Component);T.defaultProps={};var k=s.default.shape({startDate:s.default.object,endDate:s.default.object,color:s.default.string,key:s.default.string,autoFocus:s.default.bool,disabled:s.default.bool,showDateDisplay:s.default.bool});t.rangeShape=k,T.propTypes={day:s.default.object.isRequired,dayDisplayFormat:s.default.string,date:s.default.object,ranges:s.default.arrayOf(k),preview:s.default.shape({startDate:s.default.object,endDate:s.default.object,color:s.default.string}),onPreviewChange:s.default.func,previewColor:s.default.string,disabled:s.default.bool,isPassive:s.default.bool,isToday:s.default.bool,isWeekend:s.default.bool,isStartOfWeek:s.default.bool,isEndOfWeek:s.default.bool,isStartOfMonth:s.default.bool,isEndOfMonth:s.default.bool,color:s.default.string,displayMode:s.default.oneOf(["dateRange","date"]),styles:s.default.object,onMouseDown:s.default.func,onMouseUp:s.default.func,onMouseEnter:s.default.func,dayContentRenderer:s.default.func},t.default=T},6907:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(7294)),s=h(n(5697)),a=h(n(9932)),o=n(6800),l=n(376),u=h(n(7601)),c=h(n(4184));function h(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(o,e);var t,n,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,i=v(o);if(t){var s=v(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(e=n)&&("object"===r(e)||"function"==typeof e)?e:y(this)});function o(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),w(y(t=s.call(this,e)),"handleRangeChange",function(e){var n=t.props,r=n.onChange,i=n.ranges,s=n.focusedRange,a=i[s[0]];r&&a&&r(w({},a.key||"range".concat(s[0]+1),p(p({},a),e)))}),t.state={rangeOffset:0,focusedInput:-1},t}return m(o.prototype,[{key:"getRangeOptionValue",value:function(e){var t=this.props,n=t.ranges,r=t.focusedRange;if("function"!=typeof e.getCurrentValue)return"";var i=(void 0===n?[]:n)[(void 0===r?[]:r)[0]]||{};return e.getCurrentValue(i)||""}},{key:"getSelectedRange",value:function(e,t){var n=e.findIndex(function(e){return!!e.startDate&&!!e.endDate&&!e.disabled&&t.isSelected(e)});return{selectedRange:e[n],focusedRangeIndex:n}}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerContent,r=t.footerContent,s=t.onPreviewChange,o=t.inputRanges,l=t.staticRanges,h=t.ranges,d=t.renderStaticRangeLabel,f=t.rangeColors,p=t.className;return i.default.createElement("div",{className:(0,c.default)(a.default.definedRangesWrapper,p)},n,i.default.createElement("div",{className:a.default.staticRanges},l.map(function(t,n){var r,o=e.getSelectedRange(h,t),l=o.selectedRange,u=o.focusedRangeIndex;return r=t.hasCustomRendering?d(t):t.label,i.default.createElement("button",{type:"button",className:(0,c.default)(a.default.staticRange,w({},a.default.staticRangeSelected,!!l)),style:{color:l?l.color||f[u]:null},key:n,onClick:function(){return e.handleRangeChange(t.range(e.props))},onFocus:function(){return s&&s(t.range(e.props))},onMouseOver:function(){return s&&s(t.range(e.props))},onMouseLeave:function(){s&&s()}},i.default.createElement("span",{tabIndex:-1,className:a.default.staticRangeLabel},r))})),i.default.createElement("div",{className:a.default.inputRanges},o.map(function(t,n){return i.default.createElement(u.default,{key:n,styles:a.default,label:t.label,onFocus:function(){return e.setState({focusedInput:n,rangeOffset:0})},onBlur:function(){return e.setState({rangeOffset:0})},onChange:function(n){return e.handleRangeChange(t.range(n,e.props))},value:e.getRangeOptionValue(t)})})),r)}}]),n&&m(o,n),o}(i.Component);b.propTypes={inputRanges:s.default.array,staticRanges:s.default.array,ranges:s.default.arrayOf(l.rangeShape),focusedRange:s.default.arrayOf(s.default.number),onPreviewChange:s.default.func,onChange:s.default.func,footerContent:s.default.any,headerContent:s.default.any,rangeColors:s.default.arrayOf(s.default.string),className:s.default.string,renderStaticRangeLabel:s.default.func},b.defaultProps={inputRanges:o.defaultInputRanges,staticRanges:o.defaultStaticRanges,ranges:[],rangeColors:["#3d91ff","#3ecf8e","#fed14c"],focusedRange:[0,0]},t.default=b},7601:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=s?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}(n(7294)),a=(i=n(5697))&&i.__esModule?i:{default:i};function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,i=h(a);if(t){var s=h(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(e=n)&&("object"===r(e)||"function"==typeof e)?e:c(this)});function a(e,t){var n,r,s,o;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),r=c(n=i.call(this,e,t)),s="onChange",o=function(e){var t=n.props.onChange,r=parseInt(e.target.value,10);t(r=isNaN(r)?0:Math.max(Math.min(99999,r),0))},s in r?Object.defineProperty(r,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[s]=o,n}return l(a.prototype,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.value,r=t.label,i=t.placeholder;return n!==e.value||r!==e.label||i!==e.placeholder}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.placeholder,r=e.value,i=e.styles,a=e.onBlur,o=e.onFocus;return s.default.createElement("div",{className:i.inputRange},s.default.createElement("input",{className:i.inputRangeInput,placeholder:n,value:r,min:0,max:99999,onChange:this.onChange,onFocus:o,onBlur:a}),s.default.createElement("span",{className:i.inputRangeLabel},t))}}]),n&&l(a,n),a}(s.Component);d.propTypes={value:a.default.oneOfType([a.default.string,a.default.number]),label:a.default.oneOfType([a.default.element,a.default.node]).isRequired,placeholder:a.default.string,styles:a.default.shape({inputRange:a.default.string,inputRangeInput:a.default.string,inputRangeLabel:a.default.string}).isRequired,onBlur:a.default.func.isRequired,onFocus:a.default.func.isRequired,onChange:a.default.func.isRequired},d.defaultProps={value:"",placeholder:"-"},t.default=d},9680:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=_(n(7294)),s=w(n(5697)),a=_(n(376)),o=w(n(9005)),l=w(n(4257)),u=w(n(9317)),c=w(n(2699)),h=w(n(3151)),d=w(n(313)),f=w(n(7090)),p=w(n(584)),m=w(n(3894)),g=w(n(9119)),y=w(n(2298)),v=n(586);function w(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,n&&n.set(e,i),i}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){var r,i;r=e,i=n[t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(b,e);var t,n,s,w=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,i=C(b);if(t){var s=C(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(e=n)&&("object"===r(e)||"function"==typeof e)?e:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function b(){return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,b),w.apply(this,arguments)}return n=[{key:"render",value:function(){var e,t,n,r=this,s=new Date,w=this.props,b=w.displayMode,_=w.focusedRange,T=w.drag,E=w.styles,D=w.disabledDates,C=w.disabledDay,x=this.props.minDate&&(0,g.default)(this.props.minDate),O=this.props.maxDate&&(0,m.default)(this.props.maxDate),P=(0,v.getMonthDisplayRange)(this.props.month,this.props.dateOptions,this.props.fixedHeight),I=this.props.ranges;if("dateRange"===b&&T.status){var M=T.range,R=M.startDate,A=M.endDate;I=I.map(function(e,t){return t!==_[0]?e:k(k({},e),{},{startDate:R,endDate:A})})}var N=this.props.showPreview&&!T.disablePreview;return i.default.createElement("div",{className:E.month,style:this.props.style},this.props.showMonthName?i.default.createElement("div",{className:E.monthName},(0,y.default)(this.props.month,this.props.monthDisplayFormat,this.props.dateOptions)):null,this.props.showWeekDays&&(e=this.props.dateOptions,t=this.props.weekdayDisplayFormat,n=new Date,i.default.createElement("div",{className:E.weekDays},(0,o.default)({start:(0,p.default)(n,e),end:(0,f.default)(n,e)}).map(function(n,r){return i.default.createElement("span",{className:E.weekDay,key:r},(0,y.default)(n,t,e))}))),i.default.createElement("div",{className:E.days,onMouseLeave:this.props.onMouseLeave},(0,o.default)({start:P.start,end:P.end}).map(function(e,t){var n=(0,h.default)(e,P.startDateOfMonth),o=(0,h.default)(e,P.endDateOfMonth),m=x&&(0,d.default)(e,x)||O&&(0,c.default)(e,O),g=D.some(function(t){return(0,h.default)(t,e)}),y=C(e);return i.default.createElement(a.default,S({},r.props,{ranges:I,day:e,preview:N?r.props.preview:null,isWeekend:(0,u.default)(e,r.props.dateOptions),isToday:(0,h.default)(e,s),isStartOfWeek:(0,h.default)(e,(0,p.default)(e,r.props.dateOptions)),isEndOfWeek:(0,h.default)(e,(0,f.default)(e,r.props.dateOptions)),isStartOfMonth:n,isEndOfMonth:o,key:t,disabled:m||g||y,isPassive:!(0,l.default)(e,{start:P.startDateOfMonth,end:P.endDateOfMonth}),styles:E,onMouseDown:r.props.onDragSelectionStart,onMouseUp:r.props.onDragSelectionEnd,onMouseEnter:r.props.onDragSelectionMove,dragRange:T.range,drag:T.status}))})))}}],E(b.prototype,n),s&&E(b,s),b}(i.PureComponent);x.defaultProps={},x.propTypes={style:s.default.object,styles:s.default.object,month:s.default.object,drag:s.default.object,dateOptions:s.default.object,disabledDates:s.default.array,disabledDay:s.default.func,preview:s.default.shape({startDate:s.default.object,endDate:s.default.object}),showPreview:s.default.bool,displayMode:s.default.oneOf(["dateRange","date"]),minDate:s.default.object,maxDate:s.default.object,ranges:s.default.arrayOf(a.rangeShape),focusedRange:s.default.arrayOf(s.default.number),onDragSelectionStart:s.default.func,onDragSelectionEnd:s.default.func,onDragSelectionMove:s.default.func,onMouseLeave:s.default.func,monthDisplayFormat:s.default.string,weekdayDisplayFormat:s.default.string,dayDisplayFormat:s.default.string,showWeekDays:s.default.bool,showMonthName:s.default.bool,fixedHeight:s.default.bool},t.default=x},6800:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStaticRanges=v,t.defaultInputRanges=t.defaultStaticRanges=void 0;var r=f(n(2300)),i=f(n(3151)),s=f(n(7090)),a=f(n(584)),o=f(n(1640)),l=f(n(4135)),u=f(n(3703)),c=f(n(9119)),h=f(n(3894)),d=f(n(7349));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,i;r=e,i=n[t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g={startOfWeek:(0,a.default)(new Date),endOfWeek:(0,s.default)(new Date),startOfLastWeek:(0,a.default)((0,d.default)(new Date,-7)),endOfLastWeek:(0,s.default)((0,d.default)(new Date,-7)),startOfToday:(0,c.default)(new Date),endOfToday:(0,h.default)(new Date),startOfYesterday:(0,c.default)((0,d.default)(new Date,-1)),endOfYesterday:(0,h.default)((0,d.default)(new Date,-1)),startOfMonth:(0,u.default)(new Date),endOfMonth:(0,l.default)(new Date),startOfLastMonth:(0,u.default)((0,o.default)(new Date,-1)),endOfLastMonth:(0,l.default)((0,o.default)(new Date,-1))},y={range:{},isSelected:function(e){var t=this.range();return(0,i.default)(e.startDate,t.startDate)&&(0,i.default)(e.endDate,t.endDate)}};function v(e){return e.map(function(e){return m(m({},y),e)})}var w=v([{label:"Today",range:function(){return{startDate:g.startOfToday,endDate:g.endOfToday}}},{label:"Yesterday",range:function(){return{startDate:g.startOfYesterday,endDate:g.endOfYesterday}}},{label:"This Week",range:function(){return{startDate:g.startOfWeek,endDate:g.endOfWeek}}},{label:"Last Week",range:function(){return{startDate:g.startOfLastWeek,endDate:g.endOfLastWeek}}},{label:"This Month",range:function(){return{startDate:g.startOfMonth,endDate:g.endOfMonth}}},{label:"Last Month",range:function(){return{startDate:g.startOfLastMonth,endDate:g.endOfLastMonth}}}]);t.defaultStaticRanges=w,t.defaultInputRanges=[{label:"days up to today",range:function(e){return{startDate:(0,d.default)(g.startOfToday,-((Math.max(Number(e),1)-1)*1)),endDate:g.endOfToday}},getCurrentValue:function(e){return(0,i.default)(e.endDate,g.endOfToday)?e.startDate?(0,r.default)(g.endOfToday,e.startDate)+1:"":"-"}},{label:"days starting today",range:function(e){var t=new Date;return{startDate:t,endDate:(0,d.default)(t,Math.max(Number(e),1)-1)}},getCurrentValue:function(e){return(0,i.default)(e.startDate,g.startOfToday)?e.endDate?(0,r.default)(e.endDate,g.startOfToday)+1:"":"-"}}]},286:function(e,t,n){"use strict";Object.defineProperty(t,"Dw",{enumerable:!0,get:function(){return r.default}}),i(n(3846)),i(n(1660));var r=i(n(4777));function i(e){return e&&e.__esModule?e:{default:e}}i(n(6907)),n(6800)},9932:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={dateRangeWrapper:"rdrDateRangeWrapper",calendarWrapper:"rdrCalendarWrapper",dateDisplay:"rdrDateDisplay",dateDisplayItem:"rdrDateDisplayItem",dateDisplayItemActive:"rdrDateDisplayItemActive",monthAndYearWrapper:"rdrMonthAndYearWrapper",monthAndYearPickers:"rdrMonthAndYearPickers",nextPrevButton:"rdrNextPrevButton",month:"rdrMonth",weekDays:"rdrWeekDays",weekDay:"rdrWeekDay",days:"rdrDays",day:"rdrDay",dayNumber:"rdrDayNumber",dayPassive:"rdrDayPassive",dayToday:"rdrDayToday",dayStartOfWeek:"rdrDayStartOfWeek",dayEndOfWeek:"rdrDayEndOfWeek",daySelected:"rdrDaySelected",dayDisabled:"rdrDayDisabled",dayStartOfMonth:"rdrDayStartOfMonth",dayEndOfMonth:"rdrDayEndOfMonth",dayWeekend:"rdrDayWeekend",dayStartPreview:"rdrDayStartPreview",dayInPreview:"rdrDayInPreview",dayEndPreview:"rdrDayEndPreview",dayHovered:"rdrDayHovered",dayActive:"rdrDayActive",inRange:"rdrInRange",endEdge:"rdrEndEdge",startEdge:"rdrStartEdge",prevButton:"rdrPprevButton",nextButton:"rdrNextButton",selected:"rdrSelected",months:"rdrMonths",monthPicker:"rdrMonthPicker",yearPicker:"rdrYearPicker",dateDisplayWrapper:"rdrDateDisplayWrapper",definedRangesWrapper:"rdrDefinedRangesWrapper",staticRanges:"rdrStaticRanges",staticRange:"rdrStaticRange",inputRanges:"rdrInputRanges",inputRange:"rdrInputRange",inputRangeInput:"rdrInputRangeInput",dateRangePickerWrapper:"rdrDateRangePickerWrapper",staticRangeLabel:"rdrStaticRangeLabel",staticRangeSelected:"rdrStaticRangeSelected",monthName:"rdrMonthName",infiniteMonths:"rdrInfiniteMonths",monthsVertical:"rdrMonthsVertical",monthsHorizontal:"rdrMonthsHorizontal"}},586:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calcFocusDate=function(e,t){var n,r=t.shownDate,i=t.date,a=t.months,o=t.ranges,l=t.focusedRange;if("dateRange"===t.displayMode){var h=o[l[0]]||{};n={start:h.startDate,end:h.endDate}}else n={start:i,end:i};n.start=(0,c.default)(n.start||new Date),n.end=(0,u.default)(n.end||n.start);var d=n.start||n.end||r||new Date;return e?(0,s.default)(n.start,n.end)>a?e:d:r||d},t.findNextRangeIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.findIndex(function(e,n){return n>t&&!1!==e.autoFocus&&!e.disabled});return -1!==n?n:e.findIndex(function(e){return!1!==e.autoFocus&&!e.disabled})},t.getMonthDisplayRange=function(e,t,n){var r=(0,c.default)(e,t),s=(0,u.default)(e,t),h=(0,l.default)(r,t),d=(0,o.default)(s,t);return n&&34>=(0,a.default)(d,h)&&(d=(0,i.default)(d,7)),{start:h,end:d,startDateOfMonth:r,endDateOfMonth:s}},t.generateStyles=function(e){return e.length?e.filter(function(e){return!!e}).reduce(function(e,t){return Object.keys(t).forEach(function(n){e[n]=(0,r.default)(e[n],t[n])}),e},{}):{}};var r=h(n(4184)),i=h(n(7349)),s=h(n(4129)),a=h(n(2300)),o=h(n(7090)),l=h(n(584)),u=h(n(4135)),c=h(n(3703));function h(e){return e&&e.__esModule?e:{default:e}}},6970:function(e,t,n){var r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,void 0!==(r=(function(t,n){"use strict";function r(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t=(d=t)&&d.__esModule?d:{default:d},n=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}(n);var d,f,p,m={x:"clientWidth",y:"clientHeight"},g={x:"clientTop",y:"clientLeft"},y={x:"innerWidth",y:"innerHeight"},v={x:"offsetWidth",y:"offsetHeight"},w={x:"offsetLeft",y:"offsetTop"},b={x:"overflowX",y:"overflowY"},_={x:"scrollWidth",y:"scrollHeight"},S={x:"scrollLeft",y:"scrollTop"},T={x:"width",y:"height"},k=function(){},E=!!function(){if("undefined"==typeof window)return!1;var e=!1;try{document.createElement("div").addEventListener("test",k,{get passive(){return e=!0,!1}})}catch(e){}return e}()&&{passive:!0},D=function(e,t){for(var n in t)if(e[n]!==t[n])return!1;return!0},C=function(e,t){var n=e.length,r=e.minSize,i=e.type,s=t.from,a=t.size,o=t.itemsPerRow,l=(a=Math.max(a,r))%o;return(l&&(a+=o-l),a>n&&(a=n),(l=(s="simple"!==i&&s?Math.max(Math.min(s,n-a),0):0)%o)&&(s-=l,a+=l),s===t.from&&a==t.size)?t:c(c({},t),{},{from:s,size:a})};e.exports=(p=f=function(e){(function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)})(s,e);var t,r=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n,r=l(s);if(t){var a=l(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(e=n)&&("object"===i(e)||"function"==typeof e)?e:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),(t=r.call(this,e)).state=C(e,{itemsPerRow:1,from:e.initialIndex,size:0}),t.cache={},t.cachedScrollPosition=null,t.prevPrevState={},t.unstable=!1,t.updateCounter=0,t}return a(s,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=C(e,t);return n===t?null:n}}]),a(s,[{key:"componentDidMount",value:function(){this.updateFrameAndClearCache=this.updateFrameAndClearCache.bind(this),window.addEventListener("resize",this.updateFrameAndClearCache),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.axis!==e.axis&&this.clearSizeCache(),!this.unstable){if(++this.updateCounter>40)return this.unstable=!0,console.error("ReactList failed to reach a stable state.");this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout(function(){t.updateCounter=0,delete t.updateCounterTimeoutId},0)),this.updateFrame()}}},{key:"maybeSetState",value:function(e,t){if(D(this.state,e))return t();this.setState(e,t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrameAndClearCache),this.scrollParent.removeEventListener("scroll",this.updateFrameAndClearCache,E),this.scrollParent.removeEventListener("mousewheel",k,E)}},{key:"getOffset",value:function(e){var t=this.props.axis,n=e[g[t]]||0,r=w[t];do n+=e[r]||0;while(e=e.offsetParent);return n}},{key:"getEl",value:function(){return this.el||this.items}},{key:"getScrollPosition",value:function(){if("number"==typeof this.cachedScrollPosition)return this.cachedScrollPosition;var e=this.scrollParent,t=S[this.props.axis],n=e===window?document.body[t]||document.documentElement[t]:e[t],r=this.getScrollSize()-this.props.scrollParentViewportSizeGetter(this),i=this.getEl();return this.cachedScrollPosition=this.getOffset(e)+Math.max(0,Math.min(n,r))-this.getOffset(i),this.cachedScrollPosition}},{key:"setScroll",value:function(e){var t=this.scrollParent,n=this.props.axis;if(e+=this.getOffset(this.getEl()),t===window)return window.scrollTo(0,e);e-=this.getOffset(this.scrollParent),t[S[n]]=e}},{key:"getScrollSize",value:function(){var e=this.scrollParent,t=document,n=t.body,r=t.documentElement,i=_[this.props.axis];return e===window?Math.max(n[i],r[i]):e[i]}},{key:"hasDeterminateSize",value:function(){var e=this.props,t=e.itemSizeGetter;return"uniform"===e.type||t}},{key:"getStartAndEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.threshold,t=this.getScrollPosition(),n=t+this.props.scrollParentViewportSizeGetter(this)+e;return this.hasDeterminateSize()&&(n=Math.min(n,this.getSpaceBefore(this.props.length))),{start:Math.max(0,t-e),end:n}}},{key:"getItemSizeAndItemsPerRow",value:function(){var e=this.props,t=e.axis,n=e.useStaticSize,r=this.state,i=r.itemSize,s=r.itemsPerRow;if(n&&i&&s)return{itemSize:i,itemsPerRow:s};var a=this.items.children;if(!a.length)return{};var o=a[0],l=o[v[t]],u=Math.abs(l-i);if((isNaN(u)||u>=1)&&(i=l),!i)return{};var c=w[t],h=o[c];s=1;for(var d=a[s];d&&d[c]===h;d=a[s])++s;return{itemSize:i,itemsPerRow:s}}},{key:"clearSizeCache",value:function(){this.cachedScrollPosition=null}},{key:"updateFrameAndClearCache",value:function(e){return this.clearSizeCache(),this.updateFrame(e)}},{key:"updateFrame",value:function(e){switch(this.updateScrollParent(),"function"!=typeof e&&(e=k),this.props.type){case"simple":return this.updateSimpleFrame(e);case"variable":return this.updateVariableFrame(e);case"uniform":return this.updateUniformFrame(e)}}},{key:"updateScrollParent",value:function(){var e=this.scrollParent;this.scrollParent=this.props.scrollParentGetter(this),e!==this.scrollParent&&(e&&(e.removeEventListener("scroll",this.updateFrameAndClearCache),e.removeEventListener("mousewheel",k)),this.clearSizeCache(),this.scrollParent.addEventListener("scroll",this.updateFrameAndClearCache,E),this.scrollParent.addEventListener("mousewheel",k,E))}},{key:"updateSimpleFrame",value:function(e){var t=this.getStartAndEnd().end,n=this.items.children,r=0;if(n.length){var i=this.props.axis,s=n[0],a=n[n.length-1];r=this.getOffset(a)+a[v[i]]-this.getOffset(s)}if(r>t)return e();var o=this.props,l=o.pageSize,u=o.length,c=Math.min(this.state.size+l,u);this.maybeSetState({size:c},e)}},{key:"updateVariableFrame",value:function(e){this.props.itemSizeGetter||this.cacheSizes();for(var t=this.getStartAndEnd(),n=t.start,r=t.end,i=this.props,s=i.length,a=i.pageSize,o=0,l=0,u=0,c=s-1;l<c;){var h=this.getSizeOfItem(l);if(null==h||o+h>n)break;o+=h,++l}for(var d=s-l;u<d&&o<r;){var f=this.getSizeOfItem(l+u);if(null==f){u=Math.min(u+a,d);break}o+=f,++u}this.maybeSetState(C(this.props,{from:l,itemsPerRow:1,size:u}),e)}},{key:"updateUniformFrame",value:function(e){var t=this.getItemSizeAndItemsPerRow(),n=t.itemSize,r=t.itemsPerRow;if(!n||!r)return e();var i=this.getStartAndEnd(),s=i.start,a=i.end,o=C(this.props,{from:Math.floor(s/n)*r,size:(Math.ceil((a-s)/n)+1)*r,itemsPerRow:r}),l=o.from,u=o.size;return this.maybeSetState({itemsPerRow:r,from:l,itemSize:n,size:u},e)}},{key:"getSpaceBefore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=t[e])return t[e];var n=this.state,r=n.itemSize,i=n.itemsPerRow;if(r)return t[e]=Math.floor(e/i)*r;for(var s=e;s>0&&null==t[--s];);for(var a=t[s]||0,o=s;o<e;++o){t[o]=a;var l=this.getSizeOfItem(o);if(null==l)break;a+=l}return t[e]=a}},{key:"cacheSizes",value:function(){for(var e=this.cache,t=this.state.from,n=this.items.children,r=v[this.props.axis],i=0,s=n.length;i<s;++i)e[t+i]=n[i][r]}},{key:"getSizeOfItem",value:function(e){var t=this.cache,n=this.items,r=this.props,i=r.axis,s=r.itemSizeGetter,a=r.itemSizeEstimator,o=r.type,l=this.state,u=l.from,c=l.itemSize,h=l.size;if(c)return c;if(s)return s(e);if(e in t)return t[e];if("simple"===o&&e>=u&&e<u+h&&n){var d=n.children[e-u];if(d)return d[v[i]]}if(a)return a(e,t)}},{key:"scrollTo",value:function(e){null!=e&&this.setScroll(this.getSpaceBefore(e))}},{key:"scrollAround",value:function(e){var t=this.getScrollPosition(),n=this.getSpaceBefore(e),r=n-this.props.scrollParentViewportSizeGetter(this)+this.getSizeOfItem(e),i=Math.min(r,n),s=Math.max(r,n);return t<=i?this.setScroll(i):t>s?this.setScroll(s):void 0}},{key:"getVisibleRange",value:function(){for(var e,t,n=this.state,r=n.from,i=n.size,s=this.getStartAndEnd(0),a=s.start,o=s.end,l={},u=r;u<r+i;++u){var c=this.getSpaceBefore(u,l),h=c+this.getSizeOfItem(u);null==e&&h>a&&(e=u),null!=e&&c<o&&(t=u)}return[e,t]}},{key:"renderItems",value:function(){for(var e=this,t=this.props,n=t.itemRenderer,r=t.itemsRenderer,i=this.state,s=i.from,a=i.size,o=[],l=0;l<a;++l)o.push(n(s+l,l));return r(o,function(t){return e.items=t})}},{key:"render",value:function(){var e=this,t=this.props,r=t.axis,i=t.length,s=t.type,a=t.useTranslate3d,o=this.state,l=o.from,u=o.itemsPerRow,c=this.renderItems();if("simple"===s)return c;var h={position:"relative"},d={},f=this.getSpaceBefore(Math.ceil(i/u)*u,d);f&&(h[T[r]]=f,"x"===r&&(h.overflowX="hidden"));var p=this.getSpaceBefore(l,d),m="x"===r?p:0,g="y"===r?p:0,y=a?"translate3d(".concat(m,"px, ").concat(g,"px, 0)"):"translate(".concat(m,"px, ").concat(g,"px)");return n.default.createElement("div",{style:h,ref:function(t){return e.el=t}},n.default.createElement("div",{style:{msTransform:y,WebkitTransform:y,transform:y}},c))}}]),s}(n.Component),h(f,"displayName","ReactList"),h(f,"propTypes",{axis:t.default.oneOf(["x","y"]),initialIndex:t.default.number,itemRenderer:t.default.func,itemSizeEstimator:t.default.func,itemSizeGetter:t.default.func,itemsRenderer:t.default.func,length:t.default.number,minSize:t.default.number,pageSize:t.default.number,scrollParentGetter:t.default.func,scrollParentViewportSizeGetter:t.default.func,threshold:t.default.number,type:t.default.oneOf(["simple","variable","uniform"]),useStaticSize:t.default.bool,useTranslate3d:t.default.bool}),h(f,"defaultProps",{axis:"y",itemRenderer:function(e,t){return n.default.createElement("div",{key:t},e)},itemsRenderer:function(e,t){return n.default.createElement("div",{ref:t},e)},length:0,minSize:1,pageSize:10,scrollParentGetter:function(e){for(var t=e.props.axis,n=e.getEl(),r=b[t];n=n.parentElement;)switch(window.getComputedStyle(n)[r]){case"auto":case"scroll":case"overlay":return n}return window},scrollParentViewportSizeGetter:function(e){var t=e.props.axis,n=e.scrollParent;return n===window?window[y[t]]:n[m[t]]},threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1}),p)}).apply(t,[n(5697),n(7294)]))&&(e.exports=r)},781:function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var s=0;s<i;s++){var a=n[s];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}function i(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}n.r(t),n.d(t,{shallowEqualArrays:function(){return i},shallowEqualObjects:function(){return r}})},655:function(e,t,n){"use strict";n.d(t,{CR:function(){return o},XA:function(){return a},ZT:function(){return i},_T:function(){return s},ev:function(){return l}});var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a}function l(e,t,n){if(n||2==arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}},1002:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return r}})},5816:function(e,t,n){"use strict";let r,i;n.d(t,{Jn:function(){return A},qX:function(){return I},Xd:function(){return P},Mq:function(){return j},ZF:function(){return N},KN:function(){return L}});var s,a=n(740),o=n(3333),l=n(4444);let u=(e,t)=>t.some(t=>e instanceof t),c=new WeakMap,h=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,m={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return h.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return g(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function g(e){var t;if(e instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(g(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&c.set(t,e)}).catch(()=>{}),p.set(t,e),t}(e);if(f.has(e))return f.get(e);let n="function"==typeof(t=e)?t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(y(this),e),g(c.get(this))}:function(...e){return g(t.apply(y(this),e))}:function(e,...n){let r=t.call(y(this),e,...n);return d.set(r,e.sort?e.sort():[e]),g(r)}:(t instanceof IDBTransaction&&function(e){if(h.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});h.set(e,t)}(t),u(t,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(t,m):t;return n!==e&&(f.set(e,n),p.set(n,e)),n}let y=e=>p.get(e),v=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],b=new Map;function _(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(b.get(t))return b.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||v.includes(n)))return;let s=async function(e,...t){let s=this.transaction(e,i?"readwrite":"readonly"),a=s.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&s.done]))[0]};return b.set(t,s),s}m={...s=m,get:(e,t,n)=>_(e,t)||s.get(e,t,n),has:(e,t)=>!!_(e,t)||s.has(e,t)};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{constructor(e){this.container=e}getPlatformInfoString(){let e=this.container.getProviders();return e.map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let T="@firebase/app",k="0.9.9",E=new o.Yd("@firebase/app"),D="[DEFAULT]",C={[T]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},x=new Map,O=new Map;function P(e){let t=e.name;if(O.has(t))return E.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(O.set(t,e),x.values()))!function(e,t){try{e.container.addComponent(t)}catch(n){E.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}(n,e);return!0}function I(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}let M=new l.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new a.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw M.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A="9.21.0";function N(e,t={}){let n=e;if("object"!=typeof t){let e=t;t={name:e}}let r=Object.assign({name:D,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw M.create("bad-app-name",{appName:String(i)});if(n||(n=(0,l.aH)()),!n)throw M.create("no-options");let s=x.get(i);if(s){if((0,l.vZ)(n,s.options)&&(0,l.vZ)(r,s.config))return s;throw M.create("duplicate-app",{appName:i})}let o=new a.H0(i);for(let e of O.values())o.addComponent(e);let u=new R(n,r,o);return x.set(i,u),u}function j(e=D){let t=x.get(e);if(!t&&e===D)return N();if(!t)throw M.create("no-app",{appName:e});return t}function L(e,t,n){var r;let i=null!==(r=C[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let e=[`Unable to register library "${i}" with version "${t}":`];s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),E.warn(e.join(" "));return}P(new a.wA(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}let F="firebase-heartbeat-store",U=null;function V(){return U||(U=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let a=indexedDB.open(e,1),o=g(a);return r&&a.addEventListener("upgradeneeded",e=>{r(g(a.result),e.oldVersion,e.newVersion,g(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{0===t&&e.createObjectStore(F)}}).catch(e=>{throw M.create("idb-open",{originalErrorMessage:e.message})})),U}async function B(e){try{let t=await V();return t.transaction(F).objectStore(F).get(Y(e))}catch(e){if(e instanceof l.ZR)E.warn(e.message);else{let t=M.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});E.warn(t.message)}}}async function W(e,t){try{let n=await V(),r=n.transaction(F,"readwrite"),i=r.objectStore(F);return await i.put(t,Y(e)),r.done}catch(e){if(e instanceof l.ZR)E.warn(e.message);else{let t=M.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});E.warn(t.message)}}}function Y(e){return`${e.name}!${e.options.appId}`}class H{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new q(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){let e=this.container.getProvider("platform-logger").getImmediate(),t=e.getPlatformInfoString(),n=z();return(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(e=>e.date===n))?void 0:(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf(),n=Date.now();return n-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";let e=z(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),$(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=(0,l.L)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function z(){let e=new Date;return e.toISOString().substring(0,10)}class q{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,l.hl)()&&(0,l.eu)().then(()=>!0).catch(()=>!1)}async read(){let e=await this._canUseIndexedDBPromise;if(!e)return{heartbeats:[]};{let e=await B(this.app);return e||{heartbeats:[]}}}async overwrite(e){var t;let n=await this._canUseIndexedDBPromise;if(n){let n=await this.read();return W(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;let n=await this._canUseIndexedDBPromise;if(n){let n=await this.read();return W(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function $(e){return(0,l.L)(JSON.stringify({version:2,heartbeats:e})).length}P(new a.wA("platform-logger",e=>new S(e),"PRIVATE")),P(new a.wA("heartbeat",e=>new H(e),"PRIVATE")),L(T,k,""),L(T,k,"esm2017"),L("fire-js","")},740:function(e,t,n){"use strict";n.d(t,{H0:function(){return o},wA:function(){return i}});var r=n(4444);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new r.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:s})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=s){return this.instances.has(e)}getOptions(e=s){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);n===i&&t.resolve(r)}return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:e===s?void 0:e,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}return n||null}normalizeInstanceIdentifier(e=s){return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){let t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},3333:function(e,t,n){"use strict";var r,i;n.d(t,{Yd:function(){return c},in:function(){return r}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s=[];(i=r||(r={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";let a={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},o=r.INFO,l={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},u=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=l[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=u,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?a[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...e),this._logHandler(this,r.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...e),this._logHandler(this,r.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,r.INFO,...e),this._logHandler(this,r.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,r.WARN,...e),this._logHandler(this,r.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...e),this._logHandler(this,r.ERROR,...e)}}},8757:function(e,t,n){"use strict";var r=n(7294);let i=r.forwardRef(function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"}))});t.Z=i},4789:function(e,t,n){"use strict";n.d(t,{hJ:function(){return eW},v0:function(){return t1},rh:function(){return ty}});var r,i=n(4444),s=n(5816),a=n(655),o=n(3333),l=n(740);function u(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let c=new i.LL("auth","Firebase",u()),h=new o.Yd("@firebase/auth");function d(e,...t){h.logLevel<=o.in.ERROR&&h.error(`Auth (${s.Jn}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(e,...t){throw g(e,...t)}function p(e,...t){return g(e,...t)}function m(e,t,n){let r=Object.assign(Object.assign({},u()),{[t]:n}),s=new i.LL("auth","Firebase",r);return s.create(t,{appName:e.name})}function g(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return c.create(e,...t)}function y(e,t,...n){if(!e)throw g(t,...n)}function v(e){let t="INTERNAL ASSERTION FAILED: "+e;throw d(t),Error(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function b(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _{constructor(e,t){this.shortDelay=e,this.longDelay=t,t>e||v("Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===b()||"https:"===b()||(0,i.ru)()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(e,t){e.emulator||v("Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void v("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void v("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void v("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},E=new _(3e4,6e4);function D(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function C(e,t,n,r,s={}){return x(e,s,async()=>{let s={},a={};r&&("GET"===t?a=r:s={body:JSON.stringify(r)});let o=(0,i.xO)(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),T.fetch()(P(e,e.config.apiHost,n,o),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))})}async function x(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},k),t);try{let t=new I(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let s=await i.json();if("needConfirmation"in s)throw M(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw M(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw M(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw M(e,"user-disabled",s);let o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw m(e,o,a);f(e,o)}}catch(t){if(t instanceof i.ZR)throw t;f(e,"network-request-failed",{message:String(t)})}}async function O(e,t,n,r,i={}){let s=await C(e,t,n,r,i);return"mfaPendingCredential"in s&&f(e,"multi-factor-auth-required",{_serverResponse:s}),s}function P(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?S(e.config,i):`${e.config.apiScheme}://${i}`}class I{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(p(this.auth,"network-request-failed")),E.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function M(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=p(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R(e,t){return C(e,"POST","/v1/accounts:delete",t)}async function A(e,t){return C(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function j(e,t=!1){let n=(0,i.m9)(e),r=await n.getIdToken(t),s=F(r);y(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");let a="object"==typeof s.firebase?s.firebase:void 0,o=null==a?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:N(L(s.auth_time)),issuedAtTime:N(L(s.iat)),expirationTime:N(L(s.exp)),signInProvider:o||null,signInSecondFactor:(null==a?void 0:a.sign_in_second_factor)||null}}function L(e){return 1e3*Number(e)}function F(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return d("JWT malformed, contained fewer than 3 sections"),null;try{let e=(0,i.tV)(n);if(!e)return d("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return d("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof i.ZR&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;let e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,n=e-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=N(this.lastLoginAt),this.creationTime=N(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W(e){var t;let n=e.auth,r=await e.getIdToken(),i=await U(e,A(n,{idToken:r}));y(null==i?void 0:i.users.length,n,"internal-error");let s=i.users[0];e._notifyReloadListener(s);let o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=(0,a._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],l=function(e,t){let n=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...n,...t]}(e.providerData,o),u=e.isAnonymous,c=!(e.email&&s.passwordHash)&&!(null==l?void 0:l.length),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new B(s.createdAt,s.lastLoginAt),isAnonymous:!!u&&c};Object.assign(e,h)}async function Y(e){let t=(0,i.m9)(e);await W(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H(e,t){let n=await x(e,{},async()=>{let n=(0,i.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=P(e,r,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",T.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y(void 0!==e.idToken,"internal-error"),y(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){let t=F(e);return y(t,"internal-error"),y(void 0!==t.exp,"internal-error"),y(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return(y(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired)?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await H(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new z;return n&&(y("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(y("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(y("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new z,this.toJSON())}_performRefresh(){return v("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(e,t){y("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ${constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,a._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new V(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new B(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await U(this,this.stsTokenManager.getToken(this.auth,e));return y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return j(this,e)}reload(){return Y(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new $(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await W(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){let e=await this.getIdToken();return await U(this,R(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,u;let c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:b,isAnonymous:_,providerData:S,stsTokenManager:T}=t;y(w&&T,e,"internal-error");let k=z.fromJSON(this.name,T);y("string"==typeof w,e,"internal-error"),q(c,e.name),q(h,e.name),y("boolean"==typeof b,e,"internal-error"),y("boolean"==typeof _,e,"internal-error"),q(d,e.name),q(f,e.name),q(p,e.name),q(m,e.name),q(g,e.name),q(v,e.name);let E=new $({uid:w,auth:e,email:h,emailVerified:b,displayName:c,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return S&&Array.isArray(S)&&(E.providerData=S.map(e=>Object.assign({},e))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t,n=!1){let r=new z;r.updateFromServerResponse(t);let i=new $({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await W(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G=new Map;function Z(e){e instanceof Function||v("Expected a class definition");let t=G.get(e);return t?(t instanceof e||v("Instance stored in cache mismatched with class"),t):(t=new e,G.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e,t,n){return`firebase:${e}:${t}:${n}`}K.type="NONE";class X{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=Q(this.userKey,r.apiKey,i),this.fullPersistenceKey=Q("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?$._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new X(Z(K),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||Z(K),s=Q(n,e.config.apiKey,e.name),a=null;for(let n of t)try{let t=await n._get(s);if(t){let r=$._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch(e){}let o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length&&(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new X(i,e,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(er(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";{if(t.includes("edge/"))return"Edge";if(ee(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(es(t))return"Blackberry";if(ea(t))return"Webos";if(et(t))return"Safari";if((t.includes("chrome/")||en(t))&&!t.includes("edge/"))return"Chrome";if(ei(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function ee(e=(0,i.z$)()){return/firefox\//i.test(e)}function et(e=(0,i.z$)()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function en(e=(0,i.z$)()){return/crios\//i.test(e)}function er(e=(0,i.z$)()){return/iemobile/i.test(e)}function ei(e=(0,i.z$)()){return/android/i.test(e)}function es(e=(0,i.z$)()){return/blackberry/i.test(e)}function ea(e=(0,i.z$)()){return/webos/i.test(e)}function eo(e=(0,i.z$)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function el(e=(0,i.z$)()){return eo(e)||ei(e)||ea(e)||es(e)||/windows phone/i.test(e)||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(e,t=[]){let n;switch(e){case"Browser":n=J((0,i.z$)());break;case"Worker":n=`${J((0,i.z$)())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${s.Jn}/${r}`}async function ec(e,t){return C(e,"GET","/v2/recaptchaConfig",D(e,t))}function eh(e){return void 0!==e&&void 0!==e.enterprise}class ed{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function ef(e){return new Promise((t,n)=>{var r,i;let s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=e=>{let t=p("internal-error");t.customData=e,n(t)},s.type="text/javascript",s.charset="UTF-8",(null!==(i=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==i?i:document).appendChild(s)})}function ep(e){return`__${e}${Math.floor(1e6*Math.random())}`}class em{constructor(e){this.type="recaptcha-enterprise",this.auth=ew(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ec(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new ed(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;eh(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&eh(window.grecaptcha))r(n,e,i);else{if("undefined"==typeof window){i(Error("RecaptchaVerifier is only supported in browser"));return}ef("https://www.google.com/recaptcha/enterprise.js?render="+n).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function eg(e,t,n,r=!1){let i;let s=new em(e);try{i=await s.verify(n)}catch(e){i=await s.verify(n,!0)}let a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eb(this),this.idTokenSubscription=new eb(this),this.beforeStateQueue=new ey(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Z(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await X.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);(!n||n===s)&&(null==a?void 0:a.user)&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return(y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId)?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await W(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){let t=e?(0,i.m9)(e):null;return t&&y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Z(e))})}async initializeRecaptchaConfig(){let e=await ec(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new ed(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){let e=new em(this);e.verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Z(e)||this._popupRedirectResolver;y(t,this,"argument-error"),this.redirectPersistenceManager=await X.create(this,[Z(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return(y(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t)?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){h.logLevel<=o.in.WARN&&h.warn(`Auth (${s.Jn}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function ew(e){return(0,i.m9)(e)}class eb{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.ne)(e=>this.observer=e)}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function e_(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function eS(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return v("not implemented")}_getIdTokenResponse(e){return v("not implemented")}_linkToIdToken(e,t){return v("not implemented")}_getReauthenticationResolver(e){return v("not implemented")}}async function ek(e,t){return C(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eE(e,t){return O(e,"POST","/v1/accounts:signInWithPassword",D(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(e,t){return O(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))}async function eC(e,t){return O(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex extends eT{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ex(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new ex(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t||!t.emailPasswordEnabled)return eE(e,n).catch(async t=>{if("auth/missing-recaptcha-token"!==t.code)return Promise.reject(t);{console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");let t=await eg(e,n,"signInWithPassword");return eE(e,t)}});{let t=await eg(e,n,"signInWithPassword");return eE(e,t)}case"emailLink":return eD(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ek(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return eC(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(e,t){return O(e,"POST","/v1/accounts:signInWithIdp",D(e,t))}class eP extends eT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new eP(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,a._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;let s=new eP(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return eO(e,t)}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,eO(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,eO(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.xO)(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(e,t){return C(e,"POST","/v1/accounts:sendVerificationCode",D(e,t))}async function eM(e,t){return O(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t))}async function eR(e,t){let n=await O(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t));if(n.temporaryProof)throw M(e,"account-exists-with-different-credential",n);return n}let eA={USER_NOT_FOUND:"user-not-found"};async function eN(e,t){let n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return O(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,n),eA)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej extends eT{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ej({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ej({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return eM(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return eR(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return eN(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ej({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class eL{constructor(e){var t,n,r,s,a,o;let l=(0,i.zd)((0,i.pd)(e)),u=null!==(t=l.apiKey)&&void 0!==t?t:null,c=null!==(n=l.oobCode)&&void 0!==n?n:null,h=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);y(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=l.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=l.tenantId)&&void 0!==o?o:null}static parseLink(e){let t=function(e){let t=(0,i.zd)((0,i.pd)(e)).link,n=t?(0,i.zd)((0,i.pd)(t)).deep_link_id:null,r=(0,i.zd)((0,i.pd)(e)).deep_link_id,s=r?(0,i.zd)((0,i.pd)(r)).link:null;return s||r||n||t||e}(e);try{return new eL(t)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(){this.providerId=eF.PROVIDER_ID}static credential(e,t){return ex._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=eL.parseLink(t);return y(n,"argument-error"),ex._fromEmailAndCode(e,n.code,n.tenantId)}}eF.PROVIDER_ID="password",eF.EMAIL_PASSWORD_SIGN_IN_METHOD="password",eF.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV extends eU{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB extends eV{constructor(){super("facebook.com")}static credential(e){return eP._fromParams({providerId:eB.PROVIDER_ID,signInMethod:eB.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eB.credentialFromTaggedObject(e)}static credentialFromError(e){return eB.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eB.credential(e.oauthAccessToken)}catch(e){return null}}}eB.FACEBOOK_SIGN_IN_METHOD="facebook.com",eB.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eW extends eV{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eP._fromParams({providerId:eW.PROVIDER_ID,signInMethod:eW.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return eW.credentialFromTaggedObject(e)}static credentialFromError(e){return eW.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return eW.credential(t,n)}catch(e){return null}}}eW.GOOGLE_SIGN_IN_METHOD="google.com",eW.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY extends eV{constructor(){super("github.com")}static credential(e){return eP._fromParams({providerId:eY.PROVIDER_ID,signInMethod:eY.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eY.credentialFromTaggedObject(e)}static credentialFromError(e){return eY.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eY.credential(e.oauthAccessToken)}catch(e){return null}}}eY.GITHUB_SIGN_IN_METHOD="github.com",eY.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH extends eV{constructor(){super("twitter.com")}static credential(e,t){return eP._fromParams({providerId:eH.PROVIDER_ID,signInMethod:eH.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return eH.credentialFromTaggedObject(e)}static credentialFromError(e){return eH.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return eH.credential(t,n)}catch(e){return null}}}eH.TWITTER_SIGN_IN_METHOD="twitter.com",eH.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){let i=await $._fromIdTokenResponse(e,n,r),s=eq(n),a=new ez({user:i,providerId:s,_tokenResponse:n,operationType:t});return a}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);let r=eq(n);return new ez({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function eq(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e$ extends i.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,e$.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new e$(e,t,n,r)}}function eG(e,t,n,r){let i="reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return i.catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw e$._fromErrorAndOperation(e,n,t,r);throw n})}async function eZ(e,t,n=!1){let r=await U(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ez._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eK(e,t,n=!1){let{auth:r}=e,i="reauthenticate";try{let s=await U(e,eG(r,i,t,e),n);y(s.idToken,r,"internal-error");let a=F(s.idToken);y(a,r,"internal-error");let{sub:o}=a;return y(e.uid===o,r,"user-mismatch"),ez._forOperation(e,i,s)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&f(r,"user-mismatch"),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eQ(e,t,n=!1){let r="signIn",i=await eG(e,r,t),s=await ez._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}new WeakMap;let eX="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eJ{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(eX,"1"),this.storage.removeItem(eX),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class e0 extends eJ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(){let e=(0,i.z$)();return et(e)||eo(e)}()&&function(){try{return!!(window&&window!==window.top)}catch(e){return!1}}(),this.fallbackToPolling=el(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);(0,i.w1)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}e0.type="LOCAL";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1 extends eJ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}e1.type="SESSION";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new e2(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!(null==i?void 0:i.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let s=Array.from(i).map(async t=>t(e.origin,r)),a=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}e2.receivers=[];/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i;let s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((a,o)=>{let l=e4("",20);s.port1.start();let u=setTimeout(()=>{o(Error("unsupported_event"))},n);i={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(e.data.response);break;default:clearTimeout(u),clearTimeout(r),o(Error("invalid_response"))}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(){return void 0!==e3().WorkerGlobalScope&&"function"==typeof e3().importScripts}async function e5(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{let e=await navigator.serviceWorker.ready;return e.active}catch(e){return null}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e7="firebaseLocalStorageDb",e8="firebaseLocalStorage",te="fbase_key";class tt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tn(e,t){return e.transaction([e8],t?"readwrite":"readonly").objectStore(e8)}function tr(){let e=indexedDB.open(e7,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(e8,{keyPath:te})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(e8)?t(n):(n.close(),await function(){let e=indexedDB.deleteDatabase(e7);return new tt(e).toPromise()}(),t(await tr()))})})}async function ti(e,t,n){let r=tn(e,!0).put({[te]:t,value:n});return new tt(r).toPromise()}async function ts(e,t){let n=tn(e,!1).get(t),r=await new tt(n).toPromise();return void 0===r?null:r.value}function ta(e,t){let n=tn(e,!0).delete(t);return new tt(n).toPromise()}class to{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await tr()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=e2._getInstance(e6()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>{let n=await this._poll();return{keyProcessed:n.includes(t.key)}}),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await e5(),!this.activeServiceWorker)return;this.sender=new e9(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await tr();return await ti(e,eX,"1"),await ta(e,eX),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ti(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>ts(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ta(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>{let t=tn(e,!1).getAll();return new tt(t).toPromise()});if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}async function tl(e,t,n){var r,i,s;let a=await n.verify();try{let o;if(y("string"==typeof a,e,"argument-error"),y("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){let t=o.session;if("phoneNumber"in o){y("enroll"===t.type,e,"internal-error");let n=await (i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}},C(e,"POST","/v2/accounts/mfaEnrollment:start",D(e,i)));return n.phoneSessionInfo.sessionInfo}{y("signin"===t.type,e,"internal-error");let n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;y(n,e,"missing-multi-factor-info");let i=await (s={mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:a}},C(e,"POST","/v2/accounts/mfaSignIn:start",D(e,s)));return i.phoneResponseInfo.sessionInfo}}{let{sessionInfo:t}=await eI(e,{phoneNumber:o.phoneNumber,recaptchaToken:a});return t}}finally{n._reset()}}to.type="LOCAL",ep("rcb"),new _(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.providerId=tu.PROVIDER_ID,this.auth=ew(e)}verifyPhoneNumber(e,t){return tl(this.auth,e,(0,i.m9)(t))}static credential(e,t){return ej._fromVerification(e,t)}static credentialFromResult(e){return tu.credentialFromTaggedObject(e)}static credentialFromError(e){return tu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?ej._fromTokenResponse(t,n):null}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(e,t){return t?Z(t):(y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}tu.PROVIDER_ID="phone",tu.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends eT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eO(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eO(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eO(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function td(e){return eQ(e.auth,new th(e),e.bypassAuthState)}function tf(e){let{auth:t,user:n}=e;return y(n,t,"internal-error"),eK(n,new th(e),e.bypassAuthState)}async function tp(e){let{auth:t,user:n}=e;return y(n,t,"internal-error"),eZ(n,new th(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}let o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return td;case"linkViaPopup":case"linkViaRedirect":return tp;case"reauthViaPopup":case"reauthViaRedirect":return tf;default:f(this.auth,"internal-error")}}resolve(e){this.pendingPromise||v("Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){this.pendingPromise||v("Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tg=new _(2e3,1e4);async function ty(e,t,n){let r=ew(e);!function(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&f(e,"argument-error"),m(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(e,t,eU);let i=tc(r,n),s=new tv(r,"signInViaPopup",t,i);return s.executeNotNull()}class tv extends tm{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,tv.currentPopupAction&&tv.currentPopupAction.cancel(),tv.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return y(e,this.auth,"internal-error"),e}async onExecution(){1===this.filter.length||v("Popup operations only handle one event");let e=e4();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tv.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,n;if(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tg.get())};e()}}tv.currentPopupAction=null;let tw=new Map;class tb extends tm{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=tw.get(this.auth._key());if(!e){try{let t=await t_(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}tw.set(this.auth._key(),e)}return this.bypassAuthState||tw.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t_(e,t){let n=Q("pendingRedirect",t.config.apiKey,t.name),r=Z(e._redirectPersistence);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function tS(e,t){tw.set(e._key(),t)}async function tT(e,t,n=!1){let r=ew(e),i=tc(r,t),s=new tb(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class tk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tD(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tD(e)){let r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tE(e))}saveEventToCache(e){this.cachedEventUids.add(tE(e)),this.lastProcessedEventTime=Date.now()}}function tE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function tD({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(e,t={}){return C(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tO=/^https?/;async function tP(e){if(e.config.emulator)return;let{authorizedDomains:t}=await tC(e);for(let e of t)try{if(function(e){let t=w(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!tO.test(n))return!1;if(tx.test(e))return r===e;let i=e.replace(/\./g,"\\."),s=RegExp("^(.+\\."+i+"|"+i+")$","i");return s.test(r)}(e))return}catch(e){}f(e,"unauthorized-domain")}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tI=new _(3e4,6e4);function tM(){let e=e3().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let tR=null,tA=new _(5e3,15e3),tN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function tL(e){let t=await (tR=tR||new Promise((t,n)=>{var r,i,s;function a(){tM(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{tM(),n(p(e,"network-request-failed"))},timeout:tI.get()})}if(null===(i=null===(r=e3().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else if(null===(s=e3().gapi)||void 0===s?void 0:s.load)a();else{let t=ep("iframefcb");return e3()[t]=()=>{gapi.load?a():n(p(e,"network-request-failed"))},ef(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw tR=null,e})),n=e3().gapi;return y(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;y(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?S(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:s.Jn},a=tj.get(e.config.apiHost);a&&(r.eid=a);let o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${(0,i.xO)(r).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tN,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=p(e,"network-request-failed"),s=e3().setTimeout(()=>{r(i)},tA.get());function a(){e3().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class tU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}let tV=encodeURIComponent("fac");async function tB(e,t,n,r,a,o){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");let l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:s.Jn,eventId:a};if(t instanceof eU)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(o||{})))l[n]=r;if(t instanceof eV){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);let u=l;for(let e of Object.keys(u))void 0===u[e]&&delete u[e];let c=await e._getAppCheckToken(),h=c?`#${tV}=${encodeURIComponent(c)}`:"";return`${function({config:e}){return e.emulator?S(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,i.xO)(u).slice(1)}${h}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tW="webStorageSupport",tY=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e1,this._completeRedirectFn=tT,this._overrideRedirectResult=tS}async _openPopup(e,t,n,r){var s;(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager)||v("_initialize() not called before _openPopup()");let a=await tB(e,t,n,w(),r);return function(e,t,n,r=500,s=600){let a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),l="",u=Object.assign(Object.assign({},tF),{width:r.toString(),height:s.toString(),top:a,left:o}),c=(0,i.z$)().toLowerCase();n&&(l=en(c)?"_blank":n),ee(c)&&(t=t||"http://localhost",u.scrollbars="yes");let h=Object.entries(u).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,i.z$)()){var t;return eo(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==l)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new tU(null);let d=window.open(t||"",l,h);y(d,e,"popup-blocked");try{d.focus()}catch(e){}return new tU(d)}(e,a,e4())}async _openRedirect(e,t,n,r){await this._originValidation(e);let i=await tB(e,t,n,w(),r);return e3().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(n||v("If manager is not set, promise should be"),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await tL(e),n=new tk(e);return t.register("authEvent",t=>{y(null==t?void 0:t.authEvent,e,"invalid-auth-event");let r=n.onEvent(t.authEvent);return{status:r?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){let n=this.iframes[e._key()];n.send(tW,{type:tW},n=>{var r;let i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[tW];void 0!==i&&t(!!i),f(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return el()||et()||eo()}};class tH{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return v("unexpected MultiFactorSessionType")}}}class tz extends tH{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new tz(e)}_finalizeEnroll(e,t,n){return C(e,"POST","/v2/accounts/mfaEnrollment:finalize",D(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return C(e,"POST","/v2/accounts/mfaSignIn:finalize",D(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class tq extends tH{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new tq(t,void 0,e)}static _fromEnrollmentId(e,t){return new tq(t,e)}async _finalizeEnroll(e,t,n){return y(void 0!==this.secret,e,"argument-error"),C(e,"POST","/v2/accounts/mfaEnrollment:finalize",D(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){y(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let n={verificationCode:this.otp};return C(e,"POST","/v2/accounts/mfaSignIn:finalize",D(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n}))}}class t${constructor(e,t,n,r,i,s,a){this.sessionInfo=s,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new t$(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(tG(e)||tG(t))&&(r=!0),r&&(tG(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),tG(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function tG(e){return void 0===e||(null==e?void 0:e.length)===0}var tZ="@firebase/auth",tK="0.23.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;let t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}let tX=(0,i.Pz)("authIdTokenMaxAge")||300,tJ=null,t0=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tX)return;let i=null==n?void 0:n.token;tJ!==i&&(tJ=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function t1(e=(0,s.Mq)()){let t=(0,s.qX)(e,"auth");if(t.isInitialized())return t.getImmediate();let n=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){let n=(0,s.qX)(e,"auth");if(n.isInitialized()){let e=n.getImmediate(),r=n.getOptions();if((0,i.vZ)(r,null!=t?t:{}))return e;f(e,"already-initialized")}let r=n.initialize({options:t});return r}(e,{popupRedirectResolver:tY,persistence:[to,e0,e1]}),r=(0,i.Pz)("authTokenSyncURL");if(r){var a,o;let e=t0(r);a=()=>e(n.currentUser),(0,i.m9)(n).beforeAuthStateChanged(e,a),o=t=>e(t),(0,i.m9)(n).onIdTokenChanged(o,void 0,void 0)}let l=(0,i.q4)("auth");return l&&function(e,t,n){let r=ew(e);y(r._canInitEmulator,r,"emulator-config-failed"),y(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!(null==n?void 0:n.disableWarnings),s=e_(t),{host:a,port:o}=function(e){let t=e_(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:eS(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:eS(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${l}`),n}r="Browser",(0,s.Xd)(new l.wA("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;y(a&&!a.includes(":"),"invalid-api-key",{appName:n.name}),y(!(null==o?void 0:o.includes(":")),"argument-error",{appName:n.name});let l={apiKey:a,authDomain:o,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eu(r)},u=new ev(n,i,s,l);return function(e,t){let n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Z);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{let r=e.getProvider("auth-internal");r.initialize()})),(0,s.Xd)(new l.wA("auth-internal",e=>{let t=ew(e.getProvider("auth").getImmediate());return new tQ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.KN)(tZ,tK,/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(r)),(0,s.KN)(tZ,tK,"esm2017")},6100:function(e,t,n){"use strict";n.d(t,{JU:function(){return oy},QT:function(){return oA},ad:function(){return ob}});var r,i,s,a,o,l,u,c,h=n(5816),d=n(740),f=n(3333),p=n(4444),m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},g={},y=y||{},v=m||self;function w(){}function b(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function _(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function S(e,t,n){return e.call.apply(e.bind,arguments)}function T(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function k(e,t,n){return(k=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?S:T).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function D(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function C(){this.s=this.s,this.o=this.o}C.prototype.s=!1,C.prototype.ra=function(){this.s||(this.s=!0,this.N())},C.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};let x=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return -1};function O(e){let t=e.length;if(0<t){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function P(e,t){for(let t=1;t<arguments.length;t++){let n=arguments[t];if(b(n)){let t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function I(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{v.addEventListener("test",w,t),v.removeEventListener("test",w,t)}catch(e){}return e}();function R(e){return/^[\s\xa0]*$/.test(e)}var A=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function N(e,t){return e<t?-1:e>t?1:0}function j(){var e=v.navigator;return e&&(e=e.userAgent)?e:""}function L(e){return -1!=j().indexOf(e)}function F(e){return F[" "](e),e}function U(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}F[" "]=w;var V=L("Opera"),B=L("Trident")||L("MSIE"),W=L("Edge"),Y=W||B,H=L("Gecko")&&!(-1!=j().toLowerCase().indexOf("webkit")&&!L("Edge"))&&!(L("Trident")||L("MSIE"))&&!L("Edge"),z=-1!=j().toLowerCase().indexOf("webkit")&&!L("Edge");function q(){var e=v.document;return e?e.documentMode:void 0}e:{var $,G="",Z=($=j(),H?/rv:([^\);]+)(\)|;)/.exec($):W?/Edge\/([\d\.]+)/.exec($):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec($):z?/WebKit\/(\S+)/.exec($):V?/(?:Version)[ \/]?(\S+)/.exec($):void 0);if(Z&&(G=Z?Z[1]:""),B){var K=q();if(null!=K&&K>parseFloat(G)){i=String(K);break e}}i=G}var Q={},X=v.document&&B&&(q()||parseInt(i,10))||void 0;function J(e,t){if(I.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(H){e:{try{F(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ee[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&J.$.h.call(this)}}D(J,I);var ee={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),en=0;function er(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++en,this.fa=this.ia=!1}function ei(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function es(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function ea(e){let t={};for(let n in e)t[n]=e[n];return t}let eo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function el(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t])e[n]=r[n];for(let t=0;t<eo.length;t++)n=eo[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function eu(e){this.src=e,this.g={},this.h=0}function ec(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=x(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ei(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function eh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&!!n==s.capture&&s.la==r)return i}return -1}eu.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=eh(e,t,r,i);return -1<a?(t=e[a],n||(t.ia=!1)):((t=new er(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var ed="closure_lm_"+(1e6*Math.random()|0),ef={};function ep(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=_(i)?!!i.capture:!!i,o=ev(e);if(o||(e[ed]=o=new eu(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function e(t){return ey.call(e.src,e.listener,t)},n.proxy=r,r.src=e,r.listener=n,e.addEventListener)M||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(eg(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function em(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[et])ec(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(eg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ev(t))?(ec(n,e),0==n.h&&(n.src=null,t[ed]=null)):ei(e)}}}function eg(e){return e in ef?ef[e]:ef[e]="on"+e}function ey(e,t){if(e.fa)e=!0;else{t=new J(t,this);var n=e.listener,r=e.la||e.src;e.ia&&em(e),e=n.call(r,t)}return e}function ev(e){return(e=e[ed])instanceof eu?e:null}var ew="__closure_events_fn_"+(1e9*Math.random()>>>0);function eb(e){return"function"==typeof e?e:(e[ew]||(e[ew]=function(t){return e.handleEvent(t)}),e[ew])}function e_(){C.call(this),this.i=new eu(this),this.S=this,this.J=null}function eS(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"==typeof t)t=new I(t,e);else if(t instanceof I)t.target=t.target||e;else{var i=t;el(t=new I(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=eT(a,r,!0,t)&&i}if(i=eT(a=t.g=e,r,!0,t)&&i,i=eT(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=eT(a=t.g=n[s],r,!1,t)&&i}function eT(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&ec(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}D(e_,C),e_.prototype[et]=!0,e_.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,s){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);else(i=_(i)?!!i.capture:!!i,r=eb(r),t&&t[et])?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=eh(a=t.g[n],r,i,s))&&(ei(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.g[n],t.h--))):t&&(t=ev(t))&&(n=t.g[n.toString()],t=-1,n&&(t=eh(n,r,i,s)),(r=-1<t?n[t]:null)&&em(r))}(this,e,t,n,r)},e_.prototype.N=function(){if(e_.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ei(n[r]);delete t.g[e],t.h--}}this.J=null},e_.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},e_.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ek=v.JSON.stringify,eE=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new eD,e=>e.reset());class eD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function eC(e,t){var n;a||(n=v.Promise.resolve(void 0),a=function(){n.then(eP)}),ex||(a(),ex=!0),eO.add(e,t)}var ex=!1,eO=new class{constructor(){this.h=this.g=null}add(e,t){let n=eE.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function eP(){let e;for(;e=null,(t=eO).g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),n=e;){try{n.h.call(n.g)}catch(e){!function(e){v.setTimeout(()=>{throw e},0)}(e)}var t,n,r=eE;r.j(n),100>r.h&&(r.h++,n.next=r.g,r.g=n)}ex=!1}function eI(e,t){e_.call(this),this.h=e||1,this.g=t||v,this.j=k(this.qb,this),this.l=Date.now()}function eM(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function eR(e,t,n){if("function"==typeof e)n&&(e=k(e,n));else if(e&&"function"==typeof e.handleEvent)e=k(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:v.setTimeout(e,t||0)}D(eI,e_),(c=eI.prototype).ga=!1,c.T=null,c.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),eS(this,"tick"),this.ga&&(eM(this),this.start()))}},c.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},c.N=function(){eI.$.N.call(this),eM(this),delete this.g};class eA extends C{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=eR(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.j);let n=t.h;t.h=null,t.m.apply(null,n)}(this)}N(){super.N(),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eN(e){C.call(this),this.h=e,this.g={}}D(eN,C);var ej=[];function eL(e,t,n,r){Array.isArray(n)||(n&&(ej[0]=n.toString()),n=ej);for(var i=0;i<n.length;i++){var s=function e(t,n,r,i,s){if(i&&i.once)return function e(t,n,r,i,s){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);return null}return r=eb(r),t&&t[et]?t.P(n,r,_(i)?!!i.capture:!!i,s):ep(t,n,r,!0,i,s)}(t,n,r,i,s);if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);return null}return r=eb(r),t&&t[et]?t.O(n,r,_(i)?!!i.capture:!!i,s):ep(t,n,r,!1,i,s)}(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function eF(e){es(e.g,function(e,t){this.g.hasOwnProperty(t)&&em(e)},e),e.g={}}function eU(){this.g=!0}function eV(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}}return ek(n)}catch(e){return t}}(e,n)+(r?" "+r:"")})}eN.prototype.N=function(){eN.$.N.call(this),eF(this)},eN.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eU.prototype.Ea=function(){this.g=!1},eU.prototype.info=function(){};var eB={},eW=null;function eY(){return eW=eW||new e_}function eH(e){I.call(this,eB.Ta,e)}function ez(e){let t=eY();eS(t,new eH(t))}function eq(e,t){I.call(this,eB.STAT_EVENT,e),this.stat=t}function e$(e){let t=eY();eS(t,new eq(t,e))}function eG(e,t){I.call(this,eB.Ua,e),this.size=t}function eZ(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return v.setTimeout(function(){e()},t)}eB.Ta="serverreachability",D(eH,I),eB.STAT_EVENT="statevent",D(eq,I),eB.Ua="timingevent",D(eG,I);var eK={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},eQ={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function eX(){}function eJ(e){return e.h||(e.h=e.i())}function e0(){}eX.prototype.h=null;var e1={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function e2(){I.call(this,"d")}function e4(){I.call(this,"c")}function e9(){}function e3(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new eN(this),this.P=e5,e=Y?125:void 0,this.V=new eI(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new e6}function e6(){this.i=null,this.g="",this.h=!1}D(e2,I),D(e4,I),D(e9,eX),e9.prototype.g=function(){return new XMLHttpRequest},e9.prototype.i=function(){return{}},o=new e9;var e5=45e3,e7={},e8={};function te(e,t,n){e.L=1,e.v=tv(tf(t)),e.s=n,e.S=!0,tt(e,null)}function tt(e,t){e.G=Date.now(),ti(e),e.A=tf(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),tI(n.i,"t",r),e.C=0,n=e.l.I,e.h=new e6,e.g=nb(e.l,n?t:null,!e.s),0<e.O&&(e.M=new eA(k(e.Pa,e,e.g),e.O)),eL(e.U,e.g,"readystatechange",e.nb),t=e.I?ea(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ez(),function(e,t,n,r,i,s){e.info(function(){if(e.g){if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var u=o[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");a=2<=h.length&&"type"==h[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null}else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.W,e.s)}function tn(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.l.Ha}function tr(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if((i=function(e,t){var n=e.C,r=t.indexOf("\n",n);return -1==r?e8:isNaN(n=Number(t.substring(n,r)))?e7:(r+=1)+n>t.length?e8:(t=t.substr(r,n),e.C=r+n,t)}(e,n))==e8){4==t&&(e.o=4,e$(14),r=!1),eV(e.j,e.m,null,"[Incomplete Response]");break}else if(i==e7){e.o=4,e$(15),eV(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else eV(e.j,e.m,i,null),tu(e,i);tn(e)&&i!=e8&&i!=e7&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,e$(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),nd(t),t.L=!0,e$(11))):(eV(e.j,e.m,n,"[Invalid Chunked Response]"),tl(e),to(e))}function ti(e){e.Y=Date.now()+e.P,ts(e,e.P)}function ts(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=eZ(k(e.lb,e),t)}function ta(e){e.B&&(v.clearTimeout(e.B),e.B=null)}function to(e){0==e.l.H||e.J||nm(e.l,e)}function tl(e){ta(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,eM(e.V),eF(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function tu(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||tF(n.h,e))){if(!e.K&&tF(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(n.g.G+3e3<e.G)np(n),ni(n);else break e}nh(n),e$(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=eZ(k(n.ib,n),6e3));if(1>=tL(n.h)&&n.na){try{n.na()}catch(e){}n.na=void 0}}else ny(n,11)}else if((e.K||n.g==e)&&np(n),!R(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let o=i[t];if(n.V=o[0],o=o[1],2==n.H){if("c"==o[0]){n.J=o[1],n.oa=o[2];let t=o[3];null!=t&&(n.qa=t,n.j.info("VER="+n.qa));let i=o[4];null!=i&&(n.Ga=i,n.j.info("SVER="+n.Ga));let l=o[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;let u=e.g;if(u){let e=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(tU(s,s.h),s.h=null))}if(r.F){let e=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,ty(r.G,r.F,e))}}if(n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms")),(r=n).wa=nw(r,r.I?r.oa:null,r.Y),e.K){tV(r.h,e);var a=r.K;a&&e.setTimeout(a),e.B&&(ta(e),ti(e)),r.g=e}else nc(r);0<n.i.length&&na(n)}else"stop"!=o[0]&&"close"!=o[0]||ny(n,7)}else 3==n.H&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?ny(n,7):nr(n):"noop"!=o[0]&&n.l&&n.l.Aa(o),n.A=0)}}ez(4)}catch(e){}}function tc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(b(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(b(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(let r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(b(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(c=e3.prototype).setTimeout=function(e){this.P=e},c.nb=function(e){e=e.target;let t=this.M;t&&3==t5(e)?t.l():this.Pa(e)},c.Pa=function(e){try{if(e==this.g)e:{let c=t5(this.g);var t=this.g.Ia();let h=this.g.da();if(!(3>c)&&(3!=c||Y||this.g&&(this.h.h||this.g.ja()||t7(this.g)))){this.J||4!=c||7==t||(8==t||0>=h?ez(3):ez(2)),ta(this);var n=this.g.da();this.aa=n;t:if(tn(this)){var r=t7(this.g);e="";var i=r.length,s=4==t5(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){tl(this),to(this);var a="";break t}this.h.i=new v.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(o)){var u=o;break t}}u=null}if(n=u)eV(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tu(this,n);else{this.i=!1,this.o=3,e$(12),tl(this),to(this);break e}}this.S?(tr(this,c,a),Y&&this.i&&3==c&&(eL(this.U,this.V,"tick",this.mb),this.V.start())):(eV(this.j,this.m,a,null),tu(this,a)),4==c&&tl(this),this.i&&!this.J&&(4==c?nm(this.l,this):(this.i=!1,ti(this)))}else 400==n&&0<a.indexOf("Unknown SID")?(this.o=3,e$(12)):(this.o=0,e$(13)),tl(this),to(this)}}}catch(e){}finally{}},c.mb=function(){if(this.g){var e=t5(this.g),t=this.g.ja();this.C<t.length&&(ta(this),tr(this,e,t),this.i&&4!=e&&ti(this))}},c.cancel=function(){this.J=!0,tl(this)},c.lb=function(){this.B=null;let e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(ez(),e$(17)),tl(this),this.o=2,to(this)):ts(this,this.Y-e)};var th=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function td(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof td){this.h=void 0!==t?t:e.h,tp(this,e.j),this.s=e.s,this.g=e.g,tm(this,e.m),this.l=e.l,t=e.i;var n=new tC;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),tg(this,n),this.o=e.o}else e&&(n=String(e).match(th))?(this.h=!!t,tp(this,n[1]||"",!0),this.s=tw(n[2]||""),this.g=tw(n[3]||"",!0),tm(this,n[4]),this.l=tw(n[5]||"",!0),tg(this,n[6]||"",!0),this.o=tw(n[7]||"")):(this.h=!!t,this.i=new tC(null,this.h))}function tf(e){return new td(e)}function tp(e,t,n){e.j=n?tw(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tm(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function tg(e,t,n){var r,i;t instanceof tC?(e.i=t,r=e.i,(i=e.h)&&!r.j&&(tx(r),r.i=null,r.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(tO(this,t),tI(this,n,e))},r)),r.j=i):(n||(t=tb(t,tE)),e.i=new tC(t,e.h))}function ty(e,t,n){e.i.set(t,n)}function tv(e){return ty(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function tw(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function tb(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,t_),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function t_(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}td.prototype.toString=function(){var e=[],t=this.j;t&&e.push(tb(t,tS,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(tb(t,tS,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(tb(n,"/"==n.charAt(0)?tk:tT,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",tb(n,tD)),e.join("")};var tS=/[#\/\?@]/g,tT=/[#\?:]/g,tk=/[#\?]/g,tE=/[#\?@]/g,tD=/#/g;function tC(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function tx(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function tO(e,t){tx(e),t=tM(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tP(e,t){return tx(e),t=tM(e,t),e.g.has(t)}function tI(e,t,n){tO(e,t),0<n.length&&(e.i=null,e.g.set(tM(e,t),O(n)),e.h+=n.length)}function tM(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(c=tC.prototype).add=function(e,t){tx(this),this.i=null,e=tM(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},c.forEach=function(e,t){tx(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},c.sa=function(){tx(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){let i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},c.Z=function(e){tx(this);let t=[];if("string"==typeof e)tP(this,e)&&(t=t.concat(this.g.get(tM(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},c.set=function(e,t){return tx(this),this.i=null,tP(this,e=tM(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},c.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];let s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var tR=class{constructor(e,t){this.h=e,this.g=t}};function tA(e){this.l=e||tN,e=v.PerformanceNavigationTiming?0<(e=v.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(v.g&&v.g.Ka&&v.g.Ka()&&v.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tN=10;function tj(e){return!!e.h||!!e.g&&e.g.size>=e.j}function tL(e){return e.h?1:e.g?e.g.size:0}function tF(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function tU(e,t){e.g?e.g.add(t):e.h=t}function tV(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function tB(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let n of e.g.values())t=t.concat(n.F);return t}return O(e.i)}function tW(){}function tY(){this.g=new tW}function tH(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function tz(e){this.l=e.fc||null,this.j=e.ob||!1}function tq(e,t){e_.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=t$,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tA.prototype.cancel=function(){if(this.i=tB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}},tW.prototype.stringify=function(e){return v.JSON.stringify(e,void 0)},tW.prototype.parse=function(e){return v.JSON.parse(e,void 0)},D(tz,eX),tz.prototype.g=function(){return new tq(this.l,this.j)},tz.prototype.i=(r={},function(){return r}),D(tq,e_);var t$=0;function tG(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function tZ(e){e.readyState=4,e.l=null,e.j=null,e.A=null,tK(e)}function tK(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(c=tq.prototype).open=function(e,t){if(this.readyState!=t$)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,tK(this)},c.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||v).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},c.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tZ(this)),this.readyState=t$},c.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tK(this)),this.g&&(this.readyState=3,tK(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==v.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tG(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))}},c.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?tZ(this):tK(this),3==this.readyState&&tG(this)}},c.Za=function(e){this.g&&(this.response=this.responseText=e,tZ(this))},c.Ya=function(e){this.g&&(this.response=e,tZ(this))},c.ka=function(){this.g&&tZ(this)},c.setRequestHeader=function(e,t){this.v.append(e,t)},c.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tq.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var tQ=v.JSON.parse;function tX(e){e_.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tJ,this.L=this.M=!1}D(tX,e_);var tJ="",t0=/^https?$/i,t1=["POST","PUT"];function t2(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,t4(e),t3(e)}function t4(e){e.F||(e.F=!0,eS(e,"complete"),eS(e,"error"))}function t9(e){if(e.h&&void 0!==y&&(!e.C[1]||4!=t5(e)||2!=e.da())){if(e.v&&4==t5(e))eR(e.La,0,e);else if(eS(e,"readystatechange"),4==t5(e)){e.h=!1;try{let o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,n,r=!0;break e;default:r=!1}if(!(t=r)){if(n=0===o){var i=String(e.I).match(th)[1]||null;if(!i&&v.self&&v.self.location){var s=v.self.location.protocol;i=s.substr(0,s.length-1)}n=!t0.test(i?i.toLowerCase():"")}t=n}if(t)eS(e,"complete"),eS(e,"success");else{e.m=6;try{var a=2<t5(e)?e.g.statusText:""}catch(e){a=""}e.j=a+" ["+e.da()+"]",t4(e)}}finally{t3(e)}}}}function t3(e,t){if(e.g){t6(e);let n=e.g,r=e.C[0]?w:null;e.g=null,e.C=null,t||eS(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function t6(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(v.clearTimeout(e.A),e.A=null)}function t5(e){return e.g?e.g.readyState:0}function t7(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case tJ:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function t8(e){let t="";return es(e,function(e,n){t+=n+":"+e+"\r\n"}),t}function ne(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=t8(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):ty(e,t,n))}function nt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nn(e){this.Ga=0,this.i=[],this.j=new eU,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nt("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nt("baseRetryDelayMs",5e3,e),this.hb=nt("retryDelaySeedMs",1e4,e),this.eb=nt("forwardChannelMaxRetries",2,e),this.xa=nt("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new tA(e&&e.concurrentRequestLimit),this.Ja=new tY,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function nr(e){if(ns(e),3==e.H){var t=e.W++,n=tf(e.G);ty(n,"SID",e.J),ty(n,"RID",t),ty(n,"TYPE","terminate"),nl(e,n),(t=new e3(e,e.j,t,void 0)).L=2,t.v=tv(tf(n)),n=!1,v.navigator&&v.navigator.sendBeacon&&(n=v.navigator.sendBeacon(t.v.toString(),"")),!n&&v.Image&&((new Image).src=t.v,n=!0),n||(t.g=nb(t.l,null),t.g.ha(t.v)),t.G=Date.now(),ti(t)}nv(e)}function ni(e){e.g&&(nd(e),e.g.cancel(),e.g=null)}function ns(e){ni(e),e.u&&(v.clearTimeout(e.u),e.u=null),np(e),e.h.cancel(),e.m&&("number"==typeof e.m&&v.clearTimeout(e.m),e.m=null)}function na(e){tj(e.h)||e.m||(e.m=!0,eC(e.Na,e),e.C=0)}function no(e,t){var n;n=t?t.m:e.W++;let r=tf(e.G);ty(r,"SID",e.J),ty(r,"RID",n),ty(r,"AID",e.V),nl(e,r),e.o&&e.s&&ne(r,e.o,e.s),n=new e3(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=nu(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),tU(e.h,n),te(n,r,t)}function nl(e,t){e.ma&&es(e.ma,function(e,n){ty(t,n,e)}),e.l&&tc({},function(e,n){ty(t,n,e)})}function nu(e,t,n){n=Math.min(e.i.length,n);var r=e.l?k(e.l.Va,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){let e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].h,o=i[a].g;if(0>(n-=t))t=Math.max(0,i[a].h-100),s=!1;else try{!function(e,t,n){let r=n||"";try{tc(e,function(e,n){let i=e;_(e)&&(i=ek(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(o,e,"req"+n+"_")}catch(e){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.F=e,r}function nc(e){e.g||e.u||(e.ba=1,eC(e.Ma,e),e.A=0)}function nh(e){return!e.g&&!e.u&&!(3<=e.A)&&(e.ba++,e.u=eZ(k(e.Ma,e),ng(e,e.A)),e.A++,!0)}function nd(e){null!=e.B&&(v.clearTimeout(e.B),e.B=null)}function nf(e){e.g=new e3(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=tf(e.wa);ty(t,"RID","rpc"),ty(t,"SID",e.J),ty(t,"CI",e.M?"0":"1"),ty(t,"AID",e.V),ty(t,"TYPE","xmlhttp"),nl(e,t),e.o&&e.s&&ne(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=tv(tf(t)),n.s=null,n.S=!0,tt(n,e)}function np(e){null!=e.v&&(v.clearTimeout(e.v),e.v=null)}function nm(e,t){var n=null;if(e.g==t){np(e),nd(e),e.g=null;var r=2}else{if(!tF(e.h,t))return;n=t.F,tV(e.h,t),r=1}if(0!=e.H){if(e.ta=t.aa,t.i){if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i,s,a=e.C;eS(r=eY(),new eG(r,n)),na(e)}else nc(e)}else if(3==(a=t.o)||0==a&&0<e.ta||!(1==r&&(i=e,s=t,!(tL(i.h)>=i.h.j-(i.m?1:0))&&(i.m?(i.i=s.F.concat(i.i),!0):1!=i.H&&2!=i.H&&!(i.C>=(i.cb?0:i.eb))&&(i.m=eZ(k(i.Na,i,s),ng(i,i.C)),i.C++,!0)))||2==r&&nh(e)))switch(n&&0<n.length&&((t=e.h).i=t.i.concat(n)),a){case 1:ny(e,5);break;case 4:ny(e,10);break;case 3:ny(e,6);break;default:ny(e,2)}}}function ng(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function ny(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=k(e.pb,e);n||(n=new td("//www.google.com/images/cleardot.gif"),v.location&&"http"==v.location.protocol||tp(n,"https"),tv(n)),function(e,t){let n=new eU;if(v.Image){let r=new Image;r.onload=E(tH,n,r,"TestLoadImage: loaded",!0,t),r.onerror=E(tH,n,r,"TestLoadImage: error",!1,t),r.onabort=E(tH,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=E(tH,n,r,"TestLoadImage: timeout",!1,t),v.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else e$(2);e.H=0,e.l&&e.l.za(t),nv(e),ns(e)}function nv(e){if(e.H=0,e.pa=[],e.l){let t=tB(e.h);(0!=t.length||0!=e.i.length)&&(P(e.pa,t),P(e.pa,e.i),e.h.i.length=0,O(e.i),e.i.length=0),e.l.ya()}}function nw(e,t,n){var r=n instanceof td?tf(n):new td(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),tm(r,r.m);else{var i=v.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new td(null,void 0);r&&tp(s,r),t&&(s.g=t),i&&tm(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&ty(r,n,t),ty(r,"VER",e.qa),nl(e,r),r}function nb(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tX(n&&e.Ha&&!e.va?new tz({ob:!0}):e.va)).Oa(e.I),t}function n_(){}function nS(){if(B&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function nT(e,t){e_.call(this),this.g=new nn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!R(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!R(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new nD(this)}function nk(e){e2.call(this);var t=e.__sm__;if(t){e:{for(let n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function nE(){e4.call(this),this.status=1}function nD(e){this.g=e}function nC(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function nx(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[1]+3905402710&4294967295,a=i+(n^(s=t+(a<<12&4294967295|a>>>20))&(t^n))+r[2]+606105819&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[3]+3250441966&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[4]+4118548399&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[5]+1200080426&4294967295,a=i+(n^(s=t+(a<<12&4294967295|a>>>20))&(t^n))+r[6]+2821735955&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[7]+4249261313&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[8]+1770035416&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[9]+2336552879&4294967295,a=i+(n^(s=t+(a<<12&4294967295|a>>>20))&(t^n))+r[10]+4294925233&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[11]+2304563134&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[12]+1804603682&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[13]+4254626195&4294967295,a=i+(n^(s=t+(a<<12&4294967295|a>>>20))&(t^n))+r[14]+2792965006&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[15]+1236535329&4294967295,n=i+(a<<22&4294967295|a>>>10),a=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(a<<20&4294967295|a>>>12),a=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(a<<20&4294967295|a>>>12),a=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(a<<20&4294967295|a>>>12),a=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(a<<5&4294967295|a>>>27),a=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(a<<14&4294967295|a>>>18),a=n+(s^t&(i^s))+r[12]+2368359562&4294967295,a=t+((n=i+(a<<20&4294967295|a>>>12))^i^s)+r[5]+4294588738&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[8]+2272392833&4294967295,a=i+((s=t+(a<<11&4294967295|a>>>21))^t^n)+r[11]+1839030562&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[14]+4259657740&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[1]+2763975236&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[4]+1272893353&4294967295,a=i+((s=t+(a<<11&4294967295|a>>>21))^t^n)+r[7]+4139469664&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[10]+3200236656&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[13]+681279174&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[0]+3936430074&4294967295,a=i+((s=t+(a<<11&4294967295|a>>>21))^t^n)+r[3]+3572445317&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[6]+76029189&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[9]+3654602809&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[12]+3873151461&4294967295,a=i+((s=t+(a<<11&4294967295|a>>>21))^t^n)+r[15]+530742520&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[2]+3299628645&4294967295,n=i+(a<<23&4294967295|a>>>9),a=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(a<<21&4294967295|a>>>11),a=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(a<<21&4294967295|a>>>11),a=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(a<<21&4294967295|a>>>11),a=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(a<<6&4294967295|a>>>26),a=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(a<<15&4294967295|a>>>17),a=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function nO(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(c=tX.prototype).Oa=function(e){this.M=e},c.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():o.g(),this.C=this.u?eJ(this.u):eJ(o),this.g.onreadystatechange=k(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){t2(this,e);return}if(e=n||"",n=new Map(this.headers),r){if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if("function"==typeof r.keys&&"function"==typeof r.get)for(let e of r.keys())n.set(e,r.get(e));else throw Error("Unknown input type for opt_headers: "+String(r))}for(let[i,a]of(r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=v.FormData&&e instanceof v.FormData,!(0<=x(t1,t))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),n))this.g.setRequestHeader(i,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{var a;t6(this),0<this.B&&((this.L=(a=this.g,B&&U(Q,9,function(){let e=0,t=A(String(i)).split("."),n=A("9").split("."),r=Math.max(t.length,n.length);for(let i=0;0==e&&i<r;i++){var s=t[i]||"",a=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=N(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||N(0==s[2].length,0==a[2].length)||N(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})&&"number"==typeof a.timeout&&void 0!==a.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=k(this.ua,this)):this.A=eR(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){t2(this,e)}},c.ua=function(){void 0!==y&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,eS(this,"timeout"),this.abort(8))},c.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,eS(this,"complete"),eS(this,"abort"),t3(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),t3(this,!0)),tX.$.N.call(this)},c.La=function(){this.s||(this.G||this.v||this.l?t9(this):this.kb())},c.kb=function(){t9(this)},c.da=function(){try{return 2<t5(this)?this.g.status:-1}catch(e){return -1}},c.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},c.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),tQ(t)}},c.Ia=function(){return this.m},c.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(c=nn.prototype).qa=8,c.H=1,c.Na=function(e){if(this.m){if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;let i=new e3(this,this.j,e,void 0),s=this.s;if(this.U&&(s?el(s=ea(s),this.U):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&"string"==typeof(r=r.g.__data__)){r=r.length;break t}r=void 0}if(void 0===r)break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=nu(this,i,t),ty(n=tf(this.G),"RID",e),ty(n,"CVER",22),this.F&&ty(n,"X-HTTP-Session-Id",this.F),nl(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(t8(s)))+"&"+t:this.o&&ne(n,this.o,s)),tU(this.h,i),this.bb&&ty(n,"TYPE","init"),this.P?(ty(n,"$req",t),ty(n,"SID","null"),i.ba=!0,te(i,n,null)):te(i,n,t),this.H=2}}else 3==this.H&&(e?no(this,e):0==this.i.length||tj(this.h)||no(this))}},c.Ma=function(){if(this.u=null,nf(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=eZ(k(this.jb,this),e)}},c.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,e$(10),ni(this),nf(this))},c.ib=function(){null!=this.v&&(this.v=null,ni(this),nh(this),e$(19))},c.pb=function(e){e?(this.j.info("Successfully pinged google.com"),e$(2)):(this.j.info("Failed to ping google.com"),e$(1))},(c=n_.prototype).Ba=function(){},c.Aa=function(){},c.za=function(){},c.ya=function(){},c.Va=function(){},nS.prototype.g=function(e,t){return new nT(e,t)},D(nT,e_),nT.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;e$(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=nw(e,null,e.Y),na(e)},nT.prototype.close=function(){nr(this.g)},nT.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ek(e),e=n);t.i.push(new tR(t.fb++,e)),3==t.H&&na(t)},nT.prototype.N=function(){this.g.l=null,delete this.j,nr(this.g),delete this.g,nT.$.N.call(this)},D(nk,e2),D(nE,e4),D(nD,n_),nD.prototype.Ba=function(){eS(this.g,"a")},nD.prototype.Aa=function(e){eS(this.g,new nk(e))},nD.prototype.za=function(e){eS(this.g,new nE)},nD.prototype.ya=function(){eS(this.g,"b")},D(nC,function(){this.blockSize=-1}),nC.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},nC.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)nx(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){nx(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){nx(this,r),i=0;break}}this.h=i,this.i+=t},nC.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var nP={};function nI(e){return -128<=e&&128>e?U(nP,e,function(e){return new nO([0|e],0>e?-1:0)}):new nO([0|e],0>e?-1:0)}function nM(e){if(isNaN(e)||!isFinite(e))return nA;if(0>e)return nU(nM(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=nR;return new nO(t,0)}var nR=4294967296,nA=nI(0),nN=nI(1),nj=nI(16777216);function nL(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function nF(e){return -1==e.h}function nU(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new nO(n,~e.h).add(nN)}function nV(e,t){return e.add(nU(t))}function nB(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function nW(e,t){this.g=e,this.h=t}function nY(e,t){if(nL(t))throw Error("division by zero");if(nL(e))return new nW(nA,nA);if(nF(e))return t=nY(nU(e),t),new nW(nU(t.g),nU(t.h));if(nF(t))return t=nY(e,nU(t)),new nW(nU(t.g),t.h);if(30<e.g.length){if(nF(e)||nF(t))throw Error("slowDivide_ only works with positive integers.");for(var n=nN,r=t;0>=r.X(e);)n=nH(n),r=nH(r);var i=nz(n,1),s=nz(r,1);for(r=nz(r,2),n=nz(n,2);!nL(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=nz(r,1),n=nz(n,1)}return t=nV(e,i.R(t)),new nW(i,t)}for(i=nA;0<=e.X(t);){for(r=48>=(r=Math.ceil(Math.log(n=Math.max(1,Math.floor(e.ea()/t.ea())))/Math.LN2))?1:Math.pow(2,r-48),a=(s=nM(n)).R(t);nF(a)||0<a.X(e);)n-=r,a=(s=nM(n)).R(t);nL(s)&&(s=nN),i=i.add(s),e=nV(e,a)}return new nW(i,e)}function nH(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new nO(n,e.h)}function nz(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new nO(i,e.h)}(c=nO.prototype).ea=function(){if(nF(this))return-nU(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:nR+r)*t,t*=nR}return e},c.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(nL(this))return"0";if(nF(this))return"-"+nU(this).toString(e);for(var t=nM(Math.pow(e,6)),n=this,r="";;){var i=nY(n,t).g,s=((0<(n=nV(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(nL(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},c.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},c.X=function(e){return nF(e=nV(this,e))?-1:nL(e)?0:1},c.abs=function(){return nF(this)?nU(this):this},c.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new nO(n,-2147483648&n[n.length-1]?-1:0)},c.R=function(e){if(nL(this)||nL(e))return nA;if(nF(this))return nF(e)?nU(this).R(nU(e)):nU(nU(this).R(e));if(nF(e))return nU(this.R(nU(e)));if(0>this.X(nj)&&0>e.X(nj))return nM(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,nB(n,2*r+2*i),n[2*r+2*i+1]+=s*l,nB(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,nB(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,nB(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new nO(n,0)},c.gb=function(e){return nY(this,e).h},c.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new nO(n,this.h&e.h)},c.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new nO(n,this.h|e.h)},c.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new nO(n,this.h^e.h)},nS.prototype.createWebChannel=nS.prototype.g,nT.prototype.send=nT.prototype.u,nT.prototype.open=nT.prototype.m,nT.prototype.close=nT.prototype.close,eK.NO_ERROR=0,eK.TIMEOUT=8,eK.HTTP_ERROR=6,eQ.COMPLETE="complete",e0.EventType=e1,e1.OPEN="a",e1.CLOSE="b",e1.ERROR="c",e1.MESSAGE="d",e_.prototype.listen=e_.prototype.O,tX.prototype.listenOnce=tX.prototype.P,tX.prototype.getLastError=tX.prototype.Sa,tX.prototype.getLastErrorCode=tX.prototype.Ia,tX.prototype.getStatus=tX.prototype.da,tX.prototype.getResponseJson=tX.prototype.Wa,tX.prototype.getResponseText=tX.prototype.ja,tX.prototype.send=tX.prototype.ha,tX.prototype.setWithCredentials=tX.prototype.Oa,nC.prototype.digest=nC.prototype.l,nC.prototype.reset=nC.prototype.reset,nC.prototype.update=nC.prototype.j,nO.prototype.add=nO.prototype.add,nO.prototype.multiply=nO.prototype.R,nO.prototype.modulo=nO.prototype.gb,nO.prototype.compare=nO.prototype.X,nO.prototype.toNumber=nO.prototype.ea,nO.prototype.toString=nO.prototype.toString,nO.prototype.getBits=nO.prototype.D,nO.fromNumber=nM,nO.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return nU(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=nM(Math.pow(n,8)),i=nA,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=nM(Math.pow(n,a)),i=i.R(a).add(nM(o))):i=(i=i.R(r)).add(nM(o))}return i};var nq=g.createWebChannelTransport=function(){return new nS},n$=g.getStatEventTarget=function(){return eY()},nG=g.ErrorCode=eK,nZ=g.EventType=eQ,nK=g.Event=eB,nQ=g.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nX=g.FetchXmlHttpFactory=tz,nJ=g.WebChannel=e0,n0=g.XhrIo=tX,n1=g.Md5=nC,n2=g.Integer=nO;n(3454);let n4="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}n9.UNAUTHENTICATED=new n9(null),n9.GOOGLE_CREDENTIALS=new n9("google-credentials-uid"),n9.FIRST_PARTY=new n9("first-party-uid"),n9.MOCK_USER=new n9("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n3="9.21.0",n6=new f.Yd("@firebase/firestore");function n5(){return n6.logLevel}function n7(e,...t){if(n6.logLevel<=f.in.DEBUG){let n=t.map(rt);n6.debug(`Firestore (${n3}): ${e}`,...n)}}function n8(e,...t){if(n6.logLevel<=f.in.ERROR){let n=t.map(rt);n6.error(`Firestore (${n3}): ${e}`,...n)}}function re(e,...t){if(n6.logLevel<=f.in.WARN){let n=t.map(rt);n6.warn(`Firestore (${n3}): ${e}`,...n)}}function rt(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(e="Unexpected state"){let t=`FIRESTORE (${n3}) INTERNAL ASSERTION FAILED: `+e;throw n8(t),Error(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ri extends p.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ro{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(n9.UNAUTHENTICATED))}shutdown(){}}class rl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ru{constructor(e){this.t=e,this.currentUser=n9.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i,r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve(),i=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rs,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{n7("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?a(e):(n7("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rs)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(n7("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?("string"==typeof t.accessToken||rn(),new ra(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return null===e||"string"==typeof e||rn(),new n9(e)}}class rc{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=n9.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);let e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class rh{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new rc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(n9.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rf{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){let n=e=>{null!=e.error&&n7("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.T;return this.T=e.token,n7("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};let r=e=>{n7("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){let e=this.I.getImmediate({optional:!0});e?r(e):n7("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?("string"==typeof e.token||rn(),this.T=e.token,new rd(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{static A(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";for(;n.length<20;){let r=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function rm(e,t){return e<t?-1:e>t?1:0}function rg(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new ri(rr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800||e>=253402300800)throw new ri(rr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ry.fromMillis(Date.now())}static fromDate(e){return ry.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3);return new ry(t,Math.floor(1e6*(e-1e3*t)))}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rm(this.nanoseconds,e.nanoseconds):rm(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rv(e)}static min(){return new rv(new ry(0,0))}static max(){return new rv(new ry(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t,n){void 0===t?t=0:t>e.length&&rn(),void 0===n?n=e.length-t:n>e.length-t&&rn(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===rw.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof rw?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.get(r),i=t.get(r);if(n<i)return -1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rb extends rw{construct(e,t,n){return new rb(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let t=[];for(let n of e){if(n.indexOf("//")>=0)throw new ri(rr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new rb(t)}static emptyPath(){return new rb([])}}let r_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rS extends rw{construct(e,t,n){return new rS(e,t,n)}static isValidIdentifier(e){return r_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rS.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new rS(["__name__"])}static fromServerFormat(e){let t=[],n="",r=0,i=()=>{if(0===n.length)throw new ri(rr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""},s=!1;for(;r<e.length;){let t=e[r];if("\\"===t){if(r+1===e.length)throw new ri(rr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ri(rr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new ri(rr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rS(t)}static emptyPath(){return new rS([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.path=e}static fromPath(e){return new rT(rb.fromString(e))}static fromName(e){return new rT(rb.fromString(e).popFirst(5))}static empty(){return new rT(rb.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===rb.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return rb.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new rT(new rb(e.slice()))}}class rk{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new rk(rv.min(),rT.empty(),-1)}static max(){return new rk(rv.max(),rT.empty(),-1)}}class rE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(e){if(e.code!==rr.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;n7("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new rC((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof rC?t:rC.resolve(t)}catch(e){return rC.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):rC.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):rC.reject(t)}static resolve(e){return new rC((t,n)=>{t(e)})}static reject(e){return new rC((t,n)=>{n(e)})}static waitFor(e){return new rC((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=rC.resolve(!1);for(let n of e)t=t.next(e=>e?rC.resolve(e):n());return t}static forEach(e,t){let n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new rC((n,r)=>{let i=e.length,s=Array(i),a=0;for(let o=0;o<i;o++){let l=o;t(e[l]).next(e=>{s[l]=e,++a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new rC((n,r)=>{let i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function rx(e){return"IndexedDbTransactionError"===e.name}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ut&&this.ut(e),e}}function rP(e){return 0===e&&1/e==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function rM(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}rO.ct=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,t){this.comparator=e,this.root=t||rN.EMPTY}insert(e,t){return new rR(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rN.BLACK,null,null))}remove(e){return new rR(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rN.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){let e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rA(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rA(this.root,e,this.comparator,!1)}getReverseIterator(){return new rA(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rA(this.root,e,this.comparator,!0)}}class rA{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rN{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:rN.RED,this.left=null!=r?r:rN.EMPTY,this.right=null!=i?i:rN.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new rN(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}removeMin(){if(this.left.isEmpty())return rN.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let n,r=this;if(0>t(e,r.key))r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return rN.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,rN.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,rN.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rn();let e=this.left.check();if(e!==this.right.check())throw rn();return e+(this.isRed()?0:1)}}rN.EMPTY=null,rN.RED=!0,rN.BLACK=!1,rN.EMPTY=new class{constructor(){this.size=0}get key(){throw rn()}get value(){throw rn()}get color(){throw rn()}get left(){throw rn()}get right(){throw rn()}copy(e,t,n,r,i){return this}insert(e,t,n){return new rN(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.comparator=e,this.data=new rR(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rL(this.data.getIterator())}getIteratorFrom(e){return new rL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof rj)||this.size!==e.size)return!1;let t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new rj(this.comparator);return t.data=e,t}}class rL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e){this.fields=e,e.sort(rS.comparator)}static empty(){return new rF([])}unionWith(e){let t=new rj(rS.comparator);for(let e of this.fields)t=t.add(e);for(let n of e)t=t.add(n);return new rF(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rg(this.fields,e.fields,(e,t)=>e.isEqual(t))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new rU("Invalid base64 string: "+e):e}}(e);return new rV(t)}static fromUint8Array(e){let t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new rV(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rm(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rV.EMPTY_BYTE_STRING=new rV("");let rB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rW(e){if(e||rn(),"string"==typeof e){let t=0,n=rB.exec(e);if(n||rn(),n[1]){let e=n[1];t=Number(e=(e+"000000000").substr(0,9))}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:rY(e.seconds),nanos:rY(e.nanos)}}function rY(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function rH(e){return"string"==typeof e?rV.fromBase64String(e):rV.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rq(e){let t=e.mapValue.fields.__previous_value__;return rz(t)?rq(t):t}function r$(e){let t=rW(e.mapValue.fields.__local_write_time__.timestampValue);return new ry(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e,t,n,r,i,s,a,o){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.useFetchStreams=o}}class rZ{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new rZ("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rZ&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rK={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function rQ(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rz(e)?4:r8(e)?9007199254740991:10:rn()}function rX(e,t){if(e===t)return!0;let n=rQ(e);if(n!==rQ(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return r$(e).isEqual(r$(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=rW(e.timestampValue),r=rW(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return rH(e.bytesValue).isEqual(rH(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return rY(e.geoPointValue.latitude)===rY(t.geoPointValue.latitude)&&rY(e.geoPointValue.longitude)===rY(t.geoPointValue.longitude);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return rY(e.integerValue)===rY(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let n=rY(e.doubleValue),r=rY(t.doubleValue);return n===r?rP(n)===rP(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return rg(e.arrayValue.values||[],t.arrayValue.values||[],rX);case 10:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rI(n)!==rI(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!rX(n[e],r[e])))return!1;return!0}(e,t);default:return rn()}}function rJ(e,t){return void 0!==(e.values||[]).find(e=>rX(e,t))}function r0(e,t){if(e===t)return 0;let n=rQ(e),r=rQ(t);if(n!==r)return rm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rm(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=rY(e.integerValue||e.doubleValue),r=rY(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return r1(e.timestampValue,t.timestampValue);case 4:return r1(r$(e),r$(t));case 5:return rm(e.stringValue,t.stringValue);case 6:return function(e,t){let n=rH(e),r=rH(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){let t=rm(n[e],r[e]);if(0!==t)return t}return rm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=rm(rY(e.latitude),rY(t.latitude));return 0!==n?n:rm(rY(e.longitude),rY(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=r0(n[e],r[e]);if(t)return t}return rm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===rK.mapValue&&t===rK.mapValue)return 0;if(e===rK.mapValue)return 1;if(t===rK.mapValue)return -1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){let t=rm(r[e],s[e]);if(0!==t)return t;let a=r0(n[r[e]],i[s[e]]);if(0!==a)return a}return rm(r.length,s.length)}(e.mapValue,t.mapValue);default:throw rn()}}function r1(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return rm(e,t);let n=rW(e),r=rW(t),i=rm(n.seconds,r.seconds);return 0!==i?i:rm(n.nanos,r.nanos)}function r2(e){var t,n;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){let t=rW(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?rH(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,rT.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(let r of e.values||[])n?n=!1:t+=",",t+=r2(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),n="{",r=!0;for(let i of t)r?r=!1:n+=",",n+=`${i}:${r2(e.fields[i])}`;return n+"}"}(e.mapValue):rn()}function r4(e){return!!e&&"integerValue"in e}function r9(e){return!!e&&"arrayValue"in e}function r3(e){return!!e&&"nullValue"in e}function r6(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function r5(e){return!!e&&"mapValue"in e}function r7(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return rM(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=r7(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=r7(e.arrayValue.values[n]);return t}return Object.assign({},e)}function r8(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.value=e}static empty(){return new ie({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(!r5(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=r7(t)}setAll(e){let t=rS.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=r7(e):r.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());r5(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rX(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];r5(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){for(let r of(rM(t,(t,n)=>e[t]=n),n))delete e[r]}clone(){return new ie(r7(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new it(e,0,rv.min(),rv.min(),rv.min(),ie.empty(),0)}static newFoundDocument(e,t,n,r){return new it(e,1,t,rv.min(),n,r,0)}static newNoDocument(e,t){return new it(e,2,t,rv.min(),rv.min(),ie.empty(),0)}static newUnknownDocument(e,t){return new it(e,3,t,rv.min(),rv.min(),ie.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(rv.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ie.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ie.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rv.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof it&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new it(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,t){this.position=e,this.inclusive=t}}function ii(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let s=t[i],a=e.position[i];if(r=s.field.isKeyField()?rT.comparator(rT.fromName(a.referenceValue),n.key):r0(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function is(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!rX(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,t="asc"){this.field=e,this.dir=t}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{}class il extends io{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new id(e,t,n):"array-contains"===t?new iy(e,n):"in"===t?new iv(e,n):"not-in"===t?new iw(e,n):"array-contains-any"===t?new ib(e,n):new il(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ip(e,n):new im(e,n)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(r0(t,this.value)):null!==t&&rQ(this.value)===rQ(t)&&this.matchesComparison(r0(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class iu extends io{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new iu(e,t)}matches(e){return ic(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){let e=this.lt(e=>e.isInequality());return null!==e?e.field:null}lt(e){for(let t of this.getFlattenedFilters())if(e(t))return t;return null}}function ic(e){return"and"===e.op}function ih(e){for(let t of e.filters)if(t instanceof iu)return!1;return!0}class id extends il{constructor(e,t,n){super(e,t,n),this.key=rT.fromName(n.referenceValue)}matches(e){let t=rT.comparator(e.key,this.key);return this.matchesComparison(t)}}class ip extends il{constructor(e,t){super(e,"in",t),this.keys=ig("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class im extends il{constructor(e,t){super(e,"not-in",t),this.keys=ig("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ig(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>rT.fromName(e.referenceValue))}class iy extends il{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return r9(t)&&rJ(t.arrayValue,this.value)}}class iv extends il{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&rJ(this.value.arrayValue,t)}}class iw extends il{constructor(e,t){super(e,"not-in",t)}matches(e){if(rJ(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&!rJ(this.value.arrayValue,t)}}class ib extends il{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!r9(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>rJ(this.value.arrayValue,e))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,t=null,n=[],r=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ft=null}}function iS(e,t=null,n=[],r=[],i=null,s=null,a=null){return new i_(e,t,n,r,i,s,a)}function iT(e){let t=e;if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:"+t.filters.map(e=>(function e(t){if(t instanceof il)return t.field.canonicalString()+t.op.toString()+r2(t.value);if(ih(t)&&ic(t))return t.filters.map(t=>e(t)).join(",");{let n=t.filters.map(t=>e(t)).join(",");return`${t.op}(${n})`}})(e)).join(",")+"|ob:"+t.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),null==t.limit||(e+="|l:"+t.limit),t.startAt&&(e+="|lb:"+(t.startAt.inclusive?"b:":"a:")+t.startAt.position.map(e=>r2(e)).join(",")),t.endAt&&(e+="|ub:"+(t.endAt.inclusive?"a:":"b:")+t.endAt.position.map(e=>r2(e)).join(",")),t.ft=e}return t.ft}function ik(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++){var n,r;if(n=e.orderBy[i],r=t.orderBy[i],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1}if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!function e(t,n){return t instanceof il?n instanceof il&&t.op===n.op&&t.field.isEqual(n.field)&&rX(t.value,n.value):t instanceof iu?n instanceof iu&&t.op===n.op&&t.filters.length===n.filters.length&&t.filters.reduce((t,r,i)=>t&&e(r,n.filters[i]),!0):void rn()}(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!is(e.startAt,t.startAt)&&is(e.endAt,t.endAt)}function iE(e){return rT.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,t=null,n=[],r=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.dt=null,this._t=null,this.startAt,this.endAt}}function iC(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ix(e){let t=e;if(null===t.dt){t.dt=[];let e=function(e){for(let t of e.filters){let e=t.getFirstInequalityField();if(null!==e)return e}return null}(t),n=t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null;if(null!==e&&null===n)e.isKeyField()||t.dt.push(new ia(e)),t.dt.push(new ia(rS.keyField(),"asc"));else{let e=!1;for(let n of t.explicitOrderBy)t.dt.push(n),n.field.isKeyField()&&(e=!0);if(!e){let e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new ia(rS.keyField(),e))}}}return t.dt}function iO(e){let t=e;if(!t._t){if("F"===t.limitType)t._t=iS(t.path,t.collectionGroup,ix(t),t.filters,t.limit,t.startAt,t.endAt);else{let e=[];for(let n of ix(t)){let t="desc"===n.dir?"asc":"desc";e.push(new ia(n.field,t))}let n=t.endAt?new ir(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ir(t.startAt.position,t.startAt.inclusive):null;t._t=iS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}return t._t}function iP(e,t,n){return new iD(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function iI(e,t){return ik(iO(e),iO(t))&&e.limitType===t.limitType}function iM(e){return`${iT(iO(e))}|lt:${e.limitType}`}function iR(e){var t;let n;return`Query(target=${n=(t=iO(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(e=>(function e(t){return t instanceof il?`${t.field.canonicalString()} ${t.op} ${r2(t.value)}`:t instanceof iu?t.op.toString()+" {"+t.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),null==t.limit||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),t.startAt&&(n+=", startAt: "+(t.startAt.inclusive?"b:":"a:")+t.startAt.position.map(e=>r2(e)).join(",")),t.endAt&&(n+=", endAt: "+(t.endAt.inclusive?"a:":"b:")+t.endAt.position.map(e=>r2(e)).join(",")),`Target(${n})`}; limitType=${e.limitType})`}function iA(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):rT.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(let n of ix(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(!e.startAt||!!function(e,t,n){let r=ii(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ix(e),t))&&(!e.endAt||!!function(e,t,n){let r=ii(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ix(e),t))}function iN(e){return(t,n)=>{let r=!1;for(let i of ix(e)){let e=function(e,t,n){let r=e.field.isKeyField()?rT.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?r0(r,i):rn()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return -1*r;default:return rn()}}(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return void 0!==this.get(e)}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){rM(this.inner,(t,n)=>{for(let[t,r]of n)e(t,r)})}isEmpty(){return function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iL=new rR(rT.comparator),iF=new rR(rT.comparator);function iU(...e){let t=iF;for(let n of e)t=t.insert(n.key,n);return t}function iV(){return new ij(e=>e.toString(),(e,t)=>e.isEqual(t))}new rR(rT.comparator);let iB=new rj(rT.comparator);function iW(...e){let t=iB;for(let n of e)t=t.add(n);return t}let iY=new rj(rm);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(){this._=void 0}}class iz extends iH{}class iq extends iH{constructor(e){super(),this.elements=e}}function i$(e,t){let n=iX(t);for(let t of e.elements)n.some(e=>rX(e,t))||n.push(t);return{arrayValue:{values:n}}}class iG extends iH{constructor(e){super(),this.elements=e}}function iZ(e,t){let n=iX(t);for(let t of e.elements)n=n.filter(e=>!rX(e,t));return{arrayValue:{values:n}}}class iK extends iH{constructor(e,t){super(),this.serializer=e,this.wt=t}}function iQ(e){return rY(e.integerValue||e.doubleValue)}function iX(e){return r9(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class iJ{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new iJ}static exists(e){return new iJ(void 0,e)}static updateTime(e){return new iJ(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function i0(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class i1{}function i2(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new se(e.key,iJ.none()):new i3(e.key,e.data,iJ.none());{let n=e.data,r=ie.empty(),i=new rj(rS.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new i6(e.key,r,new rF(i.toArray()),iJ.none())}}function i4(e,t,n,r){return e instanceof i3?function(e,t,n,r){if(!i0(e.precondition,t))return n;let i=e.value.clone(),s=i8(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof i6?function(e,t,n,r){if(!i0(e.precondition,t))return n;let i=i8(e.fieldTransforms,r,t),s=t.data;return(s.setAll(i5(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n)?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):i0(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}function i9(e,t){var n,r;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&rg(n,r,(e,t)=>{var n,r;return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof iq&&r instanceof iq||n instanceof iG&&r instanceof iG?rg(n.elements,r.elements,rX):n instanceof iK&&r instanceof iK?rX(n.wt,r.wt):n instanceof iz&&r instanceof iz)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class i3 extends i1{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class i6 extends i1{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function i5(e){let t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}}),t}function i7(e,t,n){var r;let i=new Map;e.length===n.length||rn();for(let s=0;s<n.length;s++){let a=e[s],o=a.transform,l=t.data.field(a.field);i.set(a.field,(r=n[s],o instanceof iq?i$(o,l):o instanceof iG?iZ(o,l):r))}return i}function i8(e,t,n){let r=new Map;for(let i of e){let e=i.transform,s=n.data.field(i.field);r.set(i.field,e instanceof iz?function(e,t){let n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&rz(t)&&(t=rq(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(t,s):e instanceof iq?i$(e,s):e instanceof iG?iZ(e,s):function(e,t){var n,r;let i=(n=e,r=t,n instanceof iK?r4(r)||r&&"doubleValue"in r?r:{integerValue:0}:null),s=iQ(i)+iQ(e.wt);return r4(i)&&r4(e.wt)?{integerValue:""+s}:/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rP(t)?"-0":t}}(e.serializer,s)}(e,s))}return r}class se extends i1{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let i=this.mutations[t];if(i.key.isEqual(e.key)){var r;r=n[t],i instanceof i3?function(e,t,n){let r=e.value.clone(),i=i7(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(i,e,r):i instanceof i6?function(e,t,n){if(!i0(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=i7(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(i5(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(i,e,r):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,r)}}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=i4(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=i4(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=iV();return this.mutations.forEach(r=>{let i=e.get(r.key),s=i.overlayedDocument,a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;let o=i2(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(rv.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),iW())}isEqual(e){return this.batchId===e.batchId&&rg(this.mutations,e.mutations,(e,t)=>i9(e,t))&&rg(this.baseMutations,e.baseMutations,(e,t)=>i9(e,t))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,t){this.count=e,this.unchangedNames=t}}function si(e){if(void 0===e)return n8("GRPC error has no .code"),rr.UNKNOWN;switch(e){case l.OK:return rr.OK;case l.CANCELLED:return rr.CANCELLED;case l.UNKNOWN:return rr.UNKNOWN;case l.DEADLINE_EXCEEDED:return rr.DEADLINE_EXCEEDED;case l.RESOURCE_EXHAUSTED:return rr.RESOURCE_EXHAUSTED;case l.INTERNAL:return rr.INTERNAL;case l.UNAVAILABLE:return rr.UNAVAILABLE;case l.UNAUTHENTICATED:return rr.UNAUTHENTICATED;case l.INVALID_ARGUMENT:return rr.INVALID_ARGUMENT;case l.NOT_FOUND:return rr.NOT_FOUND;case l.ALREADY_EXISTS:return rr.ALREADY_EXISTS;case l.PERMISSION_DENIED:return rr.PERMISSION_DENIED;case l.FAILED_PRECONDITION:return rr.FAILED_PRECONDITION;case l.ABORTED:return rr.ABORTED;case l.OUT_OF_RANGE:return rr.OUT_OF_RANGE;case l.UNIMPLEMENTED:return rr.UNIMPLEMENTED;case l.DATA_LOSS:return rr.DATA_LOSS;default:return rn()}}(u=l||(l={}))[u.OK=0]="OK",u[u.CANCELLED=1]="CANCELLED",u[u.UNKNOWN=2]="UNKNOWN",u[u.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",u[u.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",u[u.NOT_FOUND=5]="NOT_FOUND",u[u.ALREADY_EXISTS=6]="ALREADY_EXISTS",u[u.PERMISSION_DENIED=7]="PERMISSION_DENIED",u[u.UNAUTHENTICATED=16]="UNAUTHENTICATED",u[u.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",u[u.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",u[u.ABORTED=10]="ABORTED",u[u.OUT_OF_RANGE=11]="OUT_OF_RANGE",u[u.UNIMPLEMENTED=12]="UNIMPLEMENTED",u[u.INTERNAL=13]="INTERNAL",u[u.UNAVAILABLE=14]="UNAVAILABLE",u[u.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sa}static getOrCreateInstance(){return null===sa&&(sa=new ss),sa}onExistenceFilterMismatch(e){let t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let sa=null,so=new n2([4294967295,4294967295],0);function sl(e){let t=(new TextEncoder).encode(e),n=new n1;return n.update(t),new Uint8Array(n.digest())}function su(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new n2([n,r],0),new n2([i,s],0)]}class sc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new sh(`Invalid padding: ${t}`);if(n<0||e.length>0&&0===this.hashCount)throw new sh(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new sh(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=n2.fromNumber(this.yt)}Tt(e,t,n){let r=e.add(t.multiply(n2.fromNumber(n)));return 1===r.compare(so)&&(r=new n2([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;let t=sl(e),[n,r]=su(t);for(let e=0;e<this.hashCount;e++){let t=this.Tt(n,r,e);if(!this.Et(t))return!1}return!0}static create(e,t,n){let r=new Uint8Array(Math.ceil(e/8)),i=new sc(r,e%8==0?0:8-e%8,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.yt)return;let t=sl(e),[n,r]=su(t);for(let e=0;e<this.hashCount;e++){let t=this.Tt(n,r,e);this.Rt(t)}}Rt(e){this.bitmap[Math.floor(e/8)]|=1<<e%8}}class sh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){let r=new Map;return r.set(e,sf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new sd(rv.min(),r,new rR(rm),iL,iW())}}class sf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new sf(n,t,iW(),iW(),iW())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t,n,r){this.vt=e,this.removedTargetIds=t,this.key=n,this.Pt=r}}class sm{constructor(e,t){this.targetId=e,this.bt=t}}class sg{constructor(e,t,n=rV.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class sy{constructor(){this.Vt=0,this.St=sb(),this.Dt=rV.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=iW(),t=iW(),n=iW();return this.St.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:rn()}}),new sf(this.Dt,this.Ct,e,t,n)}$t(){this.xt=!1,this.St=sb()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class sv{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=iL,this.jt=sw(),this.zt=new rR(rm)}Wt(e){for(let t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(let t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{let n=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&n.Mt(e.resumeToken);break;case 1:n.qt(),n.Nt||n.$t(),n.Mt(e.resumeToken);break;case 2:n.qt(),n.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(n.Ut(),n.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),n.Mt(e.resumeToken));break;default:rn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((e,n)=>{this.Zt(n)&&t(n)})}ee(e){var t;let n=e.targetId,r=e.bt.count,i=this.ne(n);if(i){let s=i.target;if(iE(s)){if(0===r){let e=new rT(s.path);this.Jt(n,e,it.newNoDocument(e,rv.min()))}else 1===r||rn()}else{let i=this.se(n);if(i!==r){let r=this.ie(e,i);0!==r&&(this.te(n),this.zt=this.zt.insert(n,2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=ss.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,a,o,l;let u={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(s=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===(o=null==c?void 0:c.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),u}(r,i,e.bt))}}}}ie(e,t){let n,r;let{unchangedNames:i,count:s}=e.bt;if(!i||!i.bits)return 1;let{bits:{bitmap:a="",padding:o=0},hashCount:l=0}=i;try{n=rH(a).toUint8Array()}catch(e){if(e instanceof rU)return re("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{r=new sc(n,o,l)}catch(e){return re(e instanceof sh?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===r.yt?1:s!==t-this.re(e.targetId,r)?2:0}re(e,t){let n=this.Kt.getRemoteKeysForTarget(e),r=0;return n.forEach(n=>{let i=this.Kt.oe(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.At(s)||(this.Jt(e,n,null),r++)}),r}ue(e){let t=new Map;this.Gt.forEach((n,r)=>{let i=this.ne(r);if(i){if(n.current&&iE(i.target)){let t=new rT(i.target.path);null!==this.Qt.get(t)||this.ce(r,t)||this.Jt(r,t,it.newNoDocument(t,e))}n.kt&&(t.set(r,n.Ot()),n.$t())}});let n=iW();this.jt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{let t=this.ne(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.Qt.forEach((t,n)=>n.setReadTime(e));let r=new sd(e,t,this.zt,this.Qt,n);return this.Qt=iL,this.jt=sw(),this.zt=new rR(rm),r}Ht(e,t){if(!this.Zt(e))return;let n=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,n),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,n){if(!this.Zt(e))return;let r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),n&&(this.Qt=this.Qt.insert(t,n))}removeTarget(e){this.Gt.delete(e)}se(e){let t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new sy,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new rj(rm),this.jt=this.jt.insert(e,t)),t}Zt(e){let t=null!==this.ne(e);return t||n7("WatchChangeAggregator","Detected inactive target",e),t}ne(e){let t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new sy),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function sw(){return new rR(rT.comparator)}function sb(){return new rR(rT.comparator)}let s_={asc:"ASCENDING",desc:"DESCENDING"},sS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sT={and:"AND",or:"OR"};class sk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function sE(e,t){return e.useProto3Json||null==t?t:{value:t}}function sD(e){return e||rn(),rv.fromTimestamp(function(e){let t=rW(e);return new ry(t.seconds,t.nanos)}(e))}function sC(e){let t=rb.fromString(e);return sA(t)||rn(),t}function sx(e,t){let n=sC(t);if(n.get(1)!==e.databaseId.projectId)throw new ri(rr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ri(rr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new rT(sI(n))}function sO(e,t){var n;return n=e.databaseId,new rb(["projects",n.projectId,"databases",n.database]).child("documents").child(t).canonicalString()}function sP(e){return new rb(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sI(e){return e.length>4&&"documents"===e.get(4)||rn(),e.popFirst(5)}function sM(e){return{fieldPath:e.canonicalString()}}function sR(e){return rS.fromServerFormat(e.fieldPath)}function sA(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t,n,r,i=rv.min(),s=rv.min(),a=rV.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new sN(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new sN(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sN(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sN(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.le=e}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(rY(e.integerValue));else if("doubleValue"in e){let n=rY(e.doubleValue);isNaN(n)?this.ge(t,13):(this.ge(t,15),rP(n)?t.ye(0):t.ye(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ge(t,20),"string"==typeof n?t.pe(n):(t.pe(`${n.seconds||""}`),t.ye(n.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(rH(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){let n=e.geoPointValue;this.ge(t,45),t.ye(n.latitude||0),t.ye(n.longitude||0)}else"mapValue"in e?r8(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):rn()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){let n=e.fields||{};for(let e of(this.ge(t,55),Object.keys(n)))this.Ie(e,t),this.we(n[e],t)}ve(e,t){let n=e.values||[];for(let e of(this.ge(t,50),n))this.we(e,t)}Ae(e,t){this.ge(t,37),rT.fromName(e).path.forEach(e=>{this.ge(t,60),this.Pe(e,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}sL.be=new sL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.sn=new sU}addToCollectionParentIndex(e,t){return this.sn.add(t),rC.resolve()}getCollectionParents(e,t){return rC.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return rC.resolve()}deleteFieldIndex(e,t){return rC.resolve()}getDocumentsMatchingTarget(e,t){return rC.resolve(null)}getIndexType(e,t){return rC.resolve(0)}getFieldIndexes(e,t){return rC.resolve([])}getNextCollectionGroupToUpdate(e){return rC.resolve(null)}getMinOffset(e,t){return rC.resolve(rk.min())}getMinOffsetFromCollectionGroup(e,t){return rC.resolve(rk.min())}updateCollectionGroup(e,t,n){return rC.resolve()}updateIndexEntries(e,t){return rC.resolve()}}class sU{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new rj(rb.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new rj(rb.comparator)).toArray()}}new Uint8Array(0);class sV{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new sV(e,sV.DEFAULT_COLLECTION_PERCENTILE,sV.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sV.DEFAULT_COLLECTION_PERCENTILE=10,sV.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sV.DEFAULT=new sV(41943040,sV.DEFAULT_COLLECTION_PERCENTILE,sV.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sV.DISABLED=new sV(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new sB(0)}static kn(){return new sB(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(){this.changes=new ij(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,it.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return void 0!==n?rC.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sY{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&i4(n.mutation,e,rF.empty(),ry.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,iW()).next(()=>t))}getLocalViewOfDocuments(e,t,n=iW()){let r=iV();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=iU();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let n=iV();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,iW()))}populateOverlays(e,t,n){let r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=iL,s=iV(),a=iV();return t.forEach((e,t)=>{let a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof i6)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),i4(a.mutation,t,a.mutation.getFieldMask(),ry.now())):s.set(t.key,rF.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new sY(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){let n=iV(),r=new rR((e,t)=>e-t),i=iW();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let s=t.get(e);if(null===s)return;let a=n.get(e)||rF.empty();a=i.applyToLocalView(s,a),n.set(e,a);let o=(r.get(i.batchId)||iW()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let r=a.getNext(),o=r.key,l=r.value,u=iV();l.forEach(e=>{if(!i.has(e)){let r=i2(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,u))}return rC.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return rT.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):null!==t.collectionGroup?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{let s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):rC.resolve(iV()),a=-1,o=i;return s.next(t=>rC.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?rC.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,iW())).next(e=>{let t;return{batchId:a,changes:(t=iF,e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t)}}))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new rT(t)).next(e=>{let t=iU();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){let r=t.collectionGroup,i=iU();return this.indexManager.getCollectionParents(e,r).next(s=>rC.forEach(s,s=>{var a;let o=(a=s.child(r),new iD(a,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt));return this.getDocumentsMatchingCollectionQuery(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{let r=n.getKey();null===e.get(r)&&(e=e.insert(r,it.newInvalidDocument(r)))});let n=iU();return e.forEach((e,i)=>{let s=r.get(e);void 0!==s&&i4(s.mutation,i,rF.empty(),ry.now()),iA(t,i)&&(n=n.insert(e,i))}),n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return rC.resolve(this.us.get(t))}saveBundleMetadata(e,t){return this.us.set(t.id,{id:t.id,version:t.version,createTime:sD(t.createTime)}),rC.resolve()}getNamedQuery(e,t){return rC.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:t.name,query:function(e){let t=function(e){var t,n,r,i,s,a,o,l;let u,c=function(e){let t=sC(e);return 4===t.length?rb.emptyPath():sI(t)}(e.parent),h=e.structuredQuery,d=h.from?h.from.length:0,f=null;if(d>0){1===d||rn();let e=h.from[0];e.allDescendants?f=e.collectionId:c=c.child(e.collectionId)}let p=[];h.where&&(p=function(e){var t;let n=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=sR(e.unaryFilter.field);return il.create(t,"==",{doubleValue:NaN});case"IS_NULL":let n=sR(e.unaryFilter.field);return il.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=sR(e.unaryFilter.field);return il.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=sR(e.unaryFilter.field);return il.create(i,"!=",{nullValue:"NULL_VALUE"});default:return rn()}}(t):void 0!==t.fieldFilter?il.create(sR(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rn()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==t.compositeFilter?iu.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return rn()}}(t.compositeFilter.op)):rn()}(e);return n instanceof iu&&ih(t=n)&&ic(t)?n.getFilters():[n]}(h.where));let m=[];h.orderBy&&(m=h.orderBy.map(e=>new ia(sR(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let g=null;h.limit&&(g=null==(u="object"==typeof(t=h.limit)?t.value:t)?null:u);let y=null;h.startAt&&(y=function(e){let t=!!e.before,n=e.values||[];return new ir(n,t)}(h.startAt));let v=null;return h.endAt&&(v=function(e){let t=!e.before,n=e.values||[];return new ir(n,t)}(h.endAt)),n=c,r=f,i=m,s=p,a=g,o=y,l=v,new iD(n,r,i,s,a,"F",o,l)}({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?iP(t,t.limit,"L"):t}(t.bundledQuery),readTime:sD(t.readTime)}),rC.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(){this.overlays=new rR(rT.comparator),this.hs=new Map}getOverlay(e,t){return rC.resolve(this.overlays.get(t))}getOverlays(e,t){let n=iV();return rC.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.de(e,t,r)}),rC.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.hs.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.hs.delete(n)),rC.resolve()}getOverlaysForCollection(e,t,n){let r=iV(),i=t.length+1,s=new rT(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return rC.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new rR((e,t)=>e-t),s=this.overlays.getIterator();for(;s.hasNext();){let e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=iV(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let a=iV(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return rC.resolve(a)}de(e,t,n){let r=this.overlays.get(n.key);if(null!==r){let e=this.hs.get(r.largestBatchId).delete(n.key);this.hs.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new sn(t,n));let i=this.hs.get(t);void 0===i&&(i=iW(),this.hs.set(t,i)),this.hs.set(t,i.add(n.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(){this.ls=new rj(sG.fs),this.ds=new rj(sG._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){let n=new sG(e,t);this.ls=this.ls.add(n),this.ds=this.ds.add(n)}ws(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.gs(new sG(e,t))}ys(e,t){e.forEach(e=>this.removeReference(e,t))}ps(e){let t=new rT(new rb([])),n=new sG(t,e),r=new sG(t,e+1),i=[];return this.ds.forEachInRange([n,r],e=>{this.gs(e),i.push(e.key)}),i}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){let t=new rT(new rb([])),n=new sG(t,e),r=new sG(t,e+1),i=iW();return this.ds.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new sG(e,0),n=this.ls.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class sG{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return rT.comparator(e.key,t.key)||rm(e.Es,t.Es)}static _s(e,t){return rm(e.Es,t.Es)||rT.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new rj(sG.fs)}checkEmpty(e){return rC.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){let i=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new st(i,t,n,r);for(let t of(this.mutationQueue.push(s),r))this.Rs=this.Rs.add(new sG(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return rC.resolve(s)}lookupMutationBatch(e,t){return rC.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){let n=this.Ps(t+1),r=n<0?0:n;return rC.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return rC.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return rC.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new sG(t,0),r=new sG(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{let t=this.vs(e.Es);i.push(t)}),rC.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new rj(rm);return t.forEach(e=>{let t=new sG(e,0),r=new sG(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.Es)})}),rC.resolve(this.bs(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;rT.isDocumentKey(i)||(i=i.child(""));let s=new sG(new rT(i),0),a=new rj(rm);return this.Rs.forEachWhile(e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Es)),!0)},s),rC.resolve(this.bs(a))}bs(e){let t=[];return e.forEach(e=>{let n=this.vs(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){0===this.Vs(t.batchId,"removed")||rn(),this.mutationQueue.shift();let n=this.Rs;return rC.forEach(t.mutations,r=>{let i=new sG(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Dn(e){}containsKey(e,t){let n=new sG(t,0),r=this.Rs.firstAfterOrEqual(n);return rC.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,rC.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){let t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(e){this.Ss=e,this.docs=new rR(rT.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ss(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return rC.resolve(n?n.document.mutableCopy():it.newInvalidDocument(t))}getEntries(e,t){let n=iL;return t.forEach(e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():it.newInvalidDocument(e))}),rC.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=iL,s=t.path,a=new rT(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){let{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||0>=function(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=rT.comparator(e.documentKey,t.documentKey))?n:rm(e.largestBatchId,t.largestBatchId)}(new rk(a.readTime,a.key,-1),n)||(r.has(a.key)||iA(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return rC.resolve(i)}getAllFromCollectionGroup(e,t,n,r){rn()}Ds(e,t){return rC.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new sQ(this)}getSize(e){return rC.resolve(this.size)}}class sQ extends sW{constructor(e){super(),this.rs=e}applyChanges(e){let t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.rs.addEntry(e,r)):this.rs.removeEntry(n)}),rC.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(e){this.persistence=e,this.Cs=new ij(e=>iT(e),ik),this.lastRemoteSnapshotVersion=rv.min(),this.highestTargetId=0,this.xs=0,this.Ns=new s$,this.targetCount=0,this.ks=sB.Nn()}forEachTarget(e,t){return this.Cs.forEach((e,n)=>t(n)),rC.resolve()}getLastRemoteSnapshotVersion(e){return rC.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return rC.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),rC.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.xs&&(this.xs=t),rC.resolve()}$n(e){this.Cs.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ks=new sB(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,rC.resolve()}updateTargetData(e,t){return this.$n(t),rC.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,rC.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.Cs.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Cs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),rC.waitFor(i).next(()=>r)}getTargetCount(e){return rC.resolve(this.targetCount)}getTargetData(e,t){let n=this.Cs.get(t)||null;return rC.resolve(n)}addMatchingKeys(e,t,n){return this.Ns.ws(t,n),rC.resolve()}removeMatchingKeys(e,t,n){this.Ns.ys(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),rC.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),rC.resolve()}getMatchingKeysForTargetId(e,t){let n=this.Ns.Ts(t);return rC.resolve(n)}containsKey(e,t){return rC.resolve(this.Ns.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sJ{constructor(e,t){var n;this.Ms={},this.overlays={},this.Os=new rO(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new sX(this),this.indexManager=new sF,this.remoteDocumentCache=(n=e=>this.referenceDelegate.Bs(e),new sK(n)),this.serializer=new sj(t),this.Ls=new sz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sq,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Ms[e.toKey()];return n||(n=new sZ(t,this.referenceDelegate),this.Ms[e.toKey()]=n),n}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,n){n7("MemoryPersistence","Starting transaction:",e);let r=new s0(this.Os.next());return this.referenceDelegate.qs(),n(r).next(e=>this.referenceDelegate.Us(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ks(e,t){return rC.or(Object.values(this.Ms).map(n=>()=>n.containsKey(e,t)))}}class s0 extends rE{constructor(e){super(),this.currentSequenceNumber=e}}class s1{constructor(e){this.persistence=e,this.Gs=new s$,this.Qs=null}static js(e){return new s1(e)}get zs(){if(this.Qs)return this.Qs;throw rn()}addReference(e,t,n){return this.Gs.addReference(n,t),this.zs.delete(n.toString()),rC.resolve()}removeReference(e,t,n){return this.Gs.removeReference(n,t),this.zs.add(n.toString()),rC.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),rC.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(e=>this.zs.add(e.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.zs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rC.forEach(this.zs,n=>{let r=rT.fromPath(n);return this.Ws(e,r).next(e=>{e||t.removeEntry(r,rv.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(e=>{e?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return rC.or([()=>rC.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Fi=r}static Bi(e,t){let n=iW(),r=iW();for(let e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new s2(e,t.fromCache,n,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ui(e,t).next(i=>i||this.Ki(e,t,r,n)).next(n=>n||this.Gi(e,t))}Ui(e,t){if(iC(t))return rC.resolve(null);let n=iO(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(n=iO(t=iP(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{let i=iW(...r);return this.qi.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{let s=this.Qi(t,r);return this.ji(t,s,i,n.readTime)?this.Ui(e,iP(t,null,"F")):this.zi(e,s,t,n)}))})))}Ki(e,t,n,r){return iC(t)||r.isEqual(rv.min())?this.Gi(e,t):this.qi.getDocuments(e,n).next(i=>{let s=this.Qi(t,i);return this.ji(t,s,n,r)?this.Gi(e,t):(n5()<=f.in.DEBUG&&n7("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),iR(t)),this.zi(e,s,t,function(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=rv.fromTimestamp(1e9===r?new ry(n+1,0):new ry(n,r));return new rk(i,rT.empty(),-1)}(r,0)))})}Qi(e,t){let n=new rj(iN(e));return t.forEach((t,r)=>{iA(e,r)&&(n=n.add(r))}),n}ji(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Gi(e,t){return n5()<=f.in.DEBUG&&n7("QueryEngine","Using full collection scan to execute query:",iR(t)),this.qi.getDocumentsMatchingQuery(e,t,rk.min())}zi(e,t,n,r){return this.qi.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,t,n,r){this.persistence=e,this.Wi=t,this.serializer=r,this.Hi=new rR(rm),this.Ji=new ij(e=>iT(e),ik),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(n)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sH(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}async function s3(e,t){return await e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(i=>(r=i,e.Zi(t),e.mutationQueue.getAllMutationBatches(n))).next(t=>{let i=[],s=[],a=iW();for(let e of r)for(let t of(i.push(e.batchId),e.mutations))a=a.add(t.key);for(let e of t)for(let t of(s.push(e.batchId),e.mutations))a=a.add(t.key);return e.localDocuments.getDocuments(n,a).next(e=>({tr:e,removedBatchIds:i,addedBatchIds:s}))})})}function s6(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}async function s5(e,t,n){let r=e,i=r.Hi.get(t);try{n||await r.persistence.runTransaction("Release target",n?"readwrite":"readwrite-primary",e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!rx(e))throw e;n7("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Hi=r.Hi.remove(t),r.Ji.delete(i.target)}function s7(e,t,n){let r=rv.min(),i=iW();return e.persistence.runTransaction("Execute query","readonly",s=>(function(e,t,n){let r=e.Ji.get(n);return void 0!==r?rC.resolve(e.Hi.get(r)):e.Fs.getTargetData(t,n)})(e,s,iO(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,e.Fs.getMatchingKeysForTargetId(s,t.targetId).next(e=>{i=e})}).next(()=>e.Wi.getDocumentsMatchingQuery(s,t,n?r:rv.min(),n?i:iW())).next(n=>{var r;let s;return r=t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2)),s=e.Yi.get(r)||rv.min(),n.forEach((e,t)=>{t.readTime.compareTo(s)>0&&(s=t.readTime)}),e.Yi.set(r,s),{documents:n,sr:i}}))}class s8{constructor(){this.activeTargetIds=iY}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ae{constructor(){this.Wr=new s8,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,n){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new s8,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{Jr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){for(let e of(n7("ConnectivityMonitor","Network connectivity changed: AVAILABLE"),this.no))e(0)}eo(){for(let e of(n7("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE"),this.no))e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ar=null;function ai(){return null===ar?ar=268435456+Math.round(2147483648*Math.random()):ar++,"0x"+ar.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let as={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="WebChannelConnection";class al extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http";this.wo=t+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,n,r,i){let s=ai(),a=this.Io(e,t);n7("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);let o={};return this.To(o,r,i),this.Eo(e,a,o,n).then(t=>(n7("RestConnection",`Received RPC '${e}' ${s}: `,t),t),t=>{throw re("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}Ao(e,t,n,r,i,s){return this.po(e,t,n,r,i)}To(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+n3,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Io(e,t){let n=as[e];return`${this.wo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,n,r){let i=ai();return new Promise((s,a)=>{let o=new n0;o.setWithCredentials(!0),o.listenOnce(nZ.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case nG.NO_ERROR:let t=o.getResponseJson();n7(ao,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case nG.TIMEOUT:n7(ao,`RPC '${e}' ${i} timed out`),a(new ri(rr.DEADLINE_EXCEEDED,"Request time out"));break;case nG.HTTP_ERROR:let n=o.getStatus();if(n7(ao,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=null==e?void 0:e.error;if(t&&t.status&&t.message){let e=function(e){let t=e.toLowerCase().replace(/_/g,"-");return Object.values(rr).indexOf(t)>=0?t:rr.UNKNOWN}(t.status);a(new ri(e,t.message))}else a(new ri(rr.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ri(rr.UNAVAILABLE,"Connection failed."));break;default:rn()}}finally{n7(ao,`RPC '${e}' ${i} completed.`)}});let l=JSON.stringify(r);n7(ao,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}Ro(e,t,n){let r=ai(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=nq(),a=n$(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new nX({})),this.To(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;let u=i.join("");n7(ao,`Creating RPC '${e}' stream ${r}: ${u}`,o);let c=s.createWebChannel(u,o),h=!1,d=!1,f=new aa({io:t=>{d?n7(ao,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(n7(ao,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),n7(ao,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},ro:()=>c.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(c,nJ.EventType.OPEN,()=>{d||n7(ao,`RPC '${e}' stream ${r} transport opened.`)}),p(c,nJ.EventType.CLOSE,()=>{d||(d=!0,n7(ao,`RPC '${e}' stream ${r} transport closed`),f.fo())}),p(c,nJ.EventType.ERROR,t=>{d||(d=!0,re(ao,`RPC '${e}' stream ${r} transport errored:`,t),f.fo(new ri(rr.UNAVAILABLE,"The operation could not be completed")))}),p(c,nJ.EventType.MESSAGE,t=>{var n;if(!d){let i=t.data[0];i||rn();let s=i.error||(null===(n=i[0])||void 0===n?void 0:n.error);if(s){n7(ao,`RPC '${e}' stream ${r} received error:`,s);let t=s.status,n=function(e){let t=l[e];if(void 0!==t)return si(t)}(t),i=s.message;void 0===n&&(n=rr.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,f.fo(new ri(n,i)),c.close()}else n7(ao,`RPC '${e}' stream ${r} received:`,i),f._o(i)}}),p(a,nK.STAT_EVENT,t=>{t.stat===nQ.PROXY?n7(ao,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===nQ.NOPROXY&&n7(ao,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.lo()},0),f}}function au(){return"undefined"!=typeof document?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t,n=1e3,r=1.5,i=6e4){this.si=e,this.timerId=t,this.vo=n,this.Po=r,this.bo=i,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();let t=Math.floor(this.Vo+this.No()),n=Math.max(0,Date.now()-this.Do),r=Math.max(0,t-n);r>0&&n7("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t,n,r,i,s,a,o){this.si=e,this.Mo=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new ac(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}async stop(){this.qo()&&await this.close(0)}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}async close(e,t){this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,4!==e?this.Lo.reset():t&&t.code===rr.RESOURCE_EXHAUSTED?(n8(t.toString()),n8("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):t&&t.code===rr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Jo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(t)}Jo(){}auth(){this.state=1;let e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.$o===t&&this.Xo(e,n)},t=>{e(()=>{let e=new ri(rr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Zo(e)})})}Xo(e,t){let n=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{n(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(e=>{n(()=>this.Zo(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Ko(){this.state=5,this.Lo.xo(async()=>{this.state=0,this.start()})}Zo(e){return n7("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(n7("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ad extends ah{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();let t=function(e,t){let n;if("targetChange"in t){var r,i;t.targetChange;let s="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:rn(),a=t.targetChange.targetIds||[],o=(i=t.targetChange.resumeToken,e.useProto3Json?(void 0===i||"string"==typeof i||rn(),rV.fromBase64String(i||"")):(void 0===i||i instanceof Uint8Array||rn(),rV.fromUint8Array(i||new Uint8Array))),l=t.targetChange.cause,u=l&&function(e){let t=void 0===e.code?rr.UNKNOWN:si(e.code);return new ri(t,e.message||"")}(l);n=new sg(s,a,o,u||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=sx(e,r.document.name),s=sD(r.document.updateTime),a=r.document.createTime?sD(r.document.createTime):rv.min(),o=new ie({mapValue:{fields:r.document.fields}}),l=it.newFoundDocument(i,s,a,o),u=r.targetIds||[],c=r.removedTargetIds||[];n=new sp(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=sx(e,r.document),s=r.readTime?sD(r.readTime):rv.min(),a=it.newNoDocument(i,s),o=r.removedTargetIds||[];n=new sp([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=sx(e,r.document),s=r.removedTargetIds||[];n=new sp([],s,i,null)}else{if(!("filter"in t))return rn();{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,s=new sr(r,i),a=e.targetId;n=new sm(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return rv.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?rv.min():t.readTime?sD(t.readTime):rv.min()}(e);return this.listener.eu(t,n)}nu(e){let t={};t.database=sP(this.serializer),t.addTarget=function(e,t){var n,r;let i;let s=t.target;if((i=iE(s)?{documents:{documents:[sO(e,s.path)]}}:{query:function(e,t){var n,r;let i={structuredQuery:{}},s=t.path;null!==t.collectionGroup?(i.parent=sO(e,s),i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i.parent=sO(e,s.popLast()),i.structuredQuery.from=[{collectionId:s.lastSegment()}]);let a=function(e){if(0!==e.length)return function e(t){return t instanceof il?function(e){if("=="===e.op){if(r6(e.value))return{unaryFilter:{field:sM(e.field),op:"IS_NAN"}};if(r3(e.value))return{unaryFilter:{field:sM(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(r6(e.value))return{unaryFilter:{field:sM(e.field),op:"IS_NOT_NAN"}};if(r3(e.value))return{unaryFilter:{field:sM(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sM(e.field),op:sS[e.op],value:e.value}}}(t):t instanceof iu?function(t){let n=t.getFilters().map(t=>e(t));return 1===n.length?n[0]:{compositeFilter:{op:sT[t.op],filters:n}}}(t):rn()}(iu.create(e,"and"))}(t.filters);a&&(i.structuredQuery.where=a);let o=function(e){if(0!==e.length)return e.map(e=>({field:sM(e.field),direction:s_[e.dir]}))}(t.orderBy);o&&(i.structuredQuery.orderBy=o);let l=sE(e,t.limit);return null!==l&&(i.structuredQuery.limit=l),t.startAt&&(i.structuredQuery.startAt={before:(n=t.startAt).inclusive,values:n.position}),t.endAt&&(i.structuredQuery.endAt={before:!(r=t.endAt).inclusive,values:r.position}),i}(e,s)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){i.resumeToken=(n=t.resumeToken,e.useProto3Json?n.toBase64():n.toUint8Array());let r=sE(e,t.expectedCount);null!==r&&(i.expectedCount=r)}else if(t.snapshotVersion.compareTo(rv.min())>0){i.readTime=(r=t.snapshotVersion.toTimestamp(),e.useProto3Json?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds});let n=sE(e,t.expectedCount);null!==n&&(i.expectedCount=n)}return i}(this.serializer,e);let n=function(e,t){let n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rn()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.zo(t)}su(e){let t={};t.database=sP(this.serializer),t.removeTarget=e,this.zo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.hu=!1}lu(){if(this.hu)throw new ri(rr.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,n){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.po(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===rr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ri(rr.UNKNOWN,e.toString())})}Ao(e,t,n,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Ao(e,t,n,i,s,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===rr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ri(rr.UNKNOWN,e.toString())})}terminate(){this.hu=!0}}class ap{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(n8(t),this.wu=!1):n7("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=i,this.vu.Jr(e=>{n.enqueueAndForget(async()=>{ak(this)&&(n7("RemoteStore","Restarting streams for network reachability change."),await async function(e){e.Au.add(4),await ay(e),e.Pu.set("Unknown"),e.Au.delete(4),await ag(e)}(this))})}),this.Pu=new ap(n,r)}}async function ag(e){if(ak(e))for(let t of e.Ru)await t(!0)}async function ay(e){for(let t of e.Ru)await t(!1)}function av(e,t){e.Eu.has(t.targetId)||(e.Eu.set(t.targetId,t),aT(e)?aS(e):aI(e).Uo()&&ab(e,t))}function aw(e,t){let n=aI(e);e.Eu.delete(t),n.Uo()&&a_(e,t),0===e.Eu.size&&(n.Uo()?n.Qo():ak(e)&&e.Pu.set("Unknown"))}function ab(e,t){if(e.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(rv.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}aI(e).nu(t)}function a_(e,t){e.bu.Lt(t),aI(e).su(t)}function aS(e){e.bu=new sv({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),he:t=>e.Eu.get(t)||null,oe:()=>e.datastore.serializer.databaseId}),aI(e).start(),e.Pu.mu()}function aT(e){return ak(e)&&!aI(e).qo()&&e.Eu.size>0}function ak(e){return 0===e.Au.size}async function aE(e){e.Eu.forEach((t,n)=>{ab(e,t)})}async function aD(e,t){e.bu=void 0,aT(e)?(e.Pu.pu(t),aS(e)):e.Pu.set("Unknown")}async function aC(e,t,n){if(e.Pu.set("Online"),t instanceof sg&&2===t.state&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Eu.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Eu.delete(r),e.bu.removeTarget(r))}(e,t)}catch(n){n7("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ax(e,n)}else if(t instanceof sp?e.bu.Wt(t):t instanceof sm?e.bu.ee(t):e.bu.Yt(t),!n.isEqual(rv.min()))try{let t=await s6(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.bu.ue(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.Eu.get(r);i&&e.Eu.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{let r=e.Eu.get(t);if(!r)return;e.Eu.set(t,r.withResumeToken(rV.EMPTY_BYTE_STRING,r.snapshotVersion)),a_(e,t);let i=new sN(r.target,t,n,r.sequenceNumber);ab(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){n7("RemoteStore","Failed to raise snapshot:",t),await ax(e,t)}}async function ax(e,t,n){if(!rx(t))throw t;e.Au.add(1),await ay(e),e.Pu.set("Offline"),n||(n=()=>s6(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{n7("RemoteStore","Retrying IndexedDB access"),await n(),e.Au.delete(1),await ag(e)})}async function aO(e,t){e.asyncQueue.verifyOperationInProgress(),n7("RemoteStore","RemoteStore received new credentials");let n=ak(e);e.Au.add(3),await ay(e),n&&e.Pu.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Au.delete(3),await ag(e)}async function aP(e,t){t?(e.Au.delete(2),await ag(e)):t||(e.Au.add(2),await ay(e),e.Pu.set("Unknown"))}function aI(e){var t,n,r;return e.Vu||(e.Vu=(t=e.datastore,n=e.asyncQueue,r={oo:aE.bind(null,e),co:aD.bind(null,e),eu:aC.bind(null,e)},t.lu(),new ad(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r)),e.Ru.push(async t=>{t?(e.Vu.Go(),aT(e)?aS(e):e.Pu.set("Unknown")):(await e.Vu.stop(),e.bu=void 0)})),e.Vu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){let s=Date.now()+n,a=new aM(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ri(rr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aR(e,t){if(n8("AsyncQueue",`${t}: ${e}`),rx(e))return new ri(rr.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.comparator=e?(t,n)=>e(t,n)||rT.comparator(t.key,n.key):(e,t)=>rT.comparator(e.key,t.key),this.keyedMap=iU(),this.sortedSet=new rR(this.comparator)}static emptySet(e){return new aA(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof aA)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let n=new aA;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.Du=new rR(rT.comparator)}track(e){let t=e.doc.key,n=this.Du.get(t);n?0!==e.type&&3===n.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==n.type?this.Du=this.Du.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Du=this.Du.remove(t):1===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):rn():this.Du=this.Du.insert(t,e)}Cu(){let e=[];return this.Du.inorderTraversal((t,n)=>{e.push(n)}),e}}class aj{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){let s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new aj(e,t,aA.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&iI(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.xu=void 0,this.listeners=[]}}class aF{constructor(){this.queries=new ij(e=>iM(e),iI),this.onlineState="Unknown",this.Nu=new Set}}async function aU(e,t){let n=t.query,r=!1,i=e.queries.get(n);if(i||(r=!0,i=new aL),r)try{i.xu=await e.onListen(n)}catch(n){let e=aR(n,`Initialization of query '${iR(t.query)}' failed`);return void t.onError(e)}e.queries.set(n,i),i.listeners.push(t),t.ku(e.onlineState),i.xu&&t.Mu(i.xu)&&aY(e)}async function aV(e,t){let n=t.query,r=!1,i=e.queries.get(n);if(i){let e=i.listeners.indexOf(t);e>=0&&(i.listeners.splice(e,1),r=0===i.listeners.length)}if(r)return e.queries.delete(n),e.onUnlisten(n)}function aB(e,t){let n=!1;for(let r of t){let t=r.query,i=e.queries.get(t);if(i){for(let e of i.listeners)e.Mu(r)&&(n=!0);i.xu=r}}n&&aY(e)}function aW(e,t,n){let r=e.queries.get(t);if(r)for(let e of r.listeners)e.onError(n);e.queries.delete(t)}function aY(e){e.Nu.forEach(e=>{e.next()})}class aH{constructor(e,t,n){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=n||{}}Mu(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)3!==n.type&&t.push(n);e=new aj(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){if(e.docChanges.length>0)return!0;let t=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qu(e){e=aj.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e){this.key=e}}class aq{constructor(e){this.key=e}}class a${constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=iW(),this.mutatedKeys=iW(),this.Zu=iN(e),this.tc=new aA(this.Zu)}get ec(){return this.Ju}nc(e,t){let n=t?t.sc:new aN,r=t?t.tc:this.tc,i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{let u=r.get(e),c=iA(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.ic(u,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.Zu(c,o)>0||l&&0>this.Zu(c,l))&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(o||l)&&(a=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){let e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tc:s,sc:n,ji:a,mutatedKeys:i}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){let r=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;let i=e.sc.Cu();i.sort((e,t)=>(function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rn()}};return n(e)-n(t)})(e.type,t.type)||this.Zu(e.doc,t.doc)),this.rc(n);let s=t?this.oc():[],a=0===this.Xu.size&&this.current?1:0,o=a!==this.Yu;return(this.Yu=a,0!==i.length||o)?{snapshot:new aj(this.query,e.tc,r,i,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),uc:s}:{uc:s}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new aN,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(e=>this.Ju=this.Ju.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ju=this.Ju.delete(e)),this.current=e.current)}oc(){if(!this.current)return[];let e=this.Xu;this.Xu=iW(),this.tc.forEach(e=>{this.cc(e.key)&&(this.Xu=this.Xu.add(e.key))});let t=[];return e.forEach(e=>{this.Xu.has(e)||t.push(new aq(e))}),this.Xu.forEach(n=>{e.has(n)||t.push(new az(n))}),t}ac(e){this.Ju=e.sr,this.Xu=iW();let t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return aj.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class aG{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class aZ{constructor(e){this.key=e,this.lc=!1}}class aK{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fc={},this.dc=new ij(e=>iM(e),iI),this._c=new Map,this.wc=new Set,this.mc=new rR(rT.comparator),this.gc=new Map,this.yc=new s$,this.Ic={},this.Tc=new Map,this.Ec=sB.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}async function aQ(e,t){let n,r;let i=function(e){let t=e;return t.remoteStore.remoteSyncer.applyRemoteEvent=a0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=a8.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=a2.bind(null,t),t.fc.eu=aB.bind(null,t.eventManager),t.fc.vc=aW.bind(null,t.eventManager),t}(e),s=i.dc.get(t);if(s)n=s.targetId,i.sharedClientState.addLocalQueryTarget(n),r=s.view.hc();else{let e=await function(e,t){let n=e;return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Fs.getTargetData(e,t).next(i=>i?(r=i,rC.resolve(r)):n.Fs.allocateTargetId(e).next(i=>(r=new sN(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Fs.addTargetData(e,r).next(()=>r))))}).then(e=>{let r=n.Hi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(e.targetId,e),n.Ji.set(t,e.targetId)),e})}(i.localStore,iO(t)),s=i.sharedClientState.addLocalQueryTarget(e.targetId);n=e.targetId,r=await aX(i,t,n,"current"===s,e.resumeToken),i.isPrimaryClient&&av(i.remoteStore,e)}return r}async function aX(e,t,n,r,i){e.Rc=(t,n,r)=>(async function(e,t,n,r){let i=t.view.nc(n);i.ji&&(i=await s7(e.localStore,t.query,!1).then(({documents:e})=>t.view.nc(e,i)));let s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return a3(e,t.targetId,a.uc),a.snapshot})(e,t,n,r);let s=await s7(e.localStore,t,!0),a=new a$(t,s.sr),o=a.nc(s.documents),l=sf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=a.applyChanges(o,e.isPrimaryClient,l);a3(e,n,u.uc);let c=new aG(t,n,a);return e.dc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function aJ(e,t){let n=e.dc.get(t),r=e._c.get(n.targetId);if(r.length>1)return e._c.set(n.targetId,r.filter(e=>!iI(e,t))),void e.dc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(n.targetId),e.sharedClientState.isActiveQueryTarget(n.targetId)||await s5(e.localStore,n.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(n.targetId),aw(e.remoteStore,n.targetId),a4(e,n.targetId)}).catch(rD)):(a4(e,n.targetId),await s5(e.localStore,n.targetId,!0))}async function a0(e,t){try{let n=await function(e,t){let n=e,r=t.snapshotVersion,i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{var s;let a,o;let l=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;let u=[];t.targetChanges.forEach((s,a)=>{var o;let l=i.get(a);if(!l)return;u.push(n.Fs.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.Fs.addMatchingKeys(e,s.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(rV.EMPTY_BYTE_STRING,rv.min()).withLastLimboFreeSnapshotVersion(rv.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),o=c,(0===l.resumeToken.approximateByteSize()||o.snapshotVersion.toMicroseconds()-l.snapshotVersion.toMicroseconds()>=3e8||s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size>0)&&u.push(n.Fs.updateTargetData(e,c))});let c=iL,h=iW();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),u.push((s=t.documentUpdates,a=iW(),o=iW(),s.forEach(e=>a=a.add(e)),l.getEntries(e,a).next(e=>{let t=iL;return s.forEach((n,r)=>{let i=e.get(n);r.isFoundDocument()!==i.isFoundDocument()&&(o=o.add(n)),r.isNoDocument()&&r.version.isEqual(rv.min())?(l.removeEntry(n,r.readTime),t=t.insert(n,r)):!i.isValidDocument()||r.version.compareTo(i.version)>0||0===r.version.compareTo(i.version)&&i.hasPendingWrites?(l.addEntry(r),t=t.insert(n,r)):n7("LocalStore","Ignoring outdated watch update for ",n,". Current version:",i.version," Watch version:",r.version)}),{er:t,nr:o}})).next(e=>{c=e.er,h=e.nr})),!r.isEqual(rv.min())){let t=n.Fs.getLastRemoteSnapshotVersion(e).next(t=>n.Fs.setTargetsMetadata(e,e.currentSequenceNumber,r));u.push(t)}return rC.waitFor(u).next(()=>l.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,c,h)).next(()=>c)}).then(e=>(n.Hi=i,e))}(e.localStore,t);t.targetChanges.forEach((t,n)=>{let r=e.gc.get(n);r&&(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1||rn(),t.addedDocuments.size>0?r.lc=!0:t.modifiedDocuments.size>0?r.lc||rn():t.removedDocuments.size>0&&(r.lc||rn(),r.lc=!1))}),await a5(e,n,t)}catch(e){await rD(e)}}function a1(e,t,n){let r=e;if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){let e=[];r.dc.forEach((n,r)=>{let i=r.view.ku(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){let n=e;n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(let e of n.listeners)e.ku(t)&&(r=!0)}),r&&aY(n)}(r.eventManager,t),e.length&&r.fc.eu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function a2(e,t,n){let r=e;r.sharedClientState.updateQueryState(t,"rejected",n);let i=r.gc.get(t),s=i&&i.key;if(s){let e=new rR(rT.comparator);e=e.insert(s,it.newNoDocument(s,rv.min()));let n=iW().add(s),i=new sd(rv.min(),new Map,new rR(rm),e,n);await a0(r,i),r.mc=r.mc.remove(s),r.gc.delete(t),a6(r)}else await s5(r.localStore,t,!1).then(()=>a4(r,t,n)).catch(rD)}function a4(e,t,n=null){for(let r of(e.sharedClientState.removeLocalQueryTarget(t),e._c.get(t)))e.dc.delete(r),n&&e.fc.vc(r,n);e._c.delete(t),e.isPrimaryClient&&e.yc.ps(t).forEach(t=>{e.yc.containsKey(t)||a9(e,t)})}function a9(e,t){e.wc.delete(t.path.canonicalString());let n=e.mc.get(t);null!==n&&(aw(e.remoteStore,n),e.mc=e.mc.remove(t),e.gc.delete(n),a6(e))}function a3(e,t,n){for(let r of n)r instanceof az?(e.yc.addReference(r.key,t),function(e,t){let n=t.key,r=n.path.canonicalString();e.mc.get(n)||e.wc.has(r)||(n7("SyncEngine","New document in limbo: "+n),e.wc.add(r),a6(e))}(e,r)):r instanceof aq?(n7("SyncEngine","Document no longer in limbo: "+r.key),e.yc.removeReference(r.key,t),e.yc.containsKey(r.key)||a9(e,r.key)):rn()}function a6(e){for(;e.wc.size>0&&e.mc.size<e.maxConcurrentLimboResolutions;){var t;let n=e.wc.values().next().value;e.wc.delete(n);let r=new rT(rb.fromString(n)),i=e.Ec.next();e.gc.set(i,new aZ(r)),e.mc=e.mc.insert(r,i),av(e.remoteStore,new sN(iO((t=r.path,new iD(t))),i,"TargetPurposeLimboResolution",rO.ct))}}async function a5(e,t,n){let r=[],i=[],s=[];e.dc.isEmpty()||(e.dc.forEach((a,o)=>{s.push(e.Rc(o,t,n).then(t=>{if((t||n)&&e.isPrimaryClient&&e.sharedClientState.updateQueryState(o.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){r.push(t);let e=s2.Bi(o.targetId,t);i.push(e)}}))}),await Promise.all(s),e.fc.eu(r),await async function(e,t){let n=e;try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>rC.forEach(t,t=>rC.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>rC.forEach(t.Fi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!rx(e))throw e;n7("LocalStore","Failed to update sequence numbers: "+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.Hi.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Hi=n.Hi.insert(t,i)}}}(e.localStore,i))}async function a7(e,t){let n=e;if(!n.currentUser.isEqual(t)){n7("SyncEngine","User change. New user:",t.toKey());let e=await s3(n.localStore,t);n.currentUser=t,n.Tc.forEach(e=>{e.forEach(e=>{e.reject(new ri(rr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),n.Tc.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await a5(n,e.tr)}}function a8(e,t){let n=e.gc.get(t);if(n&&n.lc)return iW().add(n.key);{let n=iW(),r=e._c.get(t);if(!r)return n;for(let t of r){let r=e.dc.get(t);n=n.unionWith(r.view.ec)}return n}}class oe{constructor(){this.synchronizeTabs=!1}async initialize(e){var t;this.serializer=(t=e.databaseInfo.databaseId,new sk(t,!0)),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){var t,n,r,i;return t=this.persistence,n=new s4,r=e.initialUser,i=this.serializer,new s9(t,n,r,i)}createPersistence(e){return new sJ(s1.js,this.serializer)}createSharedClientState(e){return new ae}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ot{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>a1(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=a7.bind(null,this.syncEngine),await aP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new aF}createDatastore(e){var t,n,r,i;let s=(n=e.databaseInfo.databaseId,new sk(n,!0)),a=(t=e.databaseInfo,new al(t));return r=e.authCredentials,i=e.appCheckCredentials,new af(r,i,a,s)}createRemoteStore(e){var t,n,r,i,s;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>a1(this.syncEngine,e,0),s=an.D()?new an:new at,new am(t,n,r,i,s)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){let o=new aK(e,t,n,r,i,s);return a&&(o.Ac=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){n7("RemoteStore","RemoteStore shutting down."),e.Au.add(5),await ay(e),e.vu.shutdown(),e.Pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):n8("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=n9.UNAUTHENTICATED,this.clientId=rp.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{n7("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(n7("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ri(rr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let t=aR(n,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function oi(e,t){e.asyncQueue.verifyOperationInProgress(),n7("FirestoreClient","Initializing OfflineComponentProvider");let n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await s3(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function os(e,t){e.asyncQueue.verifyOperationInProgress();let n=await oa(e);n7("FirestoreClient","Initializing OnlineComponentProvider");let r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>aO(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>aO(t.remoteStore,n)),e._onlineComponents=t}async function oa(e){if(!e._offlineComponents){if(e._uninitializedComponentsProvider){n7("FirestoreClient","Using user provided OfflineComponentProvider");try{await oi(e,e._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===t.name?t.code===rr.FAILED_PRECONDITION||t.code===rr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code))throw t;re("Error using user provided cache. Falling back to memory cache: "+t),await oi(e,new oe)}}else n7("FirestoreClient","Using default OfflineComponentProvider"),await oi(e,new oe)}return e._offlineComponents}async function oo(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(n7("FirestoreClient","Using user provided OnlineComponentProvider"),await os(e,e._uninitializedComponentsProvider._online)):(n7("FirestoreClient","Using default OnlineComponentProvider"),await os(e,new ot))),e._onlineComponents}async function ol(e){let t=await oo(e),n=t.eventManager;return n.onListen=aQ.bind(null,t.syncEngine),n.onUnlisten=aJ.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou=new Map;function oc(e){if(!rT.isDocumentKey(e))throw new ri(rr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function oh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ri(rr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}return"function"==typeof e?"a function":rn()}(e);throw new ri(rr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ri(rr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ri(rr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ri(rr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new od({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ri(rr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ri(rr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new od(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ro;switch(e.type){case"firstParty":return new rh(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ri(rr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=ou.get(e);t&&(n7("ComponentProvider","Removing Datastore"),ou.delete(e),t.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new og(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new op(this.firestore,e,this._key)}}class om{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new om(this.firestore,e,this._query)}}class og extends om{constructor(e,t,n){super(e,t,new iD(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new op(this.firestore,null,new rT(e))}withConverter(e){return new og(this.firestore,e,this._path)}}function oy(e,t,...n){if(e=(0,p.m9)(e),1==arguments.length&&(t=rp.A()),/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t,n){if(!n)throw new ri(rr.INVALID_ARGUMENT,`Function doc() cannot be called with an empty ${t}.`)}(0,"path",t),e instanceof of){let r=rb.fromString(t,...n);return oc(r),new op(e,null,new rT(r))}{if(!(e instanceof op||e instanceof og))throw new ri(rr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(rb.fromString(t,...n));return oc(r),new op(e.firestore,e instanceof og?e.converter:null,new rT(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new ac(this,"async_queue_retry"),this.Yc=()=>{let e=au();e&&n7("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Lo.ko()};let e=au();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;let t=au();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});let t=new rs;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}async ta(){if(0!==this.Gc.length){try{await this.Gc[0](),this.Gc.shift(),this.Lo.reset()}catch(e){if(!rx(e))throw e;n7("AsyncQueue","Operation failed with retryable error: "+e)}this.Gc.length>0&&this.Lo.xo(()=>this.ta())}}Zc(e){let t=this.Kc.then(()=>(this.Wc=!0,e().catch(e=>{let t;this.zc=e,this.Wc=!1;let n=(t=e.message||"",e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t);throw n8("INTERNAL UNHANDLED ERROR: ",n),e}).then(e=>(this.Wc=!1,e))));return this.Kc=t,t}enqueueAfterDelay(e,t,n){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);let r=aM.createAndSchedule(this,e,t,n,e=>this.ea(e));return this.jc.push(r),r}Xc(){this.zc&&rn()}verifyOperationInProgress(){}async na(){let e;do e=this.Kc,await e;while(e!==this.Kc)}sa(e){for(let t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{for(let t of(this.jc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.jc))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){let t=this.jc.indexOf(e);this.jc.splice(t,1)}}class ow extends of{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ov,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||o_(this),this._firestoreClient.terminate()}}function ob(e,t){let n="object"==typeof e?e:(0,h.Mq)(),r=(0,h.qX)(n,"firestore").getImmediate({identifier:"string"==typeof e?e:t||"(default)"});if(!r._initialized){let e=(0,p.P0)("firestore");e&&function(e,t,n,r={}){var i;let s=(e=oh(e,of))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&re("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=n9.MOCK_USER;else{t=(0,p.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);let s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ri(rr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new n9(s)}e._authCredentials=new rl(new ra(t,n))}}(r,...e)}return r}function o_(e){var t,n,r,i,s,a;let o=e._freezeSettings(),l=(i=e._databaseId,s=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",a=e._persistenceKey,new rG(i,s,a,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,o.useFetchStreams));e._firestoreClient=new or(e._authCredentials,e._appCheckCredentials,e._queue,l),(null===(n=o.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=o.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oS(rV.fromBase64String(e))}catch(e){throw new ri(rr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new oS(rV.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ri(rr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rS(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ri(rr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ri(rr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rm(this._lat,e._lat)||rm(this._long,e._long)}}let oE=RegExp("[~\\*/\\[\\]]");function oD(e,t,n,r,i){let s=r&&!r.isEmpty(),a=void 0!==i,o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ri(rr.INVALID_ARGUMENT,o+e+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new op(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new ox(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(oO("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ox extends oC{data(){return super.data()}}function oO(e,t){return"string"==typeof t?function(e,t,n){if(t.search(oE)>=0)throw oD(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new oT(...t.split("."))._internalPath}catch(r){throw oD(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}(e,t):t instanceof oT?t._internalPath:t._delegate._internalPath}class oP{convertValue(e,t="none"){switch(rQ(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rY(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rH(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let n={};return rM(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new ok(rY(e.latitude),rY(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let n=rq(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(r$(e));default:return null}}convertTimestamp(e){let t=rW(e);return new ry(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=rb.fromString(e);sA(n)||rn();let r=new rZ(n.get(1),n.get(3)),i=new rT(n.popFirst(5));return r.isEqual(t)||n8(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oM extends oC{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new oR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(oO("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class oR extends oM{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(e){e=oh(e,op);let t=oh(e.firestore,ow);return(function(e,t,n={}){let r=new rs;return e.asyncQueue.enqueueAndForget(async()=>(function(e,t,n,r,i){var s;let a=new on({next:s=>{t.enqueueAndForget(()=>aV(e,o));let a=s.docs.has(n);!a&&s.fromCache?i.reject(new ri(rr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new ri(rr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new aH((s=n.path,new iD(s)),a,{includeMetadataChanges:!0,Uu:!0});return aU(e,o)})(await ol(e),e.asyncQueue,t,n,r)),r.promise})((t._firestoreClient||o_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient),e._key).then(n=>(function(e,t,n){let r=n.docs.get(t._key),i=new oN(e);return new oM(e,i,t._key,r,new oI(n.hasPendingWrites,n.fromCache),t.converter)})(t,e,n))}class oN extends oP{constructor(e){super(),this.firestore=e}convertBytes(e){return new oS(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new op(this.firestore,null,t)}}!function(e,t=!0){n3=h.Jn,(0,h.Xd)(new d.wA("firestore",(e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider("app").getImmediate(),s=new ow(new ru(e.getProvider("auth-internal")),new rf(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ri(rr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rZ(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),(0,h.KN)(n4,"3.11.0",void 0),(0,h.KN)(n4,"3.11.0","esm2017")}()},5364:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});var r=n(7294);let i=(0,r.createContext)({})},240:function(e,t,n){"use strict";n.d(t,{O:function(){return i}});var r=n(7294);let i=(0,r.createContext)(null)},7367:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});let r={delta:0,timestamp:0,isProcessing:!1}},6405:function(e,t,n){"use strict";n.d(t,{Pn:function(){return d},Wi:function(){return h},S6:function(){return o}});var r=n(7367);let i=!0,s=!1,a=["read","update","preRender","render","postRender"],o=a.reduce((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,i=!1,s=!1,a=new WeakSet,o={schedule:(e,s=!1,o=!1)=>{let l=o&&i,u=l?t:n;return s&&a.add(e),-1===u.indexOf(e)&&(u.push(e),l&&i&&(r=t.length)),e},cancel:e=>{let t=n.indexOf(e);-1!==t&&n.splice(t,1),a.delete(e)},process:l=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.length=0,r=t.length)for(let n=0;n<r;n++){let r=t[n];r(l),a.has(r)&&(o.schedule(r),e())}i=!1,s&&(s=!1,o.process(l))}};return o}(()=>s=!0),e),{}),l=e=>o[e].process(r.w),u=e=>{s=!1,r.w.delta=i?1e3/60:Math.max(Math.min(e-r.w.timestamp,40),1),r.w.timestamp=e,r.w.isProcessing=!0,a.forEach(l),r.w.isProcessing=!1,s&&(i=!1,requestAnimationFrame(u))},c=()=>{s=!0,i=!0,r.w.isProcessing||requestAnimationFrame(u)},h=a.reduce((e,t)=>{let n=o[t];return e[t]=(e,t=!1,r=!1)=>(s||c(),n.schedule(e,t,r)),e},{});function d(e){a.forEach(t=>o[t].cancel(e))}},4538:function(e,t,n){"use strict";n.d(t,{E:function(){return iA}});var r,i=n(7294);let s=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),a=(0,i.createContext)({});var o=n(240),l=n(8868);let u=(0,i.createContext)({strict:!1});function c(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function h(e){return"string"==typeof e||Array.isArray(e)}function d(e){return"object"==typeof e&&"function"==typeof e.start}let f=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],p=["initial",...f];function m(e){return d(e.animate)||p.some(t=>h(e[t]))}function g(e){return!!(m(e)||e.variants)}function y(e){return Array.isArray(e)?e.join(" "):e}let v={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},w={};for(let e in v)w[e]={isEnabled:t=>v[e].some(e=>!!t[e])};var b=n(1741),_=n(5364);let S=(0,i.createContext)({}),T=Symbol.for("motionComponentSymbol"),k=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function E(e){if("string"!=typeof e||e.includes("-"));else if(k.indexOf(e)>-1||/[A-Z]/.test(e))return!0;return!1}let D={},C=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],x=new Set(C);function O(e,{layout:t,layoutId:n}){return x.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!D[e]||"opacity"===e)}let P=e=>!!(e&&e.getVelocity),I={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},M=C.length,R=e=>t=>"string"==typeof t&&t.startsWith(e),A=R("--"),N=R("var(--"),j=(e,t)=>t&&"number"==typeof e?t.transform(e):e,L=(e,t,n)=>Math.min(Math.max(n,e),t),F={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},U={...F,transform:e=>L(0,1,e)},V={...F,default:1},B=e=>Math.round(1e5*e)/1e5,W=/(-)?([\d]*\.?[\d])+/g,Y=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,H=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function z(e){return"string"==typeof e}let q=e=>({test:t=>z(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),$=q("deg"),G=q("%"),Z=q("px"),K=q("vh"),Q=q("vw"),X={...G,parse:e=>G.parse(e)/100,transform:e=>G.transform(100*e)},J={...F,transform:Math.round},ee={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,size:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,rotate:$,rotateX:$,rotateY:$,rotateZ:$,scale:V,scaleX:V,scaleY:V,scaleZ:V,skew:$,skewX:$,skewY:$,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:U,originX:X,originY:X,originZ:Z,zIndex:J,fillOpacity:U,strokeOpacity:U,numOctaves:J};function et(e,t,n,r){let{style:i,vars:s,transform:a,transformOrigin:o}=e,l=!1,u=!1,c=!0;for(let e in t){let n=t[e];if(A(e)){s[e]=n;continue}let r=ee[e],h=j(n,r);if(x.has(e)){if(l=!0,a[e]=h,!c)continue;n!==(r.default||0)&&(c=!1)}else e.startsWith("origin")?(u=!0,o[e]=h):i[e]=h}if(!t.transform&&(l||r?i.transform=function(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let t=0;t<M;t++){let n=C[t];if(void 0!==e[n]){let t=I[n]||n;s+=`${t}(${e[n]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}(e.transform,n,c,r):i.transform&&(i.transform="none")),u){let{originX:e="50%",originY:t="50%",originZ:n=0}=o;i.transformOrigin=`${e} ${t} ${n}`}}let en=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function er(e,t,n){for(let r in t)P(t[r])||O(r,n)||(e[r]=t[r])}function ei(e,t,n){let r={},s=function(e,t,n){let r=e.style||{},s={};return er(s,r,e),Object.assign(s,function({transformTemplate:e},t,n){return(0,i.useMemo)(()=>{let r=en();return et(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}(e,t,n)),e.transformValues?e.transformValues(s):s}(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}let es=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function ea(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||es.has(e)}let eo=e=>!ea(e);try{(r=require("@emotion/is-prop-valid").default)&&(eo=e=>e.startsWith("on")?!ea(e):r(e))}catch(e){}function el(e,t,n){return"string"==typeof e?e:Z.transform(t+n*e)}let eu={offset:"stroke-dashoffset",array:"stroke-dasharray"},ec={offset:"strokeDashoffset",array:"strokeDasharray"};function eh(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},c,h,d){if(et(e,u,c,d),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==i||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,n){let r=el(t,e.x,e.width),i=el(n,e.y,e.height);return`${r} ${i}`}(m,void 0!==i?i:.5,void 0!==s?s:.5)),void 0!==t&&(f.x=t),void 0!==n&&(f.y=n),void 0!==r&&(f.scale=r),void 0!==a&&function(e,t,n=1,r=0,i=!0){e.pathLength=1;let s=i?eu:ec;e[s.offset]=Z.transform(-r);let a=Z.transform(t),o=Z.transform(n);e[s.array]=`${a} ${o}`}(f,a,o,l,!1)}let ed=()=>({...en(),attrs:{}}),ef=e=>"string"==typeof e&&"svg"===e.toLowerCase();function ep(e,t,n,r){let s=(0,i.useMemo)(()=>{let n=ed();return eh(n,t,{enableHardwareAcceleration:!1},ef(r),e.transformTemplate),{...n.attrs,style:{...n.style}}},[t]);if(e.style){let t={};er(t,e.style,e),s.style={...t,...s.style}}return s}let em=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function eg(e,{style:t,vars:n},r,i){for(let s in Object.assign(e.style,t,i&&i.getProjectionStyles(r)),n)e.style.setProperty(s,n[s])}let ey=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ev(e,t,n,r){for(let n in eg(e,t,void 0,r),t.attrs)e.setAttribute(ey.has(n)?n:em(n),t.attrs[n])}function ew(e,t){let{style:n}=e,r={};for(let i in n)(P(n[i])||t.style&&P(t.style[i])||O(i,e))&&(r[i]=n[i]);return r}function eb(e,t){let n=ew(e,t);for(let r in e)if(P(e[r])||P(t[r])){let t=-1!==C.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[t]=e[r]}return n}function e_(e,t,n,r={},i={}){return"function"==typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),"string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t&&(t=t(void 0!==n?n:e.custom,r,i)),t}var eS=n(6681);let eT=e=>Array.isArray(e),ek=e=>!!(e&&"object"==typeof e&&e.mix&&e.toValue),eE=e=>eT(e)?e[e.length-1]||0:e;function eD(e){let t=P(e)?e.get():e;return ek(t)?t.toValue():t}let eC=e=>(t,n)=>{let r=(0,i.useContext)(a),s=(0,i.useContext)(o.O),l=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){let a={latestValues:function(e,t,n,r){let i={},s=r(e,{});for(let e in s)i[e]=eD(s[e]);let{initial:a,animate:o}=e,l=m(e),u=g(e);t&&u&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let c=!!n&&!1===n.initial;c=c||!1===a;let h=c?o:a;if(h&&"boolean"!=typeof h&&!d(h)){let t=Array.isArray(h)?h:[h];t.forEach(t=>{let n=e_(e,t);if(!n)return;let{transitionEnd:r,transition:s,...a}=n;for(let e in a){let t=a[e];if(Array.isArray(t)){let e=c?t.length-1:0;t=t[e]}null!==t&&(i[e]=t)}for(let e in r)i[e]=r[e]})}return i}(r,i,s,e),renderState:t()};return n&&(a.mount=e=>n(r,e,a)),a})(e,t,r,s);return n?l():(0,eS.h)(l)},ex={useVisualState:eC({scrapeMotionValuesFromProps:eb,createRenderState:ed,onMount:(e,t,{renderState:n,latestValues:r})=>{try{n.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){n.dimensions={x:0,y:0,width:0,height:0}}eh(n,r,{enableHardwareAcceleration:!1},ef(t.tagName),e.transformTemplate),ev(t,n)}})},eO={useVisualState:eC({scrapeMotionValuesFromProps:ew,createRenderState:en})};function eP(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}let eI=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function eM(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}let eR=e=>t=>eI(t)&&e(t,eM(t));function eA(e,t,n,r){return eP(e,t,eR(n),r)}let eN=(e,t)=>n=>t(e(n)),ej=(...e)=>e.reduce(eN);function eL(e){let t=null;return()=>{let n=()=>{t=null};return null===t&&(t=e,n)}}let eF=eL("dragHorizontal"),eU=eL("dragVertical");function eV(e){let t=!1;if("y"===e)t=eU();else if("x"===e)t=eF();else{let e=eF(),n=eU();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function eB(){let e=eV(!0);return!e||(e(),!1)}class eW{constructor(e){this.isMounted=!1,this.node=e}update(){}}var eY=n(6405);function eH(e,t){let n="onHover"+(t?"Start":"End"),r=(r,i)=>{if("touch"===r.type||eB())return;let s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[n]&&eY.Wi.update(()=>s[n](r,i))};return eA(e.current,"pointer"+(t?"enter":"leave"),r,{passive:!e.getProps()[n]})}let ez=(e,t)=>!!t&&(e===t||ez(e,t.parentElement));var eq=n(1662);function e$(e,t){if(!t)return;let n=new PointerEvent("pointer"+e);t(n,eM(n))}let eG=new WeakMap,eZ=new WeakMap,eK=e=>{let t=eG.get(e.target);t&&t(e)},eQ=e=>{e.forEach(eK)},eX={some:0,all:1};function eJ(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function e0(e,t,n){let r=e.getProps();return e_(r,t,void 0!==n?n:r.custom,function(e){let t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){let t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}let e1="data-"+em("framerAppearId");var e2=n(5487);let e4=e=>1e3*e,e9=e=>e/1e3,e3={current:!1},e6=e=>Array.isArray(e)&&"number"==typeof e[0],e5=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,e7={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:e5([0,.65,.55,1]),circOut:e5([.55,0,1,.45]),backIn:e5([.31,.01,.66,-.59]),backOut:e5([.33,1.53,.69,.99])},e8={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},te={},tt={};for(let e in e8)tt[e]=()=>(void 0===te[e]&&(te[e]=e8[e]()),te[e]);let tn=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function tr(e,t,n,r){if(e===t&&n===r)return eq.Z;let i=t=>(function(e,t,n,r,i){let s,a;let o=0;do(s=tn(a=t+(n-t)/2,r,i)-e)>0?n=a:t=a;while(Math.abs(s)>1e-7&&++o<12);return a})(t,0,1,e,n);return e=>0===e||1===e?e:tn(i(e),t,r)}let ti=tr(.42,0,1,1),ts=tr(0,0,.58,1),ta=tr(.42,0,.58,1),to=e=>Array.isArray(e)&&"number"!=typeof e[0],tl=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,tu=e=>t=>1-e(1-t),tc=e=>1-Math.sin(Math.acos(e)),th=tu(tc),td=tl(th),tf=tr(.33,1.53,.69,.99),tp=tu(tf),tm=tl(tp),tg=e=>(e*=2)<1?.5*tp(e):.5*(2-Math.pow(2,-10*(e-1))),ty={linear:eq.Z,easeIn:ti,easeInOut:ta,easeOut:ts,circIn:tc,circInOut:td,circOut:th,backIn:tp,backInOut:tm,backOut:tf,anticipate:tg},tv=e=>{if(Array.isArray(e)){(0,e2.k)(4===e.length,"Cubic bezier arrays must contain four numerical values.");let[t,n,r,i]=e;return tr(t,n,r,i)}return"string"==typeof e?((0,e2.k)(void 0!==ty[e],`Invalid easing type '${e}'`),ty[e]):e},tw=(e,t)=>n=>!!(z(n)&&H.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),tb=(e,t,n)=>r=>{if(!z(r))return r;let[i,s,a,o]=r.match(W);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},t_=e=>L(0,255,e),tS={...F,transform:e=>Math.round(t_(e))},tT={test:tw("rgb","red"),parse:tb("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+tS.transform(e)+", "+tS.transform(t)+", "+tS.transform(n)+", "+B(U.transform(r))+")"},tk={test:tw("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:tT.transform},tE={test:tw("hsl","hue"),parse:tb("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+G.transform(B(t))+", "+G.transform(B(n))+", "+B(U.transform(r))+")"},tD={test:e=>tT.test(e)||tk.test(e)||tE.test(e),parse:e=>tT.test(e)?tT.parse(e):tE.test(e)?tE.parse(e):tk.parse(e),transform:e=>z(e)?e:e.hasOwnProperty("red")?tT.transform(e):tE.transform(e)},tC=(e,t,n)=>-n*e+n*t+e;function tx(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}let tO=(e,t,n)=>{let r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},tP=[tk,tT,tE],tI=e=>tP.find(t=>t.test(e));function tM(e){let t=tI(e);(0,e2.k)(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`);let n=t.parse(e);return t===tE&&(n=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,s=0,a=0;if(t/=100){let r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;i=tx(o,r,e+1/3),s=tx(o,r,e),a=tx(o,r,e-1/3)}else i=s=a=n;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*a),alpha:r}}(n)),n}let tR=(e,t)=>{let n=tM(e),r=tM(t),i={...n};return e=>(i.red=tO(n.red,r.red,e),i.green=tO(n.green,r.green,e),i.blue=tO(n.blue,r.blue,e),i.alpha=tC(n.alpha,r.alpha,e),tT.transform(i))},tA={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:eq.Z},tN={regex:Y,countKey:"Colors",token:"${c}",parse:tD.parse},tj={regex:W,countKey:"Numbers",token:"${n}",parse:F.parse};function tL(e,{regex:t,countKey:n,token:r,parse:i}){let s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function tF(e){let t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&tL(n,tA),tL(n,tN),tL(n,tj),n}function tU(e){return tF(e).values}function tV(e){let{values:t,numColors:n,numVars:r,tokenised:i}=tF(e),s=t.length;return e=>{let t=i;for(let i=0;i<s;i++)t=i<r?t.replace(tA.token,e[i]):i<r+n?t.replace(tN.token,tD.transform(e[i])):t.replace(tj.token,B(e[i]));return t}}let tB=e=>"number"==typeof e?0:e,tW={test:function(e){var t,n;return isNaN(e)&&z(e)&&((null===(t=e.match(W))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Y))||void 0===n?void 0:n.length)||0)>0},parse:tU,createTransformer:tV,getAnimatableNone:function(e){let t=tU(e),n=tV(e);return n(t.map(tB))}},tY=(e,t)=>n=>`${n>0?t:e}`;function tH(e,t){return"number"==typeof e?n=>tC(e,t,n):tD.test(e)?tR(e,t):e.startsWith("var(")?tY(e,t):t$(e,t)}let tz=(e,t)=>{let n=[...e],r=n.length,i=e.map((e,n)=>tH(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},tq=(e,t)=>{let n={...e,...t},r={};for(let i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=tH(e[i],t[i]));return e=>{for(let t in r)n[t]=r[t](e);return n}},t$=(e,t)=>{let n=tW.createTransformer(t),r=tF(e),i=tF(t),s=r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers;return s?ej(tz(r.values,i.values),n):((0,e2.K)(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),tY(e,t))},tG=(e,t,n)=>{let r=t-e;return 0===r?1:(n-e)/r},tZ=(e,t)=>n=>tC(e,t,n);function tK(e,t,{clamp:n=!0,ease:r,mixer:i}={}){let s=e.length;if((0,e2.k)(s===t.length,"Both input and output ranges must be the same length"),1===s)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());let a=function(e,t,n){let r=[],i=n||function(e){if("number"==typeof e);else if("string"==typeof e)return tD.test(e)?tR:t$;else if(Array.isArray(e))return tz;else if("object"==typeof e)return tq;return tZ}(e[0]),s=e.length-1;for(let n=0;n<s;n++){let s=i(e[n],e[n+1]);if(t){let e=Array.isArray(t)?t[n]||eq.Z:t;s=ej(e,s)}r.push(s)}return r}(t,r,i),o=a.length,l=t=>{let n=0;if(o>1)for(;n<e.length-2&&!(t<e[n+1]);n++);let r=tG(e[n],e[n+1],t);return a[n](r)};return n?t=>l(L(e[0],e[s-1],t)):l}function tQ({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){let i=to(r)?r.map(tv):tv(r),s={done:!1,value:t[0]},a=(n&&n.length===t.length?n:function(e){let t=[0];return function(e,t){let n=e[e.length-1];for(let r=1;r<=t;r++){let i=tG(0,t,r);e.push(tC(n,1,i))}}(t,e.length-1),t}(t)).map(t=>t*e),o=tK(a,t,{ease:Array.isArray(i)?i:t.map(()=>i||ta).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(s.value=o(t),s.done=t>=e,s)}}function tX(e,t,n){var r,i;let s=Math.max(t-5,0);return r=n-e(s),(i=t-s)?r*(1e3/i):0}function tJ(e,t){return e*Math.sqrt(1-t*t)}let t0=["duration","bounce"],t1=["stiffness","damping","mass"];function t2(e,t){return t.some(t=>void 0!==e[t])}function t4({keyframes:e,restDelta:t,restSpeed:n,...r}){let i;let s=e[0],a=e[e.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:c,velocity:h,duration:d,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!t2(e,t1)&&t2(e,t0)){let n=function({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s;(0,e2.K)(e<=e4(10),"Spring duration must be 10 seconds or less");let a=1-t;a=L(.05,1,a),e=L(.01,10,e9(e)),a<1?(i=t=>{let r=t*a,i=r*e,s=tJ(t,a);return .001-(r-n)/s*Math.exp(-i)},s=t=>{let r=t*a,s=r*e,o=Math.pow(a,2)*Math.pow(t,2)*e,l=tJ(Math.pow(t,2),a),u=-i(t)+.001>0?-1:1;return u*((s*n+n-o)*Math.exp(-s))/l}):(i=t=>{let r=Math.exp(-t*e),i=(t-n)*e+1;return -.001+r*i},s=t=>{let r=Math.exp(-t*e),i=(n-t)*(e*e);return r*i});let o=5/e,l=function(e,t,n){let r=n;for(let n=1;n<12;n++)r-=e(r)/t(r);return r}(i,s,o);if(e=e4(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(l,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}(e);(t={...t,...n,velocity:0,mass:1}).isResolvedFromDuration=!0}return t}(r),p=h?-e9(h):0,m=u/(2*Math.sqrt(l*c)),g=a-s,y=e9(Math.sqrt(l/c)),v=5>Math.abs(g);if(n||(n=v?.01:2),t||(t=v?.005:.5),m<1){let e=tJ(y,m);i=t=>a-Math.exp(-m*y*t)*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}else if(1===m)i=e=>a-Math.exp(-y*e)*(g+(p+y*g)*e);else{let e=y*Math.sqrt(m*m-1);i=t=>{let n=Math.min(e*t,300);return a-Math.exp(-m*y*t)*((p+m*y*g)*Math.sinh(n)+e*g*Math.cosh(n))/e}}return{calculatedDuration:f&&d||null,next:e=>{let r=i(e);if(f)o.done=e>=d;else{let s=p;0!==e&&(s=m<1?tX(i,e,r):0);let l=Math.abs(s)<=n,u=Math.abs(a-r)<=t;o.done=l&&u}return o.value=o.done?a:r,o}}}function t9({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){let h,d;let f=e[0],p={done:!1,value:f},m=e=>void 0!==o&&e<o||void 0!==l&&e>l,g=e=>void 0===o?l:void 0===l?o:Math.abs(o-e)<Math.abs(l-e)?o:l,y=n*t,v=f+y,w=void 0===a?v:a(v);w!==v&&(y=w-f);let b=e=>-y*Math.exp(-e/r),_=e=>w+b(e),S=e=>{let t=b(e),n=_(e);p.done=Math.abs(t)<=u,p.value=p.done?w:n},T=e=>{m(p.value)&&(h=e,d=t4({keyframes:[p.value,g(p.value)],velocity:tX(_,e,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return T(0),{calculatedDuration:null,next:e=>{let t=!1;return(d||void 0!==h||(t=!0,S(e),T(e)),void 0!==h&&e>h)?d.next(e-h):(t||S(e),p)}}}var t3=n(7367);let t6=e=>{let t=({timestamp:t})=>e(t);return{start:()=>eY.Wi.update(t,!0),stop:()=>(0,eY.Pn)(t),now:()=>t3.w.isProcessing?t3.w.timestamp:performance.now()}};function t5(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}let t7={decay:t9,inertia:t9,tween:tQ,keyframes:tQ,spring:t4};function t8({autoplay:e=!0,delay:t=0,driver:n=t6,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...d}){let f,p,m,g,y,v=1,w=!1,b=()=>{f&&f(),p=new Promise(e=>{f=e})};b();let _=t7[i]||tQ;_!==tQ&&"number"!=typeof r[0]&&(g=tK([0,100],r,{clamp:!1}),r=[0,100]);let S=_({...d,keyframes:r});"mirror"===o&&(y=_({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let T="idle",k=null,E=null,D=null;null===S.calculatedDuration&&s&&(S.calculatedDuration=t5(S));let{calculatedDuration:C}=S,x=1/0,O=1/0;null!==C&&(O=(x=C+a)*(s+1)-a);let P=0,I=e=>{if(null===E)return;v>0&&(E=Math.min(E,e)),P=null!==k?k:(e-E)*v;let n=P-t,i=n<0;P=Math.max(n,0),"finished"===T&&null===k&&(P=O);let l=P,u=S;if(s){let e=P/x,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,s+1);let r=!!(t%2);r&&("reverse"===o?(n=1-n,a&&(n-=a/x)):"mirror"===o&&(u=y));let i=L(0,1,n);P>O&&(i="reverse"===o&&r?1:0),l=i*x}let c=i?{done:!1,value:r[0]}:u.next(l);g&&(c.value=g(c.value));let{done:d}=c;i||null===C||(d=P>=O);let f=null===k&&("finished"===T||"running"===T&&d||v<0&&P<=0);return h&&h(c.value),f&&A(),c},M=()=>{m&&m.stop(),m=void 0},R=()=>{T="idle",M(),b(),E=D=null},A=()=>{T="finished",c&&c(),M(),b()},N=()=>{if(w)return;m||(m=n(I));let e=m.now();l&&l(),null!==k?E=e-k:E&&"finished"!==T||(E=e),D=E,k=null,T="running",m.start()};e&&N();let j={then:(e,t)=>p.then(e,t),get time(){return e9(P)},set time(newTime){P=newTime=e4(newTime),null===k&&m&&0!==v?E=m.now()-newTime/v:k=newTime},get duration(){let e=null===S.calculatedDuration?t5(S):S.calculatedDuration;return e9(e)},get speed(){return v},set speed(newSpeed){if(newSpeed===v||!m)return;v=newSpeed,j.time=e9(P)},get state(){return T},play:N,pause:()=>{T="paused",k=P},stop:()=>{w=!0,"idle"!==T&&(T="idle",u&&u(),R())},cancel:()=>{null!==D&&I(D),R()},complete:()=>{T="finished"},sample:e=>(E=0,I(e))};return j}let ne=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),nt=(e,t)=>"spring"===t.type||"backgroundColor"===e||!function e(t){return!!(!t||"string"==typeof t&&e7[t]||e6(t)||Array.isArray(t)&&t.every(e))}(t.ease),nn={type:"spring",stiffness:500,damping:25,restSpeed:10},nr=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),ni={type:"keyframes",duration:.8},ns={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},na=(e,{keyframes:t})=>t.length>2?ni:x.has(e)?e.startsWith("scale")?nr(t[1]):nn:ns,no=(e,t)=>"zIndex"!==e&&!!("number"==typeof t||Array.isArray(t)||"string"==typeof t&&(tW.test(t)||"0"===t)&&!t.startsWith("url(")),nl=new Set(["brightness","contrast","saturate","opacity"]);function nu(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[r]=n.match(W)||[];if(!r)return e;let i=n.replace(r,""),s=nl.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}let nc=/([a-z-]*)\(.*?\)/g,nh={...tW,getAnimatableNone:e=>{let t=e.match(nc);return t?t.map(nu).join(" "):e}},nd={...ee,color:tD,backgroundColor:tD,outlineColor:tD,fill:tD,stroke:tD,borderColor:tD,borderTopColor:tD,borderRightColor:tD,borderBottomColor:tD,borderLeftColor:tD,filter:nh,WebkitFilter:nh},nf=e=>nd[e];function np(e,t){let n=nf(e);return n!==nh&&(n=tW),n.getAnimatableNone?n.getAnimatableNone(t):void 0}let nm=e=>/^0[^.\s]+$/.test(e);function ng(e,t){return e[t]||e.default||e}let ny=(e,t,n,r={})=>i=>{let s=ng(r,e)||{},a=s.delay||r.delay||0,{elapsed:o=0}=r;o-=e4(a);let l=function(e,t,n,r){let i,s;let a=no(t,n);i=Array.isArray(n)?[...n]:[null,n];let o=void 0!==r.from?r.from:e.get(),l=[];for(let e=0;e<i.length;e++){var u;(null===i[e]&&(i[e]=0===e?o:i[e-1]),"number"==typeof(u=i[e])?0===u:null!==u?"none"===u||"0"===u||nm(u):void 0)?l.push(e):"string"==typeof i[e]&&(s=i[e])}if(a&&l.length&&s)for(let e=0;e<l.length;e++){let n=l[e];i[n]=np(t,s)}return i}(t,e,n,s),u=l[0],c=l[l.length-1],h=no(e,u),d=no(e,c);(0,e2.K)(h===d,`You are trying to animate ${e} from "${u}" to "${c}". ${u} is not an animatable value - to enable this animation set ${u} to a value animatable to ${c} via the \`style\` property.`);let f={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-o,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(!function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}(s)&&(f={...f,...na(e,f)}),f.duration&&(f.duration=e4(f.duration)),f.repeatDelay&&(f.repeatDelay=e4(f.repeatDelay)),!h||!d||e3.current||!1===s.type)return function({keyframes:e,delay:t,onUpdate:n,onComplete:r}){let i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:eq.Z,pause:eq.Z,stop:eq.Z,then:e=>(e(),Promise.resolve()),cancel:eq.Z,complete:eq.Z});return t?t8({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}(f);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){let n=function(e,t,{onUpdate:n,onComplete:r,...i}){let s,a;let o=tt.waapi()&&ne.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type;if(!o)return!1;let l=!1,u=()=>{a=new Promise(e=>{s=e})};u();let{keyframes:c,duration:h=300,ease:d,times:f}=i;if(nt(t,i)){let e=t8({...i,repeat:0,delay:0}),t={done:!1,value:c[0]},n=[],r=0;for(;!t.done&&r<2e4;)n.push((t=e.sample(r)).value),r+=10;f=void 0,c=n,h=r-10,d="linear"}let p=function(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:l}={}){let u={[t]:n};l&&(u.offset=l);let c=function e(t){if(t)return e6(t)?e5(t):Array.isArray(t)?t.map(e):e7[t]}(o);return Array.isArray(c)&&(u.easing=c),e.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,c,{...i,duration:h,ease:d,times:f}),m=()=>p.cancel(),g=()=>{eY.Wi.update(m),s(),u()};return p.onfinish=()=>{e.set(function(e,{repeat:t,repeatType:n="loop"}){let r=t&&"loop"!==n&&t%2==1?0:e.length-1;return e[r]}(c,i)),r&&r(),g()},{then:(e,t)=>a.then(e,t),get time(){return e9(p.currentTime||0)},set time(newTime){p.currentTime=e4(newTime)},get speed(){return p.playbackRate},set speed(newSpeed){p.playbackRate=newSpeed},get duration(){return e9(h)},play:()=>{l||(p.play(),(0,eY.Pn)(m))},pause:()=>p.pause(),stop:()=>{if(l=!0,"idle"===p.playState)return;let{currentTime:t}=p;if(t){let n=t8({...i,autoplay:!1});e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}g()},complete:()=>p.finish(),cancel:g}}(t,e,f);if(n)return n}return t8(f)};function nv(e){return!!(P(e)&&e.add)}let nw=e=>/^\-?\d*\.?\d+$/.test(e);function nb(e,t){-1===e.indexOf(t)&&e.push(t)}function n_(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}class nS{constructor(){this.subscriptions=[]}add(e){return nb(this.subscriptions,e),()=>n_(this.subscriptions,e)}notify(e,t,n){let r=this.subscriptions.length;if(r){if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){let r=this.subscriptions[i];r&&r(e,t,n)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let nT=e=>!isNaN(parseFloat(e));class nk{constructor(e,t={}){this.version="10.12.9",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(e,t=!0)=>{this.prev=this.current,this.current=e;let{delta:n,timestamp:r}=t3.w;this.lastUpdated!==r&&(this.timeDelta=n,this.lastUpdated=r,eY.Wi.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>eY.Wi.postRender(this.velocityCheck),this.velocityCheck=({timestamp:e})=>{e!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=nT(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new nS);let n=this.events[e].add(t);return"change"===e?()=>{n(),eY.Wi.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){var e,t;return this.canTrackVelocity?(e=parseFloat(this.current)-parseFloat(this.prev),(t=this.timeDelta)?e*(1e3/t):0):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nE(e,t){return new nk(e,t)}let nD=e=>t=>t.test(e),nC=[F,Z,G,$,Q,K,{test:e=>"auto"===e,parse:e=>e}],nx=e=>nC.find(nD(e)),nO=[...nC,tD,tW],nP=e=>nO.find(nD(e));function nI(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...o}=e.makeTargetAnimatable(t),l=e.getValue("willChange");r&&(s=r);let u=[],c=i&&e.animationState&&e.animationState.getState()[i];for(let t in o){let r=e.getValue(t),i=o[t];if(!r||void 0===i||c&&function({protectedKeys:e,needsAnimating:t},n){let r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}(c,t))continue;let a={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!r.hasAnimated){let n=e.getProps()[e1];n&&(a.elapsed=window.HandoffAppearAnimations(n,t,r,eY.Wi))}r.start(ny(t,r,i,e.shouldReduceMotion&&x.has(t)?{type:!1}:a));let h=r.animation;nv(l)&&(l.add(t),h.then(()=>l.remove(t))),u.push(h)}return a&&Promise.all(u).then(()=>{a&&function(e,t){let n=e0(e,t),{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};for(let t in s={...s,...r}){var a;let n=eE(s[t]);a=t,e.hasValue(a)?e.getValue(a).set(n):e.addValue(a,nE(n))}}(e,a)}),u}function nM(e,t,n={}){let r=e0(e,t,n.custom),{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);let s=r?()=>Promise.all(nI(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(r=0)=>{let{delayChildren:s=0,staggerChildren:a,staggerDirection:o}=i;return function(e,t,n=0,r=0,i=1,s){let a=[],o=(e.variantChildren.size-1)*r,l=1===i?(e=0)=>e*r:(e=0)=>o-e*r;return Array.from(e.variantChildren).sort(nR).forEach((e,r)=>{e.notify("AnimationStart",t),a.push(nM(e,t,{...s,delay:n+l(r)}).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,s+r,a,o,n)}:()=>Promise.resolve(),{when:o}=i;if(!o)return Promise.all([s(),a(n.delay)]);{let[e,t]="beforeChildren"===o?[s,a]:[a,s];return e().then(()=>t())}}function nR(e,t){return e.sortNodePosition(t)}let nA=[...f].reverse(),nN=f.length;function nj(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let nL=0,nF=(e,t)=>Math.abs(e-t);class nU{constructor(e,t,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=nW(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){let n=nF(e.x,t.x),r=nF(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;let{point:r}=e,{timestamp:i}=t3.w;this.history.push({...r,timestamp:i});let{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=nV(t,this.transformPagePoint),eY.Wi.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let{onEnd:n,onSessionEnd:r}=this.handlers,i=nW("pointercancel"===e.type?this.lastMoveEventInfo:nV(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!eI(e))return;this.handlers=t,this.transformPagePoint=n;let r=eM(e),i=nV(r,this.transformPagePoint),{point:s}=i,{timestamp:a}=t3.w;this.history=[{...s,timestamp:a}];let{onSessionStart:o}=t;o&&o(e,nW(i,this.history)),this.removeListeners=ej(eA(window,"pointermove",this.handlePointerMove),eA(window,"pointerup",this.handlePointerUp),eA(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),(0,eY.Pn)(this.updatePoint)}}function nV(e,t){return t?{point:t(e.point)}:e}function nB(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nW({point:e},t){return{point:e,delta:nB(e,nY(t)),offset:nB(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null,i=nY(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>e4(.1)));)n--;if(!r)return{x:0,y:0};let s=e9(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};let a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,0)}}function nY(e){return e[e.length-1]}function nH(e){return e.max-e.min}function nz(e,t=0,n=.01){return Math.abs(e-t)<=n}function nq(e,t,n,r=.5){e.origin=r,e.originPoint=tC(t.min,t.max,e.origin),e.scale=nH(n)/nH(t),(nz(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=tC(n.min,n.max,e.origin)-e.originPoint,(nz(e.translate)||isNaN(e.translate))&&(e.translate=0)}function n$(e,t,n,r){nq(e.x,t.x,n.x,r?r.originX:void 0),nq(e.y,t.y,n.y,r?r.originY:void 0)}function nG(e,t,n){e.min=n.min+t.min,e.max=e.min+nH(t)}function nZ(e,t,n){e.min=t.min-n.min,e.max=e.min+nH(t)}function nK(e,t,n){nZ(e.x,t.x,n.x),nZ(e.y,t.y,n.y)}function nQ(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function nX(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function nJ(e,t,n){return{min:n0(e,t),max:n0(e,n)}}function n0(e,t){return"number"==typeof e?e:e[t]||0}let n1=()=>({translate:0,scale:1,origin:0,originPoint:0}),n2=()=>({x:n1(),y:n1()}),n4=()=>({min:0,max:0}),n9=()=>({x:n4(),y:n4()});function n3(e){return[e("x"),e("y")]}function n6({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function n5(e){return void 0===e||1===e}function n7({scale:e,scaleX:t,scaleY:n}){return!n5(e)||!n5(t)||!n5(n)}function n8(e){return n7(e)||re(e)||e.z||e.rotate||e.rotateX||e.rotateY}function re(e){var t,n;return(t=e.x)&&"0%"!==t||(n=e.y)&&"0%"!==n}function rt(e,t,n,r,i){return void 0!==i&&(e=r+i*(e-r)),r+n*(e-r)+t}function rn(e,t=0,n=1,r,i){e.min=rt(e.min,t,n,r,i),e.max=rt(e.max,t,n,r,i)}function rr(e,{x:t,y:n}){rn(e.x,t.translate,t.scale,t.originPoint),rn(e.y,n.translate,n.scale,n.originPoint)}function ri(e){return Number.isInteger(e)?e:e>1.0000000000001||e<.999999999999?e:1}function rs(e,t){e.min=e.min+t,e.max=e.max+t}function ra(e,t,[n,r,i]){let s=void 0!==t[i]?t[i]:.5,a=tC(e.min,e.max,s);rn(e,t[n],t[r],a,t.scale)}let ro=["x","scaleX","originX"],rl=["y","scaleY","originY"];function ru(e,t){ra(e.x,t,ro),ra(e.y,t,rl)}function rc(e,t){return n6(function(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}let rh=new WeakMap;class rd{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=n9(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){let{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;let r=e=>{this.stopAnimation(),t&&this.snapToCursor(eM(e,"page").point)},i=(e,t)=>{let{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=eV(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),n3(e=>{let t=this.getAxisMotionValue(e).get()||0;if(G.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let r=n.layout.layoutBox[e];if(r){let e=nH(r);t=e*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&eY.Wi.update(()=>i(e,t),!1,!0);let{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},s=(e,t)=>{let{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openGlobalLock)return;let{offset:a}=t;if(r&&null===this.currentDirection){this.currentDirection=function(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(a),null!==this.currentDirection&&i&&i(this.currentDirection);return}this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},a=(e,t)=>this.stop(e,t);this.panSession=new nU(e,{onSessionStart:r,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){let n=this.isDragging;if(this.cancel(),!n)return;let{velocity:r}=t;this.startAnimation(r);let{onDragEnd:i}=this.getProps();i&&eY.Wi.update(()=>i(e,t))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){let{drag:r}=this.getProps();if(!n||!rf(e,r,this.currentDirection))return;let i=this.getAxisMotionValue(e),s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?tC(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?tC(n,e,r.max):Math.min(e,n)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;e&&c(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=function(e,{top:t,left:n,bottom:r,right:i}){return{x:nQ(e.x,n,i),y:nQ(e.y,t,r)}}(n.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:nJ(e,"left","right"),y:nJ(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&n3(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){let n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!c(t))return!1;let r=t.current;(0,e2.k)(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:i}=this.visualElement;if(!i||!i.layout)return!1;let s=function(e,t,n){let r=rc(e,n),{scroll:i}=t;return i&&(rs(r.x,i.offset.x),rs(r.y,i.offset.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),a={x:nX((e=i.layout.layoutBox).x,s.x),y:nX(e.y,s.y)};if(n){let e=n(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=n6(e))}return a}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=n3(a=>{if(!rf(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});let u={type:"inertia",velocity:n?e[a]:0,bounceStiffness:r?200:1e6,bounceDamping:r?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(a,u)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return n.start(ny(e,n,0,t))}stopAnimation(){n3(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){let t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){n3(t=>{let{drag:n}=this.getProps();if(!rf(t,n,this.currentDirection))return;let{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){let{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-tC(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!c(t)||!n||!this.constraints)return;this.stopAnimation();let r={x:0,y:0};n3(e=>{let t=this.getAxisMotionValue(e);if(t){let n=t.get();r[e]=function(e,t){let n=.5,r=nH(e),i=nH(t);return i>r?n=tG(t.min,t.max-r,e.min):r>i&&(n=tG(e.min,e.max-i,t.min)),L(0,1,n)}({min:n,max:n},this.constraints[e])}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),n3(t=>{if(!rf(t,e,null))return;let n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(tC(i,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;rh.set(this.visualElement,this);let e=this.visualElement.current,t=eA(e,"pointerdown",e=>{let{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),n=()=>{let{dragConstraints:e}=this.getProps();c(e)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),n();let s=eP(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(n3(t=>{let n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{s(),t(),i(),a&&a()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=.35,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function rf(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}let rp=e=>(t,n)=>{e&&eY.Wi.update(()=>e(t,n))},rm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let ry={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!Z.test(e))return e;e=parseFloat(e)}let n=rg(e,t.target.x),r=rg(e,t.target.y);return`${n}% ${r}%`}};class rv extends i.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;Object.assign(D,rb),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),rm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,s=n.projection;return s&&(s.isPresent=i,r||e.layoutDependency!==t||void 0===t?s.willUpdate():this.safeToRemove(),e.isPresent===i||(i?s.promote():s.relegate()||eY.Wi.postRender(()=>{let e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rw(e){let[t,n]=function(){let e=(0,i.useContext)(o.O);if(null===e)return[!0,null];let{isPresent:t,onExitComplete:n,register:r}=e,s=(0,i.useId)();(0,i.useEffect)(()=>r(s),[]);let a=()=>n&&n(s);return!t&&n?[!1,a]:[!0]}(),r=(0,i.useContext)(_.p);return i.createElement(rv,{...e,layoutGroup:r,switchLayoutGroup:(0,i.useContext)(S),isPresent:t,safeToRemove:n})}let rb={borderRadius:{...ry,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ry,borderTopRightRadius:ry,borderBottomLeftRadius:ry,borderBottomRightRadius:ry,boxShadow:{correct:(e,{treeScale:t,projectionDelta:n})=>{let r=tW.parse(e);if(r.length>5)return e;let i=tW.createTransformer(e),s="number"!=typeof r[0]?1:0,a=n.x.scale*t.x,o=n.y.scale*t.y;r[0+s]/=a,r[1+s]/=o;let l=tC(a,o,.5);return"number"==typeof r[2+s]&&(r[2+s]/=l),"number"==typeof r[3+s]&&(r[3+s]/=l),i(r)}}},r_=["TopLeft","TopRight","BottomLeft","BottomRight"],rS=r_.length,rT=e=>"string"==typeof e?parseFloat(e):e,rk=e=>"number"==typeof e||Z.test(e);function rE(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let rD=rx(0,.5,th),rC=rx(.5,.95,eq.Z);function rx(e,t,n){return r=>r<e?0:r>t?1:n(tG(e,t,r))}function rO(e,t){e.min=t.min,e.max=t.max}function rP(e,t){rO(e.x,t.x),rO(e.y,t.y)}function rI(e,t,n,r,i){return e-=t,e=r+1/n*(e-r),void 0!==i&&(e=r+1/i*(e-r)),e}function rM(e,t,[n,r,i],s,a){!function(e,t=0,n=1,r=.5,i,s=e,a=e){if(G.test(t)){t=parseFloat(t);let e=tC(a.min,a.max,t/100);t=e-a.min}if("number"!=typeof t)return;let o=tC(s.min,s.max,r);e===s&&(o-=t),e.min=rI(e.min,t,n,o,i),e.max=rI(e.max,t,n,o,i)}(e,t[n],t[r],t[i],t.scale,s,a)}let rR=["x","scaleX","originX"],rA=["y","scaleY","originY"];function rN(e,t,n,r){rM(e.x,t,rR,n?n.x:void 0,r?r.x:void 0),rM(e.y,t,rA,n?n.y:void 0,r?r.y:void 0)}function rj(e){return 0===e.translate&&1===e.scale}function rL(e){return rj(e.x)&&rj(e.y)}function rF(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function rU(e){return nH(e.x)/nH(e.y)}class rV{constructor(){this.members=[]}add(e){nb(this.members,e),e.scheduleRender()}remove(e){if(n_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t;let n=this.members.findIndex(t=>e===t);if(0===n)return!1;for(let e=n;e>=0;e--){let n=this.members[e];if(!1!==n.isPresent){t=n;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rB(e,t,n){let r="",i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(1!==t.x||1!==t.y)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){let{rotate:e,rotateX:t,rotateY:i}=n;e&&(r+=`rotate(${e}deg) `),t&&(r+=`rotateX(${t}deg) `),i&&(r+=`rotateY(${i}deg) `)}let a=e.x.scale*t.x,o=e.y.scale*t.y;return(1!==a||1!==o)&&(r+=`scale(${a}, ${o})`),r||"none"}let rW=(e,t)=>e.depth-t.depth;class rY{constructor(){this.children=[],this.isDirty=!1}add(e){nb(this.children,e),this.isDirty=!0}remove(e){n_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rW),this.isDirty=!1,this.children.forEach(e)}}let rH=["","X","Y","Z"],rz=0,rq={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function r$({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=null==t?void 0:t()){this.id=rz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{rq.totalNodes=rq.resolvedTargetDeltas=rq.recalculatedProjection=0,this.nodes.forEach(rK),this.nodes.forEach(r2),this.nodes.forEach(r4),this.nodes.forEach(rQ),window.MotionDebug&&window.MotionDebug.record(rq)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new rY)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new nS),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t,n=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;let{layoutId:r,layout:i,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||r)&&(this.isLayoutDirty=!0),e){let n;let r=()=>this.root.updateBlockedByResize=!1;e(t,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){let n=performance.now(),r=({timestamp:i})=>{let s=i-n;s>=t&&((0,eY.Pn)(r),e(s-t))};return eY.Wi.read(r,!0),()=>(0,eY.Pn)(r)}(r,250),rm.hasAnimatedSinceResize&&(rm.hasAnimatedSinceResize=!1,this.nodes.forEach(r1))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&s&&(r||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let i=this.options.transition||s.getDefaultTransition()||r8,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=s.getProps(),l=!this.targetLayout||!rF(this.targetLayout,r)||n,u=!t&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,u);let t={...ng(i,"layout"),onPlay:a,onComplete:o};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||r1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,(0,eY.Pn)(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(r9),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;let r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;let e=this.isUpdateBlocked();if(e){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rJ);return}this.isUpdating&&(this.isUpdating=!1,this.nodes.forEach(r0),this.nodes.forEach(rG),this.nodes.forEach(rZ),this.clearAllSnapshots(),eY.S6.update.process(t3.w),eY.S6.preRender.process(t3.w),eY.S6.render.process(t3.w))}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(rX),this.sharedNodes.forEach(r3)}scheduleUpdateProjection(){eY.Wi.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){eY.Wi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++){let t=this.path[e];t.updateScroll()}let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=n9(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!rL(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&(t||n8(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let n=this.measurePageBox(),r=this.removeElementScroll(n);return e&&(r=this.removeTransform(r)),ie((t=r).x),ie(t.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return n9();let t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(rs(t.x,n.offset.x),rs(t.y,n.offset.y)),t}removeElementScroll(e){let t=n9();rP(t,e);for(let n=0;n<this.path.length;n++){let r=this.path[n],{scroll:i,options:s}=r;if(r!==this.root&&i&&s.layoutScroll){if(i.isRoot){rP(t,e);let{scroll:n}=this.root;n&&(rs(t.x,-n.offset.x),rs(t.y,-n.offset.y))}rs(t.x,i.offset.x),rs(t.y,i.offset.y)}}return t}applyTransform(e,t=!1){let n=n9();rP(n,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&ru(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),n8(r.latestValues)&&ru(n,r.latestValues)}return n8(this.latestValues)&&ru(n,this.latestValues),n}removeTransform(e){let t=n9();rP(t,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];if(!n.instance||!n8(n.latestValues))continue;n7(n.latestValues)&&n.updateSnapshot();let r=n9(),i=n.measurePageBox();rP(r,i),rN(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,r)}return n8(this.latestValues)&&rN(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==t3.w.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t,n,r,i;let s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);let a=!!this.resumingFrom||this!==s,o=!(e||a&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget);if(o)return;let{layout:l,layoutId:u}=this.options;if(this.layout&&(l||u)){if(this.resolvedRelativeTargetAt=t3.w.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=n9(),this.relativeTargetOrigin=n9(),nK(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),rP(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=n9(),this.targetWithTransforms=n9()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),n=this.target,r=this.relativeTarget,i=this.relativeParent.target,nG(n.x,r.x,i.x),nG(n.y,r.y,i.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rP(this.target,this.layout.layoutBox),rr(this.target,this.targetDelta)):rP(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=n9(),this.relativeTargetOrigin=n9(),nK(this.relativeTargetOrigin,this.target,e.target),rP(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}rq.resolvedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||n7(this.parent.latestValues)||re(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;let t=this.getLead(),n=!!this.resumingFrom||this!==t,r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===t3.w.timestamp&&(r=!1),r)return;let{layout:i,layoutId:s}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(i||s))return;rP(this.layoutCorrected,this.layout.layoutBox),function(e,t,n,r=!1){let i,s;let a=n.length;if(a){t.x=t.y=1;for(let o=0;o<a;o++){s=(i=n[o]).projectionDelta;let a=i.instance;(!a||!a.style||"contents"!==a.style.display)&&(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ru(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,rr(e,s)),r&&n8(i.latestValues)&&ru(e,i.latestValues))}t.x=ri(t.x),t.y=ri(t.y)}}(this.layoutCorrected,this.treeScale,this.path,n);let{target:a}=t;if(!a)return;this.projectionDelta||(this.projectionDelta=n2(),this.projectionDeltaWithTransform=n2());let o=this.treeScale.x,l=this.treeScale.y,u=this.projectionTransform;n$(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.projectionTransform=rB(this.projectionDelta,this.treeScale),(this.projectionTransform!==u||this.treeScale.x!==o||this.treeScale.y!==l)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a)),rq.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e,t=!1){let n;let r=this.snapshot,i=r?r.latestValues:{},s={...this.latestValues},a=n2();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=n9(),l=r?r.source:void 0,u=this.layout?this.layout.source:void 0,c=l!==u,h=this.getStack(),d=!h||h.members.length<=1,f=!!(c&&!d&&!0===this.options.crossfade&&!this.path.some(r7));this.animationProgress=0,this.mixTargetDelta=t=>{var r,l;let u=t/1e3;r6(a.x,e.x,u),r6(a.y,e.y,u),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nK(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),r=this.relativeTarget,l=this.relativeTargetOrigin,r5(r.x,l.x,o.x,u),r5(r.y,l.y,o.y,u),n&&rF(this.relativeTarget,n)&&(this.isProjectionDirty=!1),n||(n=n9()),rP(n,this.relativeTarget)),c&&(this.animationValues=s,function(e,t,n,r,i,s){i?(e.opacity=tC(0,void 0!==n.opacity?n.opacity:1,rD(r)),e.opacityExit=tC(void 0!==t.opacity?t.opacity:1,0,rC(r))):s&&(e.opacity=tC(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let i=0;i<rS;i++){let s=`border${r_[i]}Radius`,a=rE(t,s),o=rE(n,s);if(void 0===a&&void 0===o)continue;a||(a=0),o||(o=0);let l=0===a||0===o||rk(a)===rk(o);l?(e[s]=Math.max(tC(rT(a),rT(o),r),0),(G.test(o)||G.test(a))&&(e[s]+="%")):e[s]=o}(t.rotate||n.rotate)&&(e.rotate=tC(t.rotate||0,n.rotate||0,r))}(s,i,this.latestValues,u,f,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=u},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&((0,eY.Pn)(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=eY.Wi.update(()=>{rm.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){let r=P(e)?e:nE(e);return r.start(ny("",r,1e3,n)),r.animation}(0,0,{...e,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&it(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||n9();let t=nH(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;let r=nH(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}rP(t,n),ru(t,i),n$(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new rV);let n=this.sharedNodes.get(e);n.add(t);let r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){var e;let{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;let{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){let r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;let r={};for(let t=0;t<rH.length;t++){let i="rotate"+rH[t];n[i]&&(r[i]=n[i],e.setStaticValue(i,0))}for(let t in e.render(),r)e.setStaticValue(t,r[t]);e.scheduleRender()}getProjectionStyles(e={}){var t,n;let r={};if(!this.instance||this.isSVG)return r;if(!this.isVisible)return{visibility:"hidden"};r.visibility="";let i=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=eD(e.pointerEvents)||"",r.transform=i?i(this.latestValues,""):"none",r;let s=this.getLead();if(!this.projectionDelta||!this.layout||!s.target){let t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=eD(e.pointerEvents)||""),this.hasProjected&&!n8(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}let a=s.animationValues||s.latestValues;this.applyTransformsToTarget(),r.transform=rB(this.projectionDeltaWithTransform,this.treeScale,a),i&&(r.transform=i(a,r.transform));let{x:o,y:l}=this.projectionDelta;for(let e in r.transformOrigin=`${100*o.origin}% ${100*l.origin}% 0`,s.animationValues?r.opacity=s===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=s===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0,D){if(void 0===a[e])continue;let{correct:t,applyTo:n}=D[e],i="none"===r.transform?a[e]:t(a[e],s);if(n){let e=n.length;for(let t=0;t<e;t++)r[n[t]]=i}else r[e]=i}return this.options.layoutId&&(r.pointerEvents=s===this?eD(e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(rJ),this.root.sharedNodes.clear()}}}function rG(e){e.updateLayout()}function rZ(e){var t;let n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){let{layoutBox:t,measuredBox:r}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;"size"===i?n3(e=>{let r=s?n.measuredBox[e]:n.layoutBox[e],i=nH(r);r.min=t[e].min,r.max=r.min+i}):it(i,n.layoutBox,t)&&n3(r=>{let i=s?n.measuredBox[r]:n.layoutBox[r],a=nH(t[r]);i.max=i.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});let a=n2();n$(a,t,n.layoutBox);let o=n2();s?n$(o,e.applyTransform(r,!0),n.measuredBox):n$(o,t,n.layoutBox);let l=!rL(a),u=!1;if(!e.resumeFrom){let r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){let{snapshot:i,layout:s}=r;if(i&&s){let a=n9();nK(a,n.layoutBox,i.layoutBox);let o=n9();nK(o,t,s.layoutBox),rF(a,o)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function rK(e){rq.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function rQ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function rX(e){e.clearSnapshot()}function rJ(e){e.clearMeasurements()}function r0(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function r1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function r2(e){e.resolveTargetDelta()}function r4(e){e.calcProjection()}function r9(e){e.resetRotation()}function r3(e){e.removeLeadSnapshot()}function r6(e,t,n){e.translate=tC(t.translate,0,n),e.scale=tC(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function r5(e,t,n,r){e.min=tC(t.min,n.min,r),e.max=tC(t.max,n.max,r)}function r7(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let r8={duration:.45,ease:[.4,0,.1,1]};function ie(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function it(e,t,n){return"position"===e||"preserve-aspect"===e&&!nz(rU(t),rU(n),.2)}let ir=r$({attachResizeListener:(e,t)=>eP(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ii={current:void 0},is=r$({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ii.current){let e=new ir({});e.mount(window),e.setOptions({layoutScroll:!0}),ii.current=e}return ii.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position}),ia=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function io(e,t,n=1){(0,e2.k)(n<=4,`Max CSS variable fallback depth detected in property "${e}". This may indicate a circular fallback dependency.`);let[r,i]=function(e){let t=ia.exec(e);if(!t)return[,];let[,n,r]=t;return[n,r]}(e);if(!r)return;let s=window.getComputedStyle(t).getPropertyValue(r);return s?s.trim():N(i)?io(i,t,n+1):i}let il=new Set(["width","height","top","left","right","bottom","x","y"]),iu=e=>il.has(e),ic=e=>Object.keys(e).some(iu),ih=e=>e===F||e===Z,id=(e,t)=>parseFloat(e.split(", ")[t]),ip=(e,t)=>(n,{transform:r})=>{if("none"===r||!r)return 0;let i=r.match(/^matrix3d\((.+)\)$/);if(i)return id(i[1],t);{let t=r.match(/^matrix\((.+)\)$/);return t?id(t[1],e):0}},im=new Set(["x","y","z"]),ig=C.filter(e=>!im.has(e)),iy={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:ip(4,13),y:ip(5,14)},iv=(e,t,n)=>{let r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:a}=s,o={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{o[e]=iy[e](r,s)}),t.render();let l=t.measureViewportBox();return n.forEach(n=>{let r=t.getValue(n);r&&r.jump(o[n]),e[n]=iy[n](l,s)}),e},iw=(e,t,n={},r={})=>{t={...t},r={...r};let i=Object.keys(t).filter(iu),s=[],a=!1,o=[];if(i.forEach(i=>{let l;let u=e.getValue(i);if(!e.hasValue(i))return;let c=n[i],h=nx(c),d=t[i];if(eT(d)){let e=d.length,t=null===d[0]?1:0;h=nx(c=d[t]);for(let n=t;n<e&&null!==d[n];n++)l?(0,e2.k)(nx(d[n])===l,"All keyframes must be of the same type"):(l=nx(d[n]),(0,e2.k)(l===h||ih(h)&&ih(l),"Keyframes must be of the same dimension as the current value"))}else l=nx(d);if(h!==l){if(ih(h)&&ih(l)){let e=u.get();"string"==typeof e&&u.set(parseFloat(e)),"string"==typeof d?t[i]=parseFloat(d):Array.isArray(d)&&l===Z&&(t[i]=d.map(parseFloat))}else(null==h?void 0:h.transform)&&(null==l?void 0:l.transform)&&(0===c||0===d)?0===c?u.set(l.transform(c)):t[i]=h.transform(d):(a||(s=function(e){let t=[];return ig.forEach(n=>{let r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),a=!0),o.push(i),r[i]=void 0!==r[i]?r[i]:t[i],u.jump(d))}}),!o.length)return{target:t,transitionEnd:r};{let n=o.indexOf("height")>=0?window.pageYOffset:null,i=iv(t,e,o);return s.length&&s.forEach(([t,n])=>{e.getValue(t).set(n)}),e.render(),b.j&&null!==n&&window.scrollTo({top:n}),{target:i,transitionEnd:r}}},ib=(e,t,n,r)=>{var i,s;let a=function(e,{...t},n){let r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};for(let i in n&&(n={...n}),e.values.forEach(e=>{let t=e.get();if(!N(t))return;let n=io(t,r);n&&e.set(n)}),t){let e=t[i];if(!N(e))continue;let s=io(e,r);s&&(t[i]=s,n||(n={}),void 0===n[i]&&(n[i]=e))}return{target:t,transitionEnd:n}}(e,t,r);return t=a.target,r=a.transitionEnd,i=t,s=r,ic(i)?iw(e,i,n,s):{target:i,transitionEnd:s}},i_={current:null},iS={current:!1},iT=new WeakMap,ik=Object.keys(w),iE=ik.length,iD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],iC=p.length;class ix{constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>eY.Wi.render(this.render,!1,!0);let{latestValues:a,renderState:o}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=o,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.isControllingVariants=m(t),this.isVariantNode=g(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:l,...u}=this.scrapeMotionValuesFromProps(t,{});for(let e in u){let t=u[e];void 0!==a[e]&&P(t)&&(t.set(a[e],!1),nv(l)&&l.add(e))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,iT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),iS.current||function(){if(iS.current=!0,b.j){if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>i_.current=e.matches;e.addListener(t),t()}else i_.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||i_.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in iT.delete(this.current),this.projection&&this.projection.unmount(),(0,eY.Pn)(this.notifyUpdate),(0,eY.Pn)(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[e].clear();for(let e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){let n=x.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&eY.Wi.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),i()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures({children:e,...t},n,r,i){let s,a;for(let e=0;e<iE;e++){let n=ik[e],{isEnabled:r,Feature:i,ProjectionNode:o,MeasureLayout:l}=w[n];o&&(s=o),r(t)&&(!this.features[n]&&i&&(this.features[n]=new i(this)),l&&(a=l))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);let{layoutId:e,layout:n,drag:r,dragConstraints:a,layoutScroll:o,layoutRoot:l}=t;this.projection.setOptions({layoutId:e,layout:n,alwaysMeasureLayout:!!r||a&&c(a),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof n?n:"both",initialPromotionConfig:i,layoutScroll:o,layoutRoot:l})}return a}updateFeatures(){for(let e in this.features){let t=this.features[e];t.isMounted?t.update(this.props,this.prevProps):(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):n9()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<iD.length;t++){let n=iD[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let r=e["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(e,t,n){let{willChange:r}=t;for(let i in t){let s=t[i],a=n[i];if(P(s))e.addValue(i,s),nv(r)&&r.add(i);else if(P(a))e.addValue(i,nE(s,{owner:e})),nv(r)&&r.remove(i);else if(a!==s){if(e.hasValue(i)){let t=e.getValue(i);t.hasAnimated||t.set(s)}else{let t=e.getStaticValue(i);e.addValue(i,nE(void 0!==t?t:s,{owner:e}))}}}for(let r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){let e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}let t={};for(let e=0;e<iC;e++){let n=p[e],r=this.props[n];(h(r)||!1===r)&&(t[n]=r)}return t}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=nE(t,{owner:this}),this.addValue(e,n)),n}readValue(e){return void 0===this.latestValues[e]&&this.current?this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;let{initial:n}=this.props,r="string"==typeof n||"object"==typeof n?null===(t=e_(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;let i=this.getBaseTargetFromProps(this.props,e);return void 0===i||P(i)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:i}on(e,t){return this.events[e]||(this.events[e]=new nS),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class iO extends ix{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:r},i){let s=function(e,t,n){let r={};for(let i in e){let e=function(e,t){if(!t)return;let n=t[e]||t.default||t;return n.from}(i,t);if(void 0!==e)r[i]=e;else{let e=n.getValue(i);e&&(r[i]=e.get())}}return r}(n,e||{},this);if(r&&(t&&(t=r(t)),n&&(n=r(n)),s&&(s=r(s))),i){!function(e,t,n){var r,i;let s=Object.keys(t).filter(t=>!e.hasValue(t)),a=s.length;if(a)for(let o=0;o<a;o++){let a=s[o],l=t[a],u=null;Array.isArray(l)&&(u=l[0]),null===u&&(u=null!==(i=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==i?i:t[a]),null!=u&&("string"==typeof u&&(nw(u)||nm(u))?u=parseFloat(u):!nP(u)&&tW.test(l)&&(u=np(a,l)),e.addValue(a,nE(u,{owner:e})),void 0===n[a]&&(n[a]=u),null!==u&&e.setBaseTarget(a,u))}}(this,n,s);let e=ib(this,n,s,t);t=e.transitionEnd,n=e.target}return{transition:e,transitionEnd:t,...n}}}class iP extends iO{readValueFromInstance(e,t){if(x.has(t)){let e=nf(t);return e&&e.default||0}{let n=window.getComputedStyle(e),r=(A(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return rc(e,t)}build(e,t,n,r){et(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return ew(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;P(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}renderInstance(e,t,n,r){eg(e,t,n,r)}}class iI extends iO{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(x.has(t)){let e=nf(t);return e&&e.default||0}return t=ey.has(t)?t:em(t),e.getAttribute(t)}measureInstanceViewportBox(){return n9()}scrapeMotionValuesFromProps(e,t){return eb(e,t)}build(e,t,n,r){eh(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){ev(e,t,n,r)}mount(e){this.isSVGTag=ef(e.tagName),super.mount(e)}}let iM=(e,t)=>E(e)?new iI(t,{enableHardwareAcceleration:!1}):new iP(t,{enableHardwareAcceleration:!0}),iR={animation:{Feature:class extends eW{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:n})=>(function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){let i=t.map(t=>nM(e,t,n));r=Promise.all(i)}else if("string"==typeof t)r=nM(e,t,n);else{let i="function"==typeof t?e0(e,t,n.custom):t;r=Promise.all(nI(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))})(e,t,n))),n={animate:nj(!0),whileInView:nj(),whileHover:nj(),whileTap:nj(),whileDrag:nj(),whileFocus:nj(),exit:nj()},r=!0,i=(t,n)=>{let r=e0(e,n);if(r){let{transition:e,transitionEnd:n,...i}=r;t={...t,...i,...n}}return t};function s(s,a){let o=e.getProps(),l=e.getVariantContext(!0)||{},u=[],c=new Set,f={},p=1/0;for(let t=0;t<nN;t++){var m;let g=nA[t],y=n[g],v=void 0!==o[g]?o[g]:l[g],w=h(v),b=g===a?y.isActive:null;!1===b&&(p=t);let _=v===l[g]&&v!==o[g]&&w;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),y.protectedKeys={...f},!y.isActive&&null===b||!v&&!y.prevProp||d(v)||"boolean"==typeof v)continue;let S=(m=y.prevProp,"string"==typeof v?v!==m:!!Array.isArray(v)&&!eJ(v,m)),T=S||g===a&&y.isActive&&!_&&w||t>p&&w,k=Array.isArray(v)?v:[v],E=k.reduce(i,{});!1===b&&(E={});let{prevResolvedValues:D={}}=y,C={...D,...E},x=e=>{T=!0,c.delete(e),y.needsAnimating[e]=!0};for(let e in C){let t=E[e],n=D[e];f.hasOwnProperty(e)||(t!==n?eT(t)&&eT(n)?!eJ(t,n)||S?x(e):y.protectedKeys[e]=!0:void 0!==t?x(e):c.add(e):void 0!==t&&c.has(e)?x(e):y.protectedKeys[e]=!0)}y.prevProp=v,y.prevResolvedValues=E,y.isActive&&(f={...f,...E}),r&&e.blockInitialAnimation&&(T=!1),T&&!_&&u.push(...k.map(e=>({animation:e,options:{type:g,...s}})))}if(c.size){let t={};c.forEach(n=>{let r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),u.push({animation:t})}let g=!!u.length;return r&&!1===o.initial&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(u):Promise.resolve()}return{animateChanges:s,setActive:function(t,r,i){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;let o=s(i,t);for(let e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();this.unmount(),d(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends eW{constructor(){super(...arguments),this.id=nL++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;let i=this.node.animationState.setActive("exit",!e,{custom:null!=n?n:this.node.getProps().custom});t&&!e&&i.then(()=>t(this.id))}mount(){let{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}},inView:{Feature:class extends eW{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:eX[r]},a=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,i&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)};return function(e,t,n){let r=function({root:e,...t}){let n=e||document;eZ.has(n)||eZ.set(n,{});let r=eZ.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(eQ,{root:e,...t})),r[i]}(t);return eG.set(e,n),r.observe(e),()=>{eG.delete(e),r.unobserve(e)}}(this.node.current,s,a)}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends eW{constructor(){super(...arguments),this.removeStartListeners=eq.Z,this.removeEndListeners=eq.Z,this.removeAccessibleListeners=eq.Z,this.startPointerPress=(e,t)=>{if(this.removeEndListeners(),this.isPressing)return;let n=this.node.getProps(),r=(e,t)=>{if(!this.checkPressEnd())return;let{onTap:n,onTapCancel:r}=this.node.getProps();eY.Wi.update(()=>{ez(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)})},i=eA(window,"pointerup",r,{passive:!(n.onTap||n.onPointerUp)}),s=eA(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=ej(i,s),this.startPress(e,t)},this.startAccessiblePress=()=>{let e=e=>{if("Enter"!==e.key||this.isPressing)return;let t=e=>{"Enter"===e.key&&this.checkPressEnd()&&e$("up",(e,t)=>{let{onTap:n}=this.node.getProps();n&&eY.Wi.update(()=>n(e,t))})};this.removeEndListeners(),this.removeEndListeners=eP(this.node.current,"keyup",t),e$("down",(e,t)=>{this.startPress(e,t)})},t=eP(this.node.current,"keydown",e),n=()=>{this.isPressing&&e$("cancel",(e,t)=>this.cancelPress(e,t))},r=eP(this.node.current,"blur",n);this.removeAccessibleListeners=ej(t,r)}}startPress(e,t){this.isPressing=!0;let{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&eY.Wi.update(()=>n(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;let e=this.node.getProps();return e.whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!eB()}cancelPress(e,t){if(!this.checkPressEnd())return;let{onTapCancel:n}=this.node.getProps();n&&eY.Wi.update(()=>n(e,t))}mount(){let e=this.node.getProps(),t=eA(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=eP(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ej(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends eW{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ej(eP(this.node.current,"focus",()=>this.onFocus()),eP(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends eW{mount(){this.unmount=ej(eH(this.node,!0),eH(this.node,!1))}unmount(){}}},pan:{Feature:class extends eW{constructor(){super(...arguments),this.removePointerDownListener=eq.Z}onPointerDown(e){this.session=new nU(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:rp(e),onStart:rp(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&eY.Wi.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=eA(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends eW{constructor(e){super(e),this.removeGroupControls=eq.Z,this.removeListeners=eq.Z,this.controls=new rd(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||eq.Z}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:is,MeasureLayout:rw},layout:{ProjectionNode:is,MeasureLayout:rw}},iA=function(e){function t(t,n={}){return function({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:d}){e&&function(e){for(let t in e)w[t]={...w[t],...e[t]}}(e);let f=(0,i.forwardRef)(function(f,p){var g,v;let w;let T={...(0,i.useContext)(s),...f,layoutId:function({layoutId:e}){let t=(0,i.useContext)(_.p).id;return t&&void 0!==e?t+"-"+e:e}(f)},{isStatic:k}=T,E=function(e){let{initial:t,animate:n}=function(e,t){if(m(e)){let{initial:t,animate:n}=e;return{initial:!1===t||h(t)?t:void 0,animate:h(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(a));return(0,i.useMemo)(()=>({initial:t,animate:n}),[y(t),y(n)])}(f),D=r(f,k);if(!k&&b.j){E.visualElement=function(e,t,n,r){let{visualElement:c}=(0,i.useContext)(a),h=(0,i.useContext)(u),d=(0,i.useContext)(o.O),f=(0,i.useContext)(s).reducedMotion,p=(0,i.useRef)();r=r||h.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:c,props:n,presenceContext:d,blockInitialAnimation:!!d&&!1===d.initial,reducedMotionConfig:f}));let m=p.current;(0,i.useInsertionEffect)(()=>{m&&m.update(n,d)}),(0,l.L)(()=>{m&&m.render()}),(0,i.useEffect)(()=>{m&&m.updateFeatures()});let g=window.HandoffAppearAnimations?l.L:i.useEffect;return g(()=>{m&&m.animationState&&m.animationState.animateChanges()}),m}(d,D,T,t);let n=(0,i.useContext)(S),r=(0,i.useContext)(u).strict;E.visualElement&&(w=E.visualElement.loadFeatures(T,r,e,n))}return i.createElement(a.Provider,{value:E},w&&E.visualElement?i.createElement(w,{visualElement:E.visualElement,...T}):null,n(d,f,(g=E.visualElement,v=p,(0,i.useCallback)(e=>{e&&D.mount&&D.mount(e),g&&(e?g.mount(e):g.unmount()),v&&("function"==typeof v?v(e):c(v)&&(v.current=e))},[g])),D,k,E.visualElement))});return f[T]=d,f}(e(t,n))}if("undefined"==typeof Proxy)return t;let n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}((e,t)=>(function(e,{forwardMotionProps:t=!1},n,r){let s=E(e)?ex:eO;return{...s,preloadedFeatures:n,useRender:function(e=!1){let t=(t,n,r,{latestValues:s},a)=>{let o=E(t)?ep:ei,l=o(n,s,a,t),u=function(e,t,n){let r={};for(let i in e)("values"!==i||"object"!=typeof e.values)&&(eo(i)||!0===n&&ea(i)||!t&&!ea(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"==typeof t,e),c={...u,...l,ref:r},{children:h}=n,d=(0,i.useMemo)(()=>P(h)?h.get():h,[h]);return(0,i.createElement)(t,{...c,children:d})};return t}(t),createVisualElement:r,Component:e}})(e,t,iR,iM))},5487:function(e,t,n){"use strict";n.d(t,{K:function(){return i},k:function(){return s}});var r=n(1662);let i=r.Z,s=r.Z},1741:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});let r="undefined"!=typeof document},1662:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=e=>e},6681:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(7294);function i(e){let t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}},8868:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});var r=n(7294),i=n(1741);let s=i.j?r.useLayoutEffect:r.useEffect}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],function(){return t(6840),t(6885)}),_N_E=e.O()}]);